!function(e){function t(t){for(var r,a,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&p.push(s[a][0]),s[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var l=n[i];0!==s[l]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},s={0:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;o.push([1,1]),n()}([,function(e,t,n){e.exports=n(2)},function(e,t,n){"use strict";n.r(t);var r=n(0),s=function(){function e(e){r.G.call(this,e),this.dracoLoader=null,this.ddsLoader=null,this.ktx2Loader=null,this.pluginCallbacks=[],this.register((function(e){return new i(e)})),this.register((function(e){return new c(e)})),this.register((function(e){return new l(e)})),this.register((function(e){return new o(e)}))}function t(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(r.G.prototype),{constructor:e,load:function(e,t,n,s){var o,a=this;o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:r.H.extractUrlBase(e),this.manager.itemStart(e);var i=function(t){s?s(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},l=new r.p(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,(function(n){try{a.parse(n,o,(function(n){t(n),a.manager.itemEnd(e)}),i)}catch(e){i(e)}}),n,i)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},setKTX2Loader:function(e){return this.ktx2Loader=e,this},register:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this},unregister:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this},parse:function(e,t,o,i){var l,c={},d={};if("string"==typeof e)l=e;else if(r.H.decodeText(new Uint8Array(e,0,4))===u){try{c[n.KHR_BINARY_GLTF]=new h(e)}catch(e){return void(i&&i(e))}l=c[n.KHR_BINARY_GLTF].content}else l=r.H.decodeText(new Uint8Array(e));var p=JSON.parse(l);if(void 0===p.asset||p.asset.version[0]<2)i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var v=new B(p,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager,ktx2Loader:this.ktx2Loader});v.fileLoader.setRequestHeader(this.requestHeader);for(var b=0;b<this.pluginCallbacks.length;b++){var T=this.pluginCallbacks[b](v);d[T.name]=T,c[T.name]=!0}if(p.extensionsUsed)for(b=0;b<p.extensionsUsed.length;++b){var w=p.extensionsUsed[b],S=p.extensionsRequired||[];switch(w){case n.KHR_MATERIALS_UNLIT:c[w]=new a;break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:c[w]=new g;break;case n.KHR_DRACO_MESH_COMPRESSION:c[w]=new m(p,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:c[w]=new s(this.ddsLoader);break;case n.KHR_TEXTURE_TRANSFORM:c[w]=new f;break;case n.KHR_MESH_QUANTIZATION:c[w]=new y;break;default:S.indexOf(w)>=0&&void 0===d[w]&&console.warn('THREE.GLTFLoader: Unknown extension "'+w+'".')}}v.setExtensions(c),v.setPlugins(d),v.parse(o,i)}}});var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function s(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=e}function o(e){this.parser=e,this.name=n.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}function a(){this.name=n.KHR_MATERIALS_UNLIT}function i(e){this.parser=e,this.name=n.KHR_MATERIALS_CLEARCOAT}function l(e){this.parser=e,this.name=n.KHR_MATERIALS_TRANSMISSION}function c(e){this.parser=e,this.name=n.KHR_TEXTURE_BASISU}o.prototype._markDefs=function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var s=t[n];s.extensions&&s.extensions[this.name]&&void 0!==s.extensions[this.name].light&&e._addNodeRef(this.cache,s.extensions[this.name].light)}},o.prototype._loadLight=function(e){var t=this.parser,n="light:"+e,s=t.cache.get(n);if(s)return s;var o,a=t.json,i=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],l=new r.k(16777215);void 0!==i.color&&l.fromArray(i.color);var c=void 0!==i.range?i.range:0;switch(i.type){case"directional":(o=new r.l(l)).target.position.set(0,0,-1),o.add(o.target);break;case"point":(o=new r.bb(l)).distance=c;break;case"spot":(o=new r.nb(l)).distance=c,i.spot=i.spot||{},i.spot.innerConeAngle=void 0!==i.spot.innerConeAngle?i.spot.innerConeAngle:0,i.spot.outerConeAngle=void 0!==i.spot.outerConeAngle?i.spot.outerConeAngle:Math.PI/4,o.angle=i.spot.outerConeAngle,o.penumbra=1-i.spot.innerConeAngle/i.spot.outerConeAngle,o.target.position.set(0,0,-1),o.add(o.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+i.type+'".')}return o.position.set(0,0,0),o.decay=2,void 0!==i.intensity&&(o.intensity=i.intensity),o.name=t.createUniqueName(i.name||"light_"+e),s=Promise.resolve(o),t.cache.add(n,s),s},o.prototype.createNodeAttachment=function(e){var t=this,n=this.parser,r=n.json.nodes[e],s=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===s?null:this._loadLight(s).then((function(e){return n._getNodeRef(t.cache,s,e)}))},a.prototype.getMaterialType=function(){return r.M},a.prototype.extendParams=function(e,t,n){var s=[];e.color=new r.k(1,1,1),e.opacity=1;var o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){var a=o.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}void 0!==o.baseColorTexture&&s.push(n.assignTexture(e,"map",o.baseColorTexture))}return Promise.all(s)},i.prototype.getMaterialType=function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.P:null},i.prototype.extendMaterialParams=function(e,t){var n=this.parser,s=n.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();var o=[],a=s.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&o.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&o.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(o.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var i=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new r.sb(i,i)}return Promise.all(o)},l.prototype.getMaterialType=function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.P:null},l.prototype.extendMaterialParams=function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var s=[],o=r.extensions[this.name];return void 0!==o.transmissionFactor&&(t.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&s.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)},c.prototype.loadTexture=function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var s=r.extensions[this.name],o=n.images[s.source],a=t.options.ktx2Loader;if(!a)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return t.loadTextureImage(e,o,a)};var u="glTF",d=1313821514,p=5130562;function h(e){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,12);if(this.header={magic:r.H.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==u)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var s=new DataView(e,12),o=0;o<s.byteLength;){var a=s.getUint32(o,!0);o+=4;var i=s.getUint32(o,!0);if(o+=4,i===d){var l=new Uint8Array(e,12+o,a);this.content=r.H.decodeText(l)}else if(i===p){var c=12+o;this.body=e.slice(c,c+a)}o+=a}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function m(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function f(){this.name=n.KHR_TEXTURE_TRANSFORM}function v(e){r.Q.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),s=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),o=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),a=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),i={specular:{value:(new r.k).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=i,this.onBeforeCompile=function(e){for(var r in i)e.uniforms[r]=i[r];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",s).replace("#include <metalnessmap_fragment>",o).replace("#include <lights_physical_fragment>",a)},Object.defineProperties(this,{specular:{get:function(){return i.specular.value},set:function(e){i.specular.value=e}},specularMap:{get:function(){return i.specularMap.value},set:function(e){i.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return i.glossiness.value},set:function(e){i.glossiness.value=e}},glossinessMap:{get:function(){return i.glossinessMap.value},set:function(e){i.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function g(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return v},extendParams:function(e,t,n){var s=t.extensions[this.name];e.color=new r.k(1,1,1),e.opacity=1;var o=[];if(Array.isArray(s.diffuseFactor)){var a=s.diffuseFactor;e.color.fromArray(a),e.opacity=a[3]}if(void 0!==s.diffuseTexture&&o.push(n.assignTexture(e,"map",s.diffuseTexture)),e.emissive=new r.k(0,0,0),e.glossiness=void 0!==s.glossinessFactor?s.glossinessFactor:1,e.specular=new r.k(1,1,1),Array.isArray(s.specularFactor)&&e.specular.fromArray(s.specularFactor),void 0!==s.specularGlossinessTexture){var i=s.specularGlossinessTexture;o.push(n.assignTexture(e,"glossinessMap",i)),o.push(n.assignTexture(e,"specularMap",i))}return Promise.all(o)},createMaterial:function(e){var t=new v(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=r.ob,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function y(){this.name=n.KHR_MESH_QUANTIZATION}function b(e,t,n,s){r.w.call(this,e,t,n,s)}m.prototype.decodePrimitive=function(e,t){var n=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},i={},l={};for(var c in o){var u=O[c]||c.toLowerCase();a[u]=o[c]}for(c in e.attributes){u=O[c]||c.toLowerCase();if(void 0!==o[c]){var d=n.accessors[e.attributes[c]],p=_[d.componentType];l[u]=p,i[u]=!0===d.normalized}}return t.getDependency("bufferView",s).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],s=i[n];void 0!==s&&(r.normalized=s)}t(e)}),a,l)}))}))},f.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},v.prototype=Object.create(r.Q.prototype),v.prototype.constructor=v,v.prototype.copy=function(e){return r.Q.prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},b.prototype=Object.create(r.w.prototype),b.prototype.constructor=b,b.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r*3+r,o=0;o!==r;o++)t[o]=n[s+o];return t},b.prototype.beforeStart_=b.prototype.copySampleValue_,b.prototype.afterEnd_=b.prototype.copySampleValue_,b.prototype.interpolate_=function(e,t,n,r){for(var s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,i=2*a,l=3*a,c=r-t,u=(n-t)/c,d=u*u,p=d*u,h=e*l,m=h-l,f=-2*p+3*d,v=p-d,g=1-f,y=v-d+u,b=0;b!==a;b++){var T=o[m+b+a],w=o[m+b+i]*c,S=o[h+b+a],E=o[h+b]*c;s[b]=g*T+y*w+f*S+v*E}return s};var T=0,w=1,S=2,E=3,x=4,R=5,M=6,_={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},L={9728:r.S,9729:r.D,9984:r.U,9985:r.F,9986:r.T,9987:r.E},I={33071:r.i,33648:r.R,10497:r.ib},A={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},O={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},N={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},P={CUBICSPLINE:void 0,LINEAR:r.y,STEP:r.x},U="OPAQUE",k="MASK",C="BLEND";function D(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function H(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function F(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function G(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var s=t.extras.targetNames;if(e.morphTargetInfluences.length===s.length){e.morphTargetDictionary={};for(n=0,r=s.length;n<r;n++)e.morphTargetDictionary[s[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function j(e){for(var t="",n=Object.keys(e).sort(),r=0,s=n.length;r<s;r++)t+=n[r]+":"+e[n[r]]+";";return t}function B(e,n){this.json=e||{},this.extensions={},this.plugins={},this.options=n||{},this.cache=new t,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new r.t(this.options.manager):this.textureLoader=new r.pb(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new r.p(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function K(e,t,n){var s=t.attributes,o=[];function a(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var i in s){var l=O[i]||i.toLowerCase();l in e.attributes||o.push(a(s[i],l))}if(void 0!==t.indices&&!e.index){var c=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));o.push(c)}return F(e,t),function(e,t,n){var s=t.attributes,o=new r.d;if(void 0!==s.POSITION){var a=(m=n.json.accessors[s.POSITION]).min,i=m.max;if(void 0!==a&&void 0!==i){o.set(new r.tb(a[0],a[1],a[2]),new r.tb(i[0],i[1],i[2]));var l=t.targets;if(void 0!==l){for(var c=new r.tb,u=new r.tb,d=0,p=l.length;d<p;d++){var h=l[d];if(void 0!==h.POSITION){var m;a=(m=n.json.accessors[h.POSITION]).min,i=m.max;void 0!==a&&void 0!==i?(u.setX(Math.max(Math.abs(a[0]),Math.abs(i[0]))),u.setY(Math.max(Math.abs(a[1]),Math.abs(i[1]))),u.setZ(Math.max(Math.abs(a[2]),Math.abs(i[2]))),c.max(u)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(c)}e.boundingBox=o;var f=new r.mb;o.getCenter(f.center),f.radius=o.min.distanceTo(o.max)/2,e.boundingSphere=f}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(o).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,s=!1,o=0,a=t.length;o<a;o++){if(void 0!==(c=t[o]).POSITION&&(r=!0),void 0!==c.NORMAL&&(s=!0),r&&s)break}if(!r&&!s)return Promise.resolve(e);var i=[],l=[];for(o=0,a=t.length;o<a;o++){var c=t[o];if(r){var u=void 0!==c.POSITION?n.getDependency("accessor",c.POSITION):e.attributes.position;i.push(u)}if(s){u=void 0!==c.NORMAL?n.getDependency("accessor",c.NORMAL):e.attributes.normal;l.push(u)}}return Promise.all([Promise.all(i),Promise.all(l)]).then((function(t){var n=t[0],o=t[1];return r&&(e.morphAttributes.position=n),s&&(e.morphAttributes.normal=o),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function V(e,t){var n=e.getIndex();if(null===n){var s=[],o=e.getAttribute("position");if(void 0===o)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<o.count;a++)s.push(a);e.setIndex(s),n=e.getIndex()}var i=n.count-2,l=[];if(t===r.qb)for(a=1;a<=i;a++)l.push(n.getX(0)),l.push(n.getX(a)),l.push(n.getX(a+1));else for(a=0;a<i;a++)a%2==0?(l.push(n.getX(a)),l.push(n.getX(a+1)),l.push(n.getX(a+2))):(l.push(n.getX(a+2)),l.push(n.getX(a+1)),l.push(n.getX(a)));l.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(l),c}return B.prototype.setExtensions=function(e){this.extensions=e},B.prototype.setPlugins=function(e){this.plugins=e},B.prototype.parse=function(e,t){var n=this,r=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(t){var o={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};H(s,o,r),F(o,r),e(o)})).catch(t)},B.prototype._markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,s=t.length;r<s;r++)for(var o=t[r].joints,a=0,i=o.length;a<i;a++)e[o[a]].isBone=!0;for(var l=0,c=e.length;l<c;l++){var u=e[l];void 0!==u.mesh&&(this._addNodeRef(this.meshCache,u.mesh),void 0!==u.skin&&(n[u.mesh].isSkinnedMesh=!0)),void 0!==u.camera&&this._addNodeRef(this.cameraCache,u.camera)}},B.prototype._addNodeRef=function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)},B.prototype._getNodeRef=function(e,t,n){if(e.refs[t]<=1)return n;var r=n.clone();return r.name+="_instance_"+e.uses[t]++,r},B.prototype._invokeOne=function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}},B.prototype._invokeAll=function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var s=e(t[r]);s&&n.push(s)}return n},B.prototype.getDependency=function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this.loadAnimation(t);break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r},B.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t},B.prototype.loadBuffer=function(e){var t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var s=this.options;return new Promise((function(e,n){r.load(D(t.uri,s.path),e,void 0,(function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},B.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))},B.prototype.loadAccessor=function(e){var t=this,n=this.json,s=this.json.accessors[e];if(void 0===s.bufferView&&void 0===s.sparse)return Promise.resolve(null);var o=[];return void 0!==s.bufferView?o.push(this.getDependency("bufferView",s.bufferView)):o.push(null),void 0!==s.sparse&&(o.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(o).then((function(e){var o,a,i=e[0],l=A[s.type],c=_[s.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,p=s.byteOffset||0,h=void 0!==s.bufferView?n.bufferViews[s.bufferView].byteStride:void 0,m=!0===s.normalized;if(h&&h!==d){var f=Math.floor(p/h),v="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+f+":"+s.count,g=t.cache.get(v);g||(o=new c(i,f*h,s.count*h/u),g=new r.u(o,h/u),t.cache.add(v,g)),a=new r.v(g,l,p%h/u,m)}else o=null===i?new c(s.count*l):new c(i,p,s.count*l),a=new r.f(o,l,m);if(void 0!==s.sparse){var y=A.SCALAR,b=_[s.sparse.indices.componentType],T=s.sparse.indices.byteOffset||0,w=s.sparse.values.byteOffset||0,S=new b(e[1],T,s.sparse.count*y),E=new c(e[2],w,s.sparse.count*l);null!==i&&(a=new r.f(a.array.slice(),a.itemSize,a.normalized));for(var x=0,R=S.length;x<R;x++){var M=S[x];if(a.setX(M,E[x*l]),l>=2&&a.setY(M,E[x*l+1]),l>=3&&a.setZ(M,E[x*l+2]),l>=4&&a.setW(M,E[x*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))},B.prototype.loadTexture=function(e){var t,r,s=this.json,o=this.options,a=s.textures[e],i=a.extensions||{};return(t=i[n.MSFT_TEXTURE_DDS]?s.images[i[n.MSFT_TEXTURE_DDS].source]:s.images[a.source]).uri&&(r=o.manager.getHandler(t.uri)),r||(r=i[n.MSFT_TEXTURE_DDS]?this.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:this.textureLoader),this.loadTextureImage(e,t,r)},B.prototype.loadTextureImage=function(e,t,n){var s=this,o=this.json,a=this.options,i=o.textures[e],l=self.URL||self.webkitURL,c=t.uri,u=!1,d=!0;return"image/jpeg"===t.mimeType&&(d=!1),void 0!==t.bufferView&&(c=s.getDependency("bufferView",t.bufferView).then((function(e){if("image/png"===t.mimeType){var n=new DataView(e,25,1).getUint8(0,!1);d=6===n||4===n||3===n}u=!0;var r=new Blob([e],{type:t.mimeType});return c=l.createObjectURL(r)}))),Promise.resolve(c).then((function(e){return new Promise((function(t,s){var o=t;!0===n.isImageBitmapLoader&&(o=function(e){t(new r.h(e))}),n.load(D(e,a.path),o,void 0,s)}))})).then((function(t){!0===u&&l.revokeObjectURL(c),t.flipY=!1,i.name&&(t.name=i.name),d||(t.format=r.gb);var n=(o.samplers||{})[i.sampler]||{};return t.magFilter=L[n.magFilter]||r.D,t.minFilter=L[n.minFilter]||r.E,t.wrapS=I[n.wrapS]||r.ib,t.wrapT=I[n.wrapT]||r.ib,s.associations.set(t,{type:"textures",index:e}),t}))},B.prototype.assignTexture=function(e,t,r){var s=this;return this.getDependency("texture",r.index).then((function(o){if(void 0===r.texCoord||0==r.texCoord||"aoMap"===t&&1==r.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),s.extensions[n.KHR_TEXTURE_TRANSFORM]){var a=void 0!==r.extensions?r.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;if(a){var i=s.associations.get(o);o=s.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,i)}}e[t]=o}))},B.prototype.assignFinalMaterial=function(e){var t=e.geometry,n=e.material,s=void 0!==t.attributes.tangent,o=void 0!==t.attributes.color,a=void 0===t.attributes.normal,i=!0===e.isSkinnedMesh,l=Object.keys(t.morphAttributes).length>0,c=l&&void 0!==t.morphAttributes.normal;if(e.isPoints){var u="PointsMaterial:"+n.uuid,d=this.cache.get(u);d||(d=new r.db,r.I.prototype.copy.call(d,n),d.color.copy(n.color),d.map=n.map,d.sizeAttenuation=!1,this.cache.add(u,d)),n=d}else if(e.isLine){u="LineBasicMaterial:"+n.uuid;var p=this.cache.get(u);p||(p=new r.A,r.I.prototype.copy.call(p,n),p.color.copy(n.color),this.cache.add(u,p)),n=p}if(s||o||a||i||l){u="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(u+="specular-glossiness:"),i&&(u+="skinning:"),s&&(u+="vertex-tangents:"),o&&(u+="vertex-colors:"),a&&(u+="flat-shading:"),l&&(u+="morph-targets:"),c&&(u+="morph-normals:");var h=this.cache.get(u);h||(h=n.clone(),i&&(h.skinning=!0),s&&(h.vertexTangents=!0),o&&(h.vertexColors=!0),a&&(h.flatShading=!0),l&&(h.morphTargets=!0),c&&(h.morphNormals=!0),this.cache.add(u,h),this.associations.set(h,this.associations.get(n))),n=h}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),n.normalScale&&!s&&(n.normalScale.y=-n.normalScale.y),n.clearcoatNormalScale&&!s&&(n.clearcoatNormalScale.y=-n.clearcoatNormalScale.y),e.material=n},B.prototype.getMaterialType=function(){return r.Q},B.prototype.loadMaterial=function(e){var t,s=this,o=this.json,a=this.extensions,i=o.materials[e],l={},c=i.extensions||{},u=[];if(c[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var d=a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=d.getMaterialType(),u.push(d.extendParams(l,i,s))}else if(c[n.KHR_MATERIALS_UNLIT]){var p=a[n.KHR_MATERIALS_UNLIT];t=p.getMaterialType(),u.push(p.extendParams(l,i,s))}else{var h=i.pbrMetallicRoughness||{};if(l.color=new r.k(1,1,1),l.opacity=1,Array.isArray(h.baseColorFactor)){var m=h.baseColorFactor;l.color.fromArray(m),l.opacity=m[3]}void 0!==h.baseColorTexture&&u.push(s.assignTexture(l,"map",h.baseColorTexture)),l.metalness=void 0!==h.metallicFactor?h.metallicFactor:1,l.roughness=void 0!==h.roughnessFactor?h.roughnessFactor:1,void 0!==h.metallicRoughnessTexture&&(u.push(s.assignTexture(l,"metalnessMap",h.metallicRoughnessTexture)),u.push(s.assignTexture(l,"roughnessMap",h.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),u.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,l)}))))}!0===i.doubleSided&&(l.side=r.m);var f=i.alphaMode||U;return f===C?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,f===k&&(l.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&t!==r.M&&(u.push(s.assignTexture(l,"normalMap",i.normalTexture)),l.normalScale=new r.sb(1,1),void 0!==i.normalTexture.scale&&l.normalScale.set(i.normalTexture.scale,i.normalTexture.scale)),void 0!==i.occlusionTexture&&t!==r.M&&(u.push(s.assignTexture(l,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(l.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&t!==r.M&&(l.emissive=(new r.k).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&t!==r.M&&u.push(s.assignTexture(l,"emissiveMap",i.emissiveTexture)),Promise.all(u).then((function(){var o;return o=t===v?a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(l):new t(l),i.name&&(o.name=i.name),o.map&&(o.map.encoding=r.wb),o.emissiveMap&&(o.emissiveMap.encoding=r.wb),F(o,i),s.associations.set(o,{type:"materials",index:e}),i.extensions&&H(a,o,i),o}))},B.prototype.createUniqueName=function(e){for(var t=r.eb.sanitizeNodeName(e||""),n=1;this.nodeNamesUsed[t];++n)t=e+"_"+n;return this.nodeNamesUsed[t]=!0,t},B.prototype.loadGeometries=function(e){var t=this,s=this.extensions,o=this.primitiveCache;function a(e){return s[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return K(n,e,t)}))}for(var i,l,c=[],u=0,d=e.length;u<d;u++){var p,h=e[u],m=(l=void 0,(l=(i=h).extensions&&i.extensions[n.KHR_DRACO_MESH_COMPRESSION])?"draco:"+l.bufferView+":"+l.indices+":"+j(l.attributes):i.indices+":"+j(i.attributes)+":"+i.mode),f=o[m];if(f)c.push(f.promise);else p=h.extensions&&h.extensions[n.KHR_DRACO_MESH_COMPRESSION]?a(h):K(new r.g,h,t),o[m]={primitive:h,promise:p},c.push(p)}return Promise.all(c)},B.prototype.loadMesh=function(e){for(var t,n=this,s=this.json.meshes[e],o=s.primitives,a=[],i=0,l=o.length;i<l;i++){var c=void 0===o[i].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new r.Q({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:r.r})),t.DefaultMaterial):this.getDependency("material",o[i].material);a.push(c)}return a.push(n.loadGeometries(o)),Promise.all(a).then((function(t){for(var a=t.slice(0,t.length-1),i=t[t.length-1],l=[],c=0,u=i.length;c<u;c++){var d,p=i[c],h=o[c],m=a[c];if(h.mode===x||h.mode===R||h.mode===M||void 0===h.mode)!0!==(d=!0===s.isSkinnedMesh?new r.lb(p,m):new r.L(p,m)).isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),h.mode===R?d.geometry=V(d.geometry,r.rb):h.mode===M&&(d.geometry=V(d.geometry,r.qb));else if(h.mode===w)d=new r.C(p,m);else if(h.mode===E)d=new r.z(p,m);else if(h.mode===S)d=new r.B(p,m);else{if(h.mode!==T)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);d=new r.cb(p,m)}Object.keys(d.geometry.morphAttributes).length>0&&G(d,s),d.name=n.createUniqueName(s.name||"mesh_"+e),i.length>1&&(d.name+="_"+c),F(d,s),n.assignFinalMaterial(d),l.push(d)}if(1===l.length)return l[0];var f=new r.s;for(c=0,u=l.length;c<u;c++)f.add(l[c]);return f}))},B.prototype.loadCamera=function(e){var t,n=this.json.cameras[e],s=n[n.type];if(s)return"perspective"===n.type?t=new r.Z(r.J.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):"orthographic"===n.type&&(t=new r.X(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),F(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},B.prototype.loadSkin=function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))},B.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],n=[],s=[],o=[],a=[],i=[],l=0,c=t.channels.length;l<c;l++){var u=t.channels[l],d=t.samplers[u.sampler],p=u.target,h=void 0!==p.node?p.node:p.id,m=void 0!==t.parameters?t.parameters[d.input]:d.input,f=void 0!==t.parameters?t.parameters[d.output]:d.output;n.push(this.getDependency("node",h)),s.push(this.getDependency("accessor",m)),o.push(this.getDependency("accessor",f)),a.push(d),i.push(p)}return Promise.all([Promise.all(n),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(i)]).then((function(n){for(var s=n[0],o=n[1],a=n[2],i=n[3],l=n[4],c=[],u=0,d=s.length;u<d;u++){var p=s[u],h=o[u],m=a[u],f=i[u],v=l[u];if(void 0!==p){var g;switch(p.updateMatrix(),p.matrixAutoUpdate=!0,N[v.path]){case N.weights:g=r.V;break;case N.rotation:g=r.fb;break;case N.position:case N.scale:default:g=r.ub}var y=p.name?p.name:p.uuid,T=void 0!==f.interpolation?P[f.interpolation]:r.y,w=[];N[v.path]===N.weights?p.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&w.push(e.name?e.name:e.uuid)})):w.push(y);var S=m.array;if(m.normalized){var E;if(S.constructor===Int8Array)E=1/127;else if(S.constructor===Uint8Array)E=1/255;else if(S.constructor==Int16Array)E=1/32767;else{if(S.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");E=1/65535}for(var x=new Float32Array(S.length),R=0,M=S.length;R<M;R++)x[R]=S[R]*E;S=x}for(R=0,M=w.length;R<M;R++){var _=new g(w[R]+"."+N[v.path],h.array,S,T);"CUBICSPLINE"===f.interpolation&&(_.createInterpolant=function(e){return new b(this.times,this.values,this.getValueSize()/3,e)},_.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(_)}}}var L=t.name?t.name:"animation_"+e;return new r.b(L,void 0,c)}))},B.prototype.loadNode=function(e){var t,n=this.json,s=this.extensions,o=this,a=n.nodes[e],i=a.name?o.createUniqueName(a.name):"";return(t=[],void 0!==a.mesh&&t.push(o.getDependency("mesh",a.mesh).then((function(e){var t=o._getNodeRef(o.meshCache,a.mesh,e);return void 0!==a.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=a.weights.length;t<n;t++)e.morphTargetInfluences[t]=a.weights[t]})),t}))),void 0!==a.camera&&t.push(o.getDependency("camera",a.camera).then((function(e){return o._getNodeRef(o.cameraCache,a.camera,e)}))),o._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)).then((function(t){var n;if((n=!0===a.isBone?new r.c:t.length>1?new r.s:1===t.length?t[0]:new r.W)!==t[0])for(var l=0,c=t.length;l<c;l++)n.add(t[l]);if(a.name&&(n.userData.name=a.name,n.name=i),F(n,a),a.extensions&&H(s,n,a),void 0!==a.matrix){var u=new r.K;u.fromArray(a.matrix),n.applyMatrix4(u)}else void 0!==a.translation&&n.position.fromArray(a.translation),void 0!==a.rotation&&n.quaternion.fromArray(a.rotation),void 0!==a.scale&&n.scale.fromArray(a.scale);return o.associations.set(n,{type:"nodes",index:e}),n}))},B.prototype.loadScene=function(){function e(t,n,s,o){var a=s.nodes[t];return o.getDependency("node",t).then((function(e){return void 0===a.skin?e:o.getDependency("skin",a.skin).then((function(e){for(var n=[],r=0,s=(t=e).joints.length;r<s;r++)n.push(o.getDependency("node",t.joints[r]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var s=[],o=[],a=0,i=n.length;a<i;a++){var l=n[a];if(l){s.push(l);var c=new r.K;void 0!==t.inverseBindMatrices&&c.fromArray(t.inverseBindMatrices.array,16*a),o.push(c)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}e.bind(new r.kb(s,o),e.matrixWorld)}})),e}));var t})).then((function(t){n.add(t);var r=[];if(a.children)for(var i=a.children,l=0,c=i.length;l<c;l++){var u=i[l];r.push(e(u,t,s,o))}return Promise.all(r)}))}return function(t){var n=this.json,s=this.extensions,o=this.json.scenes[t],a=new r.s;o.name&&(a.name=this.createUniqueName(o.name)),F(a,o),o.extensions&&H(s,a,o);for(var i=o.nodes||[],l=[],c=0,u=i.length;c<u;c++)l.push(e(i[c],a,n,this));return Promise.all(l).then((function(){return a}))}}(),e}(),o=function(e,t){void 0===t&&(console.warn('THREE.PointerLockControls: The second parameter "domElement" is now mandatory.'),t=document.body),this.domElement=t,this.isLocked=!1,this.minPolarAngle=0,this.maxPolarAngle=Math.PI;var n,s=this,o={type:"change"},a={type:"lock"},i={type:"unlock"},l=new r.n(0,0,0,"YXZ"),c=Math.PI/2,u=new r.tb;function d(t){if(!1!==s.isLocked){var n=t.movementX||t.mozMovementX||t.webkitMovementX||0,r=t.movementY||t.mozMovementY||t.webkitMovementY||0;l.setFromQuaternion(e.quaternion),l.y-=.002*n,l.x-=.002*r,l.x=Math.max(c-s.maxPolarAngle,Math.min(c-s.minPolarAngle,l.x)),e.quaternion.setFromEuler(l),s.dispatchEvent(o)}}function p(){s.domElement.ownerDocument.pointerLockElement===s.domElement?(s.dispatchEvent(a),s.isLocked=!0):(s.dispatchEvent(i),s.isLocked=!1)}function h(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}this.connect=function(){s.domElement.ownerDocument.addEventListener("mousemove",d,!1),s.domElement.ownerDocument.addEventListener("pointerlockchange",p,!1),s.domElement.ownerDocument.addEventListener("pointerlockerror",h,!1)},this.disconnect=function(){s.domElement.ownerDocument.removeEventListener("mousemove",d,!1),s.domElement.ownerDocument.removeEventListener("pointerlockchange",p,!1),s.domElement.ownerDocument.removeEventListener("pointerlockerror",h,!1)},this.dispose=function(){this.disconnect()},this.getObject=function(){return e},this.getDirection=(n=new r.tb(0,0,-1),function(t){return t.copy(n).applyQuaternion(e.quaternion)}),this.moveForward=function(t){u.setFromMatrixColumn(e.matrix,0),u.crossVectors(e.up,u),e.position.addScaledVector(u,t)},this.moveRight=function(t){u.setFromMatrixColumn(e.matrix,0),e.position.addScaledVector(u,t)},this.lock=function(){this.domElement.requestPointerLock()},this.unlock=function(){s.domElement.ownerDocument.exitPointerLock()},this.connect()};(o.prototype=Object.create(r.o.prototype)).constructor=o;var a={SCREEN_WIDTH:window.innerWidth,SCREEN_HEIGHT:window.innerHeight,BACKGROUND_COLOR:14217983,SUNSHINE_COLOR:15654053,WHITE:16777215,SIZE_GROUND:3e3,REAPEAT:64,N_TREE:300,N_CLOUDS:100,N_ANIMALS:10,INITAL_POSITION:{x:0,y:10,z:0},VISITOR:{color:14731677,movementSpeed:5,mass:100}};var i=class{constructor(e,t,n){this.imagePath=n,this.height=e,this.width=e,this.repeat=t,this._ground=null}create(){let e=(new r.pb).load(this.imagePath),t=new r.ab(this.height,this.width),n=new r.O({color:16777215,map:e}),s=new r.L(t,n);return s.rotation.x=-Math.PI/2,s.material.map.repeat.set(this.repeat,this.repeat),s.receiveShadow=!0,this._ground=s,s}};class l{constructor(e,t,n,r){this.geometry=e,this.color=t,this.position=n,this.scale=r}create(){let e=new r.N({color:this.color}),t=new r.L(this.geometry,e);return t.position.set(this.position[0],this.position[1],this.position[2]),t.scale.set(this.scale[0],this.scale[1],this.scale[2]),t}}function c(){let e=9561454,t=10682234,n=8215119,s=new r.e(1,1,1),o=new l(s,e,[.5,1.6,.5],[.8,.8,.8]);o=o.create();let a=new l(s,e,[-.4,1.3,-.4],[.7,.7,.7]);a=a.create();let i=new l(s,e,[.4,1.3,-.5],[.7,.7,.7]);i=i.create();let c=new l(s,e,[0,1.2,0],[1,2,1]);c=c.create();let u=new l(s,t,[0,1.2,0],[1.1,.5,1.1]);u=u.create();let d=new l(s,n,[0,0,0],[.3,1.5,.3]);d=d.create(),d.name="stem";let p=new r.s;return p.add(o),p.add(a),p.add(i),p.add(c),p.add(u),p.add(d),p}function u(e){(function(e){let t=[];const n=37/(a.SIZE_GROUND/50);for(let r=0;r<e;r++){let e=c(),r=50+50*Math.random(),s=Math.random()*(a.SIZE_GROUND-200)+(-a.SIZE_GROUND/2+100),o=n*(a.SIZE_GROUND/r),i=Math.random()*(-400-(a.SIZE_GROUND/2-100)-0)- -400;e.position.set(s,o,i),e.scale.set(a.SIZE_GROUND/r,a.SIZE_GROUND/r,a.SIZE_GROUND/r),t.push(e)}return t})(a.N_TREE).forEach(t=>{t.castShadow=!0,e.scene.add(t),e.collidableMeshList.push(t)})}var d=n.p+"2a4390562293c3c502f4999cc873d3d0.png";var p=n.p+"875aa0d47a51d44f79d5d4e042c36628.glb",h=n.p+"3121211aa0edd258000b825146e33a90.glb",m=n.p+"a1ad977363cc5a0396a5906495b47f41.glb",f=n.p+"b688b694e490d398b3fe86efe2c07dc6.glb";const v=[n.p+"7b143a0403cc09abc165bf86bd56e4d6.glb",n.p+"97dc77138db10b1782aab7ad55d4fb1b.glb",n.p+"cf87f94614876dc2908fe57b39d2133a.glb",n.p+"4e0c4ff8e652c1d8f8832df4ee4a9867.glb",n.p+"1e69926562e5e14f0db34d0f5fe2f322.glb",n.p+"1a28efbd57d9179b8eec354b0193e27b.glb",n.p+"9b93c6f42d2a1e6a89d29c0e3a34135f.glb",n.p+"af37f414d3859aa23fc5b46831f2dc00.glb",n.p+"a909f6d801819cb4ed03e779ea6a059c.glb"];var g=class{constructor(e,t,n,r){this.height=t,this.width=n,this.depth=r,this.color=e,this._visitor=null}create(){var e=new r.e(this.width,this.height,this.depth),t=new r.M({color:this.color}),n=new r.L(e,t);return this._visitor=n,n}};var y=function(){var e=0,t=document.createElement("div");function n(e){return t.appendChild(e.dom),e}function r(n){for(var r=0;r<t.children.length;r++)t.children[r].style.display=r===n?"block":"none";e=n}t.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",t.addEventListener("click",(function(n){n.preventDefault(),r(++e%t.children.length)}),!1);var s=(performance||Date).now(),o=s,a=0,i=n(new y.Panel("FPS","#0ff","#002")),l=n(new y.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=n(new y.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:t,addPanel:n,showPanel:r,begin:function(){s=(performance||Date).now()},end:function(){a++;var e=(performance||Date).now();if(l.update(e-s,200),e>=o+1e3&&(i.update(1e3*a/(e-o),100),o=e,a=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){s=this.end()},domElement:t,setMode:r}};y.Panel=function(e,t,n){var r=1/0,s=0,o=Math.round,a=o(window.devicePixelRatio||1),i=80*a,l=48*a,c=3*a,u=2*a,d=3*a,p=15*a,h=74*a,m=30*a,f=document.createElement("canvas");f.width=i,f.height=l,f.style.cssText="width:80px;height:48px";var v=f.getContext("2d");return v.font="bold "+9*a+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=n,v.fillRect(0,0,i,l),v.fillStyle=t,v.fillText(e,c,u),v.fillRect(d,p,h,m),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(d,p,h,m),{dom:f,update:function(l,g){r=Math.min(r,l),s=Math.max(s,l),v.fillStyle=n,v.globalAlpha=1,v.fillRect(0,0,i,p),v.fillStyle=t,v.fillText(o(l)+" "+e+" ("+o(r)+"-"+o(s)+")",c,u),v.drawImage(f,d+a,p,h-a,m,d,p,h-a,m),v.fillRect(d+h-a,p,a,m),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(d+h-a,p,a,o((1-l/g)*m))}}};var b=y;var T=class{constructor(e,t,n,r,s){this.x=e,this.y=t,this.z=n,this.color=r,this.intensity=s,this._light=null}create(){let e=new r.l(this.color,this.intensity);return e.position.set(this.x,this.y,this.z),e.castShadow=!0,e.shadow.mapSize.width=1024,e.shadow.mapSize.height=512,e.shadow.camera.near=100,e.shadow.camera.far=1200,e.shadow.camera.left=-1e3,e.shadow.camera.right=1e3,e.shadow.camera.top=-350,e.shadow.camera.bottom=350,this._light=e,e}};let w,S=new r.j,E=new function(){this.camera=null,this.scene=null,this.renderer=null,this.controls=null,this.collidableMeshList=[],this.animals=[],this.onObjectRay=!1,this.move={moveForward:!1,moveBackward:!1,moveLeft:!1,moveRight:!1,canJump:!1},this.velocity=new r.tb,this.direction=new r.tb,this.visitor=null,this.container=null,this.prevPosition=null},x=new s;var R;E.onObjectRay=new r.hb(new r.tb,new r.tb(0,-1,0),0,10),E.container=document.body,document.getElementById("esc").style.display="none",(R=E).camera=new r.Z(45,a.SCREEN_WIDTH/a.SCREEN_HEIGHT,1,a.SIZE_GROUND),R.camera.position.set(a.INITAL_POSITION.x,a.INITAL_POSITION.y,a.INITAL_POSITION.z),function(e){e.scene=new r.jb,e.scene.background=new r.k(a.BACKGROUND_COLOR),e.scene.fog=new r.q(a.SUNSHINE_COLOR,1e3,4e3),e.scene.add(e.camera)}(E),function(e){e.scene.add(new r.a(a.SUNSHINE_COLOR));let t=new T(1e3,1e3,1e3,a.SUNSHINE_COLOR,1.5).create();e.scene.add(t)}(E),function(e){let t=new i(a.SIZE_GROUND,a.REAPEAT,d).create();e.scene.add(t)}(E),u(E),function(e){let t=new g(a.VISITOR.color,10,10,10).create();t.position.set(10,5,10),t.visible=!1,e.visitor=t,e.scene.add(t),e.camera.add(t)}(E),function(e,t){let n,r;t.load(p,t=>{n=t.scenes[0],n.scale.set(500,500,500),n.translateX(3e3),n.translateZ(950),e.scene.add(n),e.collidableMeshList.push(n)},void 0,e=>{console.error(e)}),t.load(h,t=>{r=t.scenes[0],r.scale.set(500,500,500),r.translateX(700),r.translateZ(1e3),e.scene.add(r),e.collidableMeshList.push(r)},void 0,e=>{console.error(e)}),t.load(h,t=>{r=t.scenes[0],e.scene.add(r),r.scale.set(500,500,500),r.translateX(-100),r.translateZ(1e3),e.collidableMeshList.push(r)},void 0,e=>{console.error(e)})}(E,x),function(e,t){let n;t.load(m,t=>{n=t.scenes[0],n.scale.set(100,100,100),n.position.set(1e3,1e3,1e3),e.scene.add(n)},void 0,e=>{console.error(e)})}(E,x),function(e,t){let n,r,s,o;for(let i=0;i<a.N_CLOUDS;i++)t.load(f,t=>{r=Math.random()*a.SIZE_GROUND+-a.SIZE_GROUND/2,s=500*Math.random()+500,o=Math.random()*a.SIZE_GROUND+-a.SIZE_GROUND/2,n=t.scenes[0],n.scale.set(100,100,100),n.position.set(r,s,o),e.scene.add(n)},void 0,e=>{console.error(e)})}(E,x),function(e,t){let n,r,s,o;for(let i=0;i<a.N_ANIMALS;i++)o=parseInt(Math.random()*v.length),t.load(v[o],t=>{r=Math.random()*(a.SIZE_GROUND-200)+(-a.SIZE_GROUND/2+100),s=Math.random()*(-400-(a.SIZE_GROUND/2-100)-0)- -400,n=t.scenes[0],n.scale.set(13,13,13),n.position.set(r,0,s),n.rotateY(Math.PI/2),e.scene.add(n),e.collidableMeshList.push(n),e.animals.push(n)},void 0,e=>{console.error(e)})}(E,x),function(e){e.renderer=new r.vb({antialias:!0}),e.renderer.setPixelRatio(window.devicePixelRatio),e.renderer.setSize(a.SCREEN_WIDTH,a.SCREEN_HEIGHT),e.container.appendChild(e.renderer.domElement),e.renderer.outputEncoding=r.wb,e.renderer.shadowMap.enabled=!0,e.renderer.shadowMap.type=r.Y}(E),function(e){window.addEventListener("resize",(function(){e.renderer.setSize(a.SCREEN_WIDTH,a.SCREEN_HEIGHT),e.camera.aspect=a.SCREEN_WIDTH/a.SCREEN_HEIGHT,e.camera.updateProjectionMatrix()}),!1)}(E),function(e){document.addEventListener("keydown",(function(t){switch(t.keyCode){case 38:case 87:e.move.moveForward=!0;break;case 37:case 65:e.move.moveLeft=!0;break;case 40:case 83:e.move.moveBackward=!0;break;case 39:case 68:e.move.moveRight=!0;break;case 32:!0===e.move.canJump&&(e.velocity.y+=350),e.move.canJump=!1}}),!1)}(E),function(e){document.addEventListener("keyup",(function(t){switch(event.keyCode){case 38:case 87:e.move.moveForward=!1;break;case 37:case 65:e.move.moveLeft=!1;break;case 40:case 83:e.move.moveBackward=!1;break;case 39:case 68:e.move.moveRight=!1}}),!1)}(E),E.controls=new o(E.camera,E.renderer.domElement),function(e){let t=document.getElementById("blocker"),n=document.getElementById("instructions"),r=document.getElementById("esc");n.addEventListener("click",(function(){e.controls.lock(),e.prevPosition&&e.controls.getObject().position.set(e.prevPosition.x,e.prevPosition.y,e.prevPosition.z)}),!1),e.controls.addEventListener("lock",(function(){n.style.display="none",t.style.display="none",r.style.display=""})),e.controls.addEventListener("unlock",(function(){e.prevPosition=e.controls.getObject().position,t.style.display="block",n.style.display="",r.style.display="none"}))}(E),w=new b,E.container.appendChild(w.dom),function e(){requestAnimationFrame(e),function(){if(!0===E.controls.isLocked){let e=S.getDelta();!function(e,t){Math.random();let n,s=new r.tb(1,0,0);for(let t=0;t<e.animals.length;t++)n=e.animals[t],n.position.addScaledVector(s,1),n.position.x>a.SIZE_GROUND/2&&(n.position.x=-a.SIZE_GROUND/2)}(E),function(e,t){e.velocity.x-=10*e.velocity.x*t,e.velocity.z-=10*e.velocity.z*t,e.velocity.y-=9.8*a.VISITOR.mass*t,e.direction.z=Number(e.move.moveForward)-Number(e.move.moveBackward),e.direction.x=Number(e.move.moveRight)-Number(e.move.moveLeft),e.direction.normalize(),(e.move.moveForward||e.move.moveBackward)&&(e.velocity.z-=400*e.direction.z*t),(e.move.moveLeft||e.move.moveRight)&&(e.velocity.x-=400*e.direction.x*t)}(E,e),function(e){if(e.onObjectRay.ray.origin.copy(e.controls.getObject().position),e.onObjectRay.ray.origin.y-=10,!0===e.onObjectRay.intersectObjects(e.collidableMeshList).length>0)e.velocity.y=Math.max(0,e.velocity.y),e.move.canJump=!0;else{e.visitor.position.copy(e.controls.getObject().position);let t=e.visitor.position.clone();for(let n=0;n<e.visitor.geometry.vertices.length;n++){let s=e.visitor.geometry.vertices[n].clone().applyMatrix4(e.visitor.matrix).sub(e.visitor.position),o=new r.hb(t,s.clone().normalize()).intersectObjects(e.collidableMeshList,!0);o.length>0&&o[0].distance<s.length()&&(e.velocity.x=Math.max(0,e.velocity.x),e.velocity.z=Math.max(0,e.velocity.z))}}}(E),function(e){let t=e.controls.getObject().position;(t.x+100>a.SIZE_GROUND/2||t.x-100<-a.SIZE_GROUND/2||t.z+100>a.SIZE_GROUND/2||t.z-100<-a.SIZE_GROUND/2)&&(e.velocity.x=Math.max(0,e.velocity.x),e.velocity.z=Math.max(0,e.velocity.z))}(E),function(e,t){e.controls.moveRight(-e.velocity.x*t*a.VISITOR.movementSpeed),e.controls.moveForward(-e.velocity.z*t*a.VISITOR.movementSpeed),e.controls.getObject().position.y+=e.velocity.y*t}(E,e),function(e){e.controls.getObject().position.y<a.INITAL_POSITION.y&&(e.velocity.y=0,e.controls.getObject().position.y=a.INITAL_POSITION.y,e.move.canJump=!0)}(E)}E.renderer.render(E.scene,E.camera)}(),w.update()}()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYnMvanNtL2xvYWRlcnMvR0xURkxvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGlicy9qc20vY29udHJvbHMvUG9pbnRlckxvY2tDb250cm9scy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvY29udGFudHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvR3JvdW5kLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1RyZWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjZW5lL29iamVjdExvYWRlci9sb2FkVHJlZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdGV4dHVyZXMvZ3JvdW5kL2dyYXNzbGlnaHQtYmlnLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL21vdW50YWluMS5nbGIiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9tb3VudGFpbjIuZ2xiIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvc3VuLmdsYiIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL2Nsb3VkLmdsYiIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvYmVhci5nbGIiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9jb3cuZ2xiIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvY3JvY29kaWxlLmdsYiIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL2R1Y2suZ2xiIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvZWxlcGhhbnQuZ2xiIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvZ2lyYWZmZS5nbGIiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9waWcuZ2xiIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvcmFiYml0LmdsYiIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL3RpZ2VyLmdsYiIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9WaXNpdG9yLmpzIiwid2VicGFjazovLy8uL3NyYy9saWJzL2pzbS9saWJzL3N0YXRzLm1vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NlbmUvbGlnaHQvTGlnaHQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NlbmUvQ2FtZXJhLmpzIiwid2VicGFjazovLy8uL3NyYy9zY2VuZS9TY2VuZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NlbmUvbGlnaHQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjZW5lL29iamVjdExvYWRlci9sb2FkR3JvdW5kLmpzIiwid2VicGFjazovLy8uL3NyYy9zY2VuZS9vYmplY3RMb2FkZXIvbG9hZFZpc2l0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjZW5lL29iamVjdExvYWRlci9sb2FkTW91bnRhaW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjZW5lL29iamVjdExvYWRlci9sb2FkU3VuLmpzIiwid2VicGFjazovLy8uL3NyYy9zY2VuZS9vYmplY3RMb2FkZXIvbG9hZENsb3Vkcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NlbmUvb2JqZWN0TG9hZGVyL2xvYWRBbmltYWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9yZW5kZXJlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvZXZlbnRzLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9hY3RpdmF0ZVBvaW50ZXJMb2NrLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9hbmltYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL3Bvc2l0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9jb2xsaXNpb24uanMiXSwibmFtZXMiOlsid2VicGFja0pzb25wQ2FsbGJhY2siLCJkYXRhIiwibW9kdWxlSWQiLCJjaHVua0lkIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsImV4ZWN1dGVNb2R1bGVzIiwiaSIsInJlc29sdmVzIiwibGVuZ3RoIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5zdGFsbGVkQ2h1bmtzIiwicHVzaCIsIm1vZHVsZXMiLCJwYXJlbnRKc29ucEZ1bmN0aW9uIiwic2hpZnQiLCJkZWZlcnJlZE1vZHVsZXMiLCJhcHBseSIsImNoZWNrRGVmZXJyZWRNb2R1bGVzIiwicmVzdWx0IiwiZGVmZXJyZWRNb2R1bGUiLCJmdWxmaWxsZWQiLCJqIiwiZGVwSWQiLCJzcGxpY2UiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicyIsImluc3RhbGxlZE1vZHVsZXMiLCIwIiwiZXhwb3J0cyIsIm1vZHVsZSIsImwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicCIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJHTFRGTG9hZGVyIiwibWFuYWdlciIsInRoaXMiLCJkcmFjb0xvYWRlciIsImRkc0xvYWRlciIsImt0eDJMb2FkZXIiLCJwbHVnaW5DYWxsYmFja3MiLCJyZWdpc3RlciIsInBhcnNlciIsIkdMVEZNYXRlcmlhbHNDbGVhcmNvYXRFeHRlbnNpb24iLCJHTFRGVGV4dHVyZUJhc2lzVUV4dGVuc2lvbiIsIkdMVEZNYXRlcmlhbHNUcmFuc21pc3Npb25FeHRlbnNpb24iLCJHTFRGTGlnaHRzRXh0ZW5zaW9uIiwiR0xURlJlZ2lzdHJ5Iiwib2JqZWN0cyIsImFkZCIsInJlbW92ZSIsInJlbW92ZUFsbCIsImFzc2lnbiIsImNvbnN0cnVjdG9yIiwibG9hZCIsInVybCIsIm9uTG9hZCIsIm9uUHJvZ3Jlc3MiLCJvbkVycm9yIiwicmVzb3VyY2VQYXRoIiwic2NvcGUiLCJwYXRoIiwiZXh0cmFjdFVybEJhc2UiLCJpdGVtU3RhcnQiLCJfb25FcnJvciIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJpdGVtRXJyb3IiLCJpdGVtRW5kIiwibG9hZGVyIiwic2V0UGF0aCIsInNldFJlc3BvbnNlVHlwZSIsInNldFJlcXVlc3RIZWFkZXIiLCJyZXF1ZXN0SGVhZGVyIiwic2V0V2l0aENyZWRlbnRpYWxzIiwid2l0aENyZWRlbnRpYWxzIiwicGFyc2UiLCJnbHRmIiwic2V0RFJBQ09Mb2FkZXIiLCJzZXRERFNMb2FkZXIiLCJzZXRLVFgyTG9hZGVyIiwiY2FsbGJhY2siLCJpbmRleE9mIiwidW5yZWdpc3RlciIsImNvbnRlbnQiLCJleHRlbnNpb25zIiwicGx1Z2lucyIsImRlY29kZVRleHQiLCJVaW50OEFycmF5IiwiQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTUFHSUMiLCJFWFRFTlNJT05TIiwiS0hSX0JJTkFSWV9HTFRGIiwiR0xURkJpbmFyeUV4dGVuc2lvbiIsImpzb24iLCJKU09OIiwidW5kZWZpbmVkIiwiYXNzZXQiLCJ2ZXJzaW9uIiwiRXJyb3IiLCJHTFRGUGFyc2VyIiwiY3Jvc3NPcmlnaW4iLCJmaWxlTG9hZGVyIiwicGx1Z2luIiwiZXh0ZW5zaW9uc1VzZWQiLCJleHRlbnNpb25OYW1lIiwiZXh0ZW5zaW9uc1JlcXVpcmVkIiwiS0hSX01BVEVSSUFMU19VTkxJVCIsIkdMVEZNYXRlcmlhbHNVbmxpdEV4dGVuc2lvbiIsIktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1MiLCJHTFRGTWF0ZXJpYWxzUGJyU3BlY3VsYXJHbG9zc2luZXNzRXh0ZW5zaW9uIiwiS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT04iLCJHTFRGRHJhY29NZXNoQ29tcHJlc3Npb25FeHRlbnNpb24iLCJNU0ZUX1RFWFRVUkVfRERTIiwiR0xURlRleHR1cmVERFNFeHRlbnNpb24iLCJLSFJfVEVYVFVSRV9UUkFOU0ZPUk0iLCJHTFRGVGV4dHVyZVRyYW5zZm9ybUV4dGVuc2lvbiIsIktIUl9NRVNIX1FVQU5USVpBVElPTiIsIkdMVEZNZXNoUXVhbnRpemF0aW9uRXh0ZW5zaW9uIiwid2FybiIsInNldEV4dGVuc2lvbnMiLCJzZXRQbHVnaW5zIiwiS0hSX0xJR0hUU19QVU5DVFVBTCIsIktIUl9NQVRFUklBTFNfQ0xFQVJDT0FUIiwiS0hSX01BVEVSSUFMU19UUkFOU01JU1NJT04iLCJLSFJfVEVYVFVSRV9CQVNJU1UiLCJjYWNoZSIsInJlZnMiLCJ1c2VzIiwiX21hcmtEZWZzIiwibm9kZURlZnMiLCJub2RlcyIsIm5vZGVJbmRleCIsIm5vZGVMZW5ndGgiLCJub2RlRGVmIiwibGlnaHQiLCJfYWRkTm9kZVJlZiIsIl9sb2FkTGlnaHQiLCJsaWdodEluZGV4IiwiY2FjaGVLZXkiLCJkZXBlbmRlbmN5IiwibGlnaHROb2RlIiwibGlnaHREZWYiLCJsaWdodHMiLCJjb2xvciIsImZyb21BcnJheSIsInJhbmdlIiwidHlwZSIsInRhcmdldCIsInBvc2l0aW9uIiwic2V0IiwiZGlzdGFuY2UiLCJzcG90IiwiaW5uZXJDb25lQW5nbGUiLCJvdXRlckNvbmVBbmdsZSIsIk1hdGgiLCJQSSIsImFuZ2xlIiwicGVudW1icmEiLCJkZWNheSIsImludGVuc2l0eSIsImNyZWF0ZVVuaXF1ZU5hbWUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImNyZWF0ZU5vZGVBdHRhY2htZW50Iiwic2VsZiIsInRoZW4iLCJfZ2V0Tm9kZVJlZiIsImdldE1hdGVyaWFsVHlwZSIsImV4dGVuZFBhcmFtcyIsIm1hdGVyaWFsUGFyYW1zIiwibWF0ZXJpYWxEZWYiLCJwZW5kaW5nIiwib3BhY2l0eSIsIm1ldGFsbGljUm91Z2huZXNzIiwicGJyTWV0YWxsaWNSb3VnaG5lc3MiLCJBcnJheSIsImlzQXJyYXkiLCJiYXNlQ29sb3JGYWN0b3IiLCJhcnJheSIsImJhc2VDb2xvclRleHR1cmUiLCJhc3NpZ25UZXh0dXJlIiwiYWxsIiwibWF0ZXJpYWxJbmRleCIsIm1hdGVyaWFscyIsImV4dGVuZE1hdGVyaWFsUGFyYW1zIiwiZXh0ZW5zaW9uIiwiY2xlYXJjb2F0RmFjdG9yIiwiY2xlYXJjb2F0IiwiY2xlYXJjb2F0VGV4dHVyZSIsImNsZWFyY29hdFJvdWdobmVzc0ZhY3RvciIsImNsZWFyY29hdFJvdWdobmVzcyIsImNsZWFyY29hdFJvdWdobmVzc1RleHR1cmUiLCJjbGVhcmNvYXROb3JtYWxUZXh0dXJlIiwic2NhbGUiLCJjbGVhcmNvYXROb3JtYWxTY2FsZSIsInRyYW5zbWlzc2lvbkZhY3RvciIsInRyYW5zbWlzc2lvbiIsInRyYW5zbWlzc2lvblRleHR1cmUiLCJsb2FkVGV4dHVyZSIsInRleHR1cmVJbmRleCIsInRleHR1cmVEZWYiLCJ0ZXh0dXJlcyIsInNvdXJjZSIsImltYWdlcyIsIm9wdGlvbnMiLCJsb2FkVGV4dHVyZUltYWdlIiwiQklOQVJZX0VYVEVOU0lPTl9DSFVOS19UWVBFUyIsImJvZHkiLCJoZWFkZXJWaWV3IiwiRGF0YVZpZXciLCJoZWFkZXIiLCJtYWdpYyIsImdldFVpbnQzMiIsImNodW5rVmlldyIsImNodW5rSW5kZXgiLCJieXRlTGVuZ3RoIiwiY2h1bmtMZW5ndGgiLCJjaHVua1R5cGUiLCJjb250ZW50QXJyYXkiLCJieXRlT2Zmc2V0IiwicHJlbG9hZCIsIkdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsIiwicGFyYW1zIiwiaXNHTFRGU3BlY3VsYXJHbG9zc2luZXNzTWF0ZXJpYWwiLCJzcGVjdWxhck1hcFBhcnNGcmFnbWVudENodW5rIiwiam9pbiIsImdsb3NzaW5lc3NNYXBQYXJzRnJhZ21lbnRDaHVuayIsInNwZWN1bGFyTWFwRnJhZ21lbnRDaHVuayIsImdsb3NzaW5lc3NNYXBGcmFnbWVudENodW5rIiwibGlnaHRQaHlzaWNhbEZyYWdtZW50Q2h1bmsiLCJ1bmlmb3JtcyIsInNwZWN1bGFyIiwic2V0SGV4IiwiZ2xvc3NpbmVzcyIsInNwZWN1bGFyTWFwIiwiZ2xvc3NpbmVzc01hcCIsIl9leHRyYVVuaWZvcm1zIiwib25CZWZvcmVDb21waWxlIiwic2hhZGVyIiwidW5pZm9ybU5hbWUiLCJmcmFnbWVudFNoYWRlciIsInJlcGxhY2UiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidiIsImRlZmluZXMiLCJVU0VfU1BFQ1VMQVJNQVAiLCJVU0VfR0xPU1NJTkVTU01BUCIsIlVTRV9VViIsIm1ldGFsbmVzcyIsInJvdWdobmVzcyIsIm1ldGFsbmVzc01hcCIsInJvdWdobmVzc01hcCIsInNldFZhbHVlcyIsInNwZWN1bGFyR2xvc3NpbmVzc1BhcmFtcyIsInBiclNwZWN1bGFyR2xvc3NpbmVzcyIsImRpZmZ1c2VGYWN0b3IiLCJkaWZmdXNlVGV4dHVyZSIsImVtaXNzaXZlIiwiZ2xvc3NpbmVzc0ZhY3RvciIsInNwZWN1bGFyRmFjdG9yIiwic3BlY3VsYXJHbG9zc2luZXNzVGV4dHVyZSIsInNwZWNHbG9zc01hcERlZiIsImNyZWF0ZU1hdGVyaWFsIiwibWF0ZXJpYWwiLCJmb2ciLCJtYXAiLCJsaWdodE1hcCIsImxpZ2h0TWFwSW50ZW5zaXR5IiwiYW9NYXAiLCJhb01hcEludGVuc2l0eSIsImVtaXNzaXZlSW50ZW5zaXR5IiwiZW1pc3NpdmVNYXAiLCJidW1wTWFwIiwiYnVtcFNjYWxlIiwibm9ybWFsTWFwIiwibm9ybWFsTWFwVHlwZSIsIm5vcm1hbFNjYWxlIiwiZGlzcGxhY2VtZW50TWFwIiwiZGlzcGxhY2VtZW50U2NhbGUiLCJkaXNwbGFjZW1lbnRCaWFzIiwiYWxwaGFNYXAiLCJlbnZNYXAiLCJlbnZNYXBJbnRlbnNpdHkiLCJyZWZyYWN0aW9uUmF0aW8iLCJHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudCIsInBhcmFtZXRlclBvc2l0aW9ucyIsInNhbXBsZVZhbHVlcyIsInNhbXBsZVNpemUiLCJyZXN1bHRCdWZmZXIiLCJkZWNvZGVQcmltaXRpdmUiLCJwcmltaXRpdmUiLCJidWZmZXJWaWV3SW5kZXgiLCJidWZmZXJWaWV3IiwiZ2x0ZkF0dHJpYnV0ZU1hcCIsImF0dHJpYnV0ZXMiLCJ0aHJlZUF0dHJpYnV0ZU1hcCIsImF0dHJpYnV0ZU5vcm1hbGl6ZWRNYXAiLCJhdHRyaWJ1dGVUeXBlTWFwIiwiYXR0cmlidXRlTmFtZSIsInRocmVlQXR0cmlidXRlTmFtZSIsIkFUVFJJQlVURVMiLCJ0b0xvd2VyQ2FzZSIsImFjY2Vzc29yRGVmIiwiYWNjZXNzb3JzIiwiY29tcG9uZW50VHlwZSIsIldFQkdMX0NPTVBPTkVOVF9UWVBFUyIsIm5vcm1hbGl6ZWQiLCJnZXREZXBlbmRlbmN5IiwiZGVjb2RlRHJhY29GaWxlIiwiZ2VvbWV0cnkiLCJhdHRyaWJ1dGUiLCJleHRlbmRUZXh0dXJlIiwidGV4dHVyZSIsInRyYW5zZm9ybSIsImNsb25lIiwib2Zmc2V0Iiwicm90YXRpb24iLCJyZXBlYXQiLCJ0ZXhDb29yZCIsIm5lZWRzVXBkYXRlIiwiY29weSIsImNvcHlTYW1wbGVWYWx1ZV8iLCJpbmRleCIsInZhbHVlcyIsInZhbHVlU2l6ZSIsImJlZm9yZVN0YXJ0XyIsImFmdGVyRW5kXyIsImludGVycG9sYXRlXyIsImkxIiwidDAiLCJ0MSIsInN0cmlkZSIsInN0cmlkZTIiLCJzdHJpZGUzIiwidGQiLCJwcCIsInBwcCIsIm9mZnNldDEiLCJvZmZzZXQwIiwiczIiLCJzMyIsInMwIiwiczEiLCJwMCIsIm0wIiwicDEiLCJtMSIsIldFQkdMX0NPTlNUQU5UUyIsIjUxMjAiLCJJbnQ4QXJyYXkiLCI1MTIxIiwiNTEyMiIsIkludDE2QXJyYXkiLCI1MTIzIiwiVWludDE2QXJyYXkiLCI1MTI1IiwiVWludDMyQXJyYXkiLCI1MTI2IiwiRmxvYXQzMkFycmF5IiwiV0VCR0xfRklMVEVSUyIsIjk3MjgiLCI5NzI5IiwiOTk4NCIsIjk5ODUiLCI5OTg2IiwiOTk4NyIsIldFQkdMX1dSQVBQSU5HUyIsIjMzMDcxIiwiMzM2NDgiLCIxMDQ5NyIsIldFQkdMX1RZUEVfU0laRVMiLCJTQ0FMQVIiLCJWRUMyIiwiVkVDMyIsIlZFQzQiLCJNQVQyIiwiTUFUMyIsIk1BVDQiLCJQT1NJVElPTiIsIk5PUk1BTCIsIlRBTkdFTlQiLCJURVhDT09SRF8wIiwiVEVYQ09PUkRfMSIsIkNPTE9SXzAiLCJXRUlHSFRTXzAiLCJKT0lOVFNfMCIsIlBBVEhfUFJPUEVSVElFUyIsInRyYW5zbGF0aW9uIiwid2VpZ2h0cyIsIklOVEVSUE9MQVRJT04iLCJDVUJJQ1NQTElORSIsIkxJTkVBUiIsIlNURVAiLCJBTFBIQV9NT0RFUyIsInJlc29sdmVVUkwiLCJ0ZXN0IiwiYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhIiwia25vd25FeHRlbnNpb25zIiwib2JqZWN0RGVmIiwidXNlckRhdGEiLCJnbHRmRXh0ZW5zaW9ucyIsImFzc2lnbkV4dHJhc1RvVXNlckRhdGEiLCJnbHRmRGVmIiwiZXh0cmFzIiwidXBkYXRlTW9ycGhUYXJnZXRzIiwibWVzaCIsIm1lc2hEZWYiLCJpbCIsIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIsInRhcmdldE5hbWVzIiwibW9ycGhUYXJnZXREaWN0aW9uYXJ5IiwiY3JlYXRlQXR0cmlidXRlc0tleSIsImF0dHJpYnV0ZXNLZXkiLCJrZXlzIiwic29ydCIsImFzc29jaWF0aW9ucyIsIk1hcCIsInByaW1pdGl2ZUNhY2hlIiwibWVzaENhY2hlIiwiY2FtZXJhQ2FjaGUiLCJsaWdodENhY2hlIiwibm9kZU5hbWVzVXNlZCIsImNyZWF0ZUltYWdlQml0bWFwIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidGV4dHVyZUxvYWRlciIsInNldENyb3NzT3JpZ2luIiwiYWRkUHJpbWl0aXZlQXR0cmlidXRlcyIsInByaW1pdGl2ZURlZiIsImFzc2lnbkF0dHJpYnV0ZUFjY2Vzc29yIiwiYWNjZXNzb3JJbmRleCIsImFjY2Vzc29yIiwic2V0QXR0cmlidXRlIiwiZ2x0ZkF0dHJpYnV0ZU5hbWUiLCJpbmRpY2VzIiwic2V0SW5kZXgiLCJib3giLCJtaW4iLCJtYXgiLCJ0YXJnZXRzIiwibWF4RGlzcGxhY2VtZW50IiwidmVjdG9yIiwic2V0WCIsImFicyIsInNldFkiLCJzZXRaIiwiZXhwYW5kQnlWZWN0b3IiLCJib3VuZGluZ0JveCIsInNwaGVyZSIsImdldENlbnRlciIsImNlbnRlciIsInJhZGl1cyIsImRpc3RhbmNlVG8iLCJib3VuZGluZ1NwaGVyZSIsImNvbXB1dGVCb3VuZHMiLCJoYXNNb3JwaFBvc2l0aW9uIiwiaGFzTW9ycGhOb3JtYWwiLCJwZW5kaW5nUG9zaXRpb25BY2Nlc3NvcnMiLCJwZW5kaW5nTm9ybWFsQWNjZXNzb3JzIiwicGVuZGluZ0FjY2Vzc29yIiwibm9ybWFsIiwibW9ycGhQb3NpdGlvbnMiLCJtb3JwaE5vcm1hbHMiLCJtb3JwaEF0dHJpYnV0ZXMiLCJtb3JwaFRhcmdldHNSZWxhdGl2ZSIsImFkZE1vcnBoVGFyZ2V0cyIsInRvVHJpYW5nbGVzRHJhd01vZGUiLCJkcmF3TW9kZSIsImdldEluZGV4IiwiZ2V0QXR0cmlidXRlIiwiY291bnQiLCJudW1iZXJPZlRyaWFuZ2xlcyIsIm5ld0luZGljZXMiLCJnZXRYIiwibmV3R2VvbWV0cnkiLCJfaW52b2tlQWxsIiwiZXh0IiwiZ2V0RGVwZW5kZW5jaWVzIiwiZGVwZW5kZW5jaWVzIiwic2NlbmUiLCJzY2VuZXMiLCJhbmltYXRpb25zIiwiY2FtZXJhcyIsImNhdGNoIiwic2tpbkRlZnMiLCJza2lucyIsIm1lc2hEZWZzIiwibWVzaGVzIiwic2tpbkluZGV4Iiwic2tpbkxlbmd0aCIsImpvaW50cyIsImlzQm9uZSIsInNraW4iLCJpc1NraW5uZWRNZXNoIiwiY2FtZXJhIiwicmVmIiwiX2ludm9rZU9uZSIsImZ1bmMiLCJ1bnNoaWZ0IiwibG9hZFNjZW5lIiwibG9hZE5vZGUiLCJsb2FkTWVzaCIsImxvYWRBY2Nlc3NvciIsImxvYWRCdWZmZXJWaWV3IiwibG9hZEJ1ZmZlciIsImxvYWRNYXRlcmlhbCIsImxvYWRTa2luIiwibG9hZEFuaW1hdGlvbiIsImxvYWRDYW1lcmEiLCJkZWZzIiwiZGVmIiwiYnVmZmVySW5kZXgiLCJidWZmZXJEZWYiLCJidWZmZXJzIiwidXJpIiwicmVqZWN0IiwiYnVmZmVyVmlld0RlZiIsImJ1ZmZlclZpZXdzIiwiYnVmZmVyIiwic3BhcnNlIiwicGVuZGluZ0J1ZmZlclZpZXdzIiwiYnVmZmVyQXR0cmlidXRlIiwiaXRlbVNpemUiLCJUeXBlZEFycmF5IiwiZWxlbWVudEJ5dGVzIiwiQllURVNfUEVSX0VMRU1FTlQiLCJpdGVtQnl0ZXMiLCJieXRlU3RyaWRlIiwiaWJTbGljZSIsImZsb29yIiwiaWJDYWNoZUtleSIsImliIiwiaXRlbVNpemVJbmRpY2VzIiwiVHlwZWRBcnJheUluZGljZXMiLCJieXRlT2Zmc2V0SW5kaWNlcyIsImJ5dGVPZmZzZXRWYWx1ZXMiLCJzcGFyc2VJbmRpY2VzIiwic3BhcnNlVmFsdWVzIiwic2V0VyIsInRleHR1cmVFeHRlbnNpb25zIiwiZ2V0SGFuZGxlciIsIlVSTCIsIndlYmtpdFVSTCIsInNvdXJjZVVSSSIsImlzT2JqZWN0VVJMIiwiaGFzQWxwaGEiLCJtaW1lVHlwZSIsImNvbG9yVHlwZSIsImdldFVpbnQ4IiwiYmxvYiIsIkJsb2IiLCJjcmVhdGVPYmplY3RVUkwiLCJpc0ltYWdlQml0bWFwTG9hZGVyIiwiaW1hZ2VCaXRtYXAiLCJyZXZva2VPYmplY3RVUkwiLCJmbGlwWSIsImZvcm1hdCIsInNhbXBsZXIiLCJzYW1wbGVycyIsIm1hZ0ZpbHRlciIsIm1pbkZpbHRlciIsIndyYXBTIiwid3JhcFQiLCJtYXBOYW1lIiwibWFwRGVmIiwiZ2x0ZlJlZmVyZW5jZSIsImFzc2lnbkZpbmFsTWF0ZXJpYWwiLCJ1c2VWZXJ0ZXhUYW5nZW50cyIsInRhbmdlbnQiLCJ1c2VWZXJ0ZXhDb2xvcnMiLCJ1c2VGbGF0U2hhZGluZyIsInVzZVNraW5uaW5nIiwidXNlTW9ycGhUYXJnZXRzIiwidXNlTW9ycGhOb3JtYWxzIiwiaXNQb2ludHMiLCJ1dWlkIiwicG9pbnRzTWF0ZXJpYWwiLCJzaXplQXR0ZW51YXRpb24iLCJpc0xpbmUiLCJsaW5lTWF0ZXJpYWwiLCJjYWNoZWRNYXRlcmlhbCIsInNraW5uaW5nIiwidmVydGV4VGFuZ2VudHMiLCJ2ZXJ0ZXhDb2xvcnMiLCJmbGF0U2hhZGluZyIsIm1vcnBoVGFyZ2V0cyIsInV2MiIsInV2IiwieSIsIm1hdGVyaWFsVHlwZSIsIm1hdGVyaWFsRXh0ZW5zaW9ucyIsInNnRXh0ZW5zaW9uIiwia211RXh0ZW5zaW9uIiwibWV0YWxsaWNGYWN0b3IiLCJyb3VnaG5lc3NGYWN0b3IiLCJtZXRhbGxpY1JvdWdobmVzc1RleHR1cmUiLCJkb3VibGVTaWRlZCIsInNpZGUiLCJhbHBoYU1vZGUiLCJ0cmFuc3BhcmVudCIsImRlcHRoV3JpdGUiLCJhbHBoYVRlc3QiLCJhbHBoYUN1dG9mZiIsIm5vcm1hbFRleHR1cmUiLCJvY2NsdXNpb25UZXh0dXJlIiwic3RyZW5ndGgiLCJlbWlzc2l2ZUZhY3RvciIsImVtaXNzaXZlVGV4dHVyZSIsImVuY29kaW5nIiwib3JpZ2luYWxOYW1lIiwic2FuaXRpemVOb2RlTmFtZSIsImxvYWRHZW9tZXRyaWVzIiwicHJpbWl0aXZlcyIsImNyZWF0ZURyYWNvUHJpbWl0aXZlIiwiZHJhY29FeHRlbnNpb24iLCJnZW9tZXRyeVByb21pc2UiLCJjYWNoZWQiLCJwcm9taXNlIiwibWVzaEluZGV4IiwiZGVwdGhUZXN0IiwicmVzdWx0cyIsImdlb21ldHJpZXMiLCJza2luV2VpZ2h0Iiwibm9ybWFsaXplU2tpbldlaWdodHMiLCJncm91cCIsImNhbWVyYUluZGV4IiwiY2FtZXJhRGVmIiwicmFkVG9EZWciLCJ5Zm92IiwiYXNwZWN0UmF0aW8iLCJ6bmVhciIsInpmYXIiLCJ4bWFnIiwieW1hZyIsInNraW5EZWYiLCJza2luRW50cnkiLCJpbnZlcnNlQmluZE1hdHJpY2VzIiwiYW5pbWF0aW9uSW5kZXgiLCJhbmltYXRpb25EZWYiLCJwZW5kaW5nTm9kZXMiLCJwZW5kaW5nSW5wdXRBY2Nlc3NvcnMiLCJwZW5kaW5nT3V0cHV0QWNjZXNzb3JzIiwicGVuZGluZ1NhbXBsZXJzIiwicGVuZGluZ1RhcmdldHMiLCJjaGFubmVscyIsImNoYW5uZWwiLCJub2RlIiwiaWQiLCJpbnB1dCIsInBhcmFtZXRlcnMiLCJvdXRwdXQiLCJpbnB1dEFjY2Vzc29ycyIsIm91dHB1dEFjY2Vzc29ycyIsInRyYWNrcyIsImlucHV0QWNjZXNzb3IiLCJvdXRwdXRBY2Nlc3NvciIsIlR5cGVkS2V5ZnJhbWVUcmFjayIsInVwZGF0ZU1hdHJpeCIsIm1hdHJpeEF1dG9VcGRhdGUiLCJ0YXJnZXROYW1lIiwiaW50ZXJwb2xhdGlvbiIsInRyYXZlcnNlIiwiaXNNZXNoIiwib3V0cHV0QXJyYXkiLCJzY2FsZWQiLCJqbCIsInRyYWNrIiwiY3JlYXRlSW50ZXJwb2xhbnQiLCJ0aW1lcyIsImdldFZhbHVlU2l6ZSIsImlzSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kR0xURkN1YmljU3BsaW5lIiwibm9kZU5hbWUiLCJmb3JFYWNoIiwibWF0cml4IiwiYXBwbHlNYXRyaXg0IiwicXVhdGVybmlvbiIsImJ1aWxkTm9kZUhpZXJhY2h5Iiwibm9kZUlkIiwicGFyZW50T2JqZWN0IiwicGVuZGluZ0pvaW50cyIsImpvaW50Tm9kZXMiLCJib25lcyIsImJvbmVJbnZlcnNlcyIsImpvaW50Tm9kZSIsIm1hdCIsIm1hdHJpeFdvcmxkIiwiY2hpbGRyZW4iLCJjaGlsZCIsInNjZW5lSW5kZXgiLCJzY2VuZURlZiIsIm5vZGVJZHMiLCJQb2ludGVyTG9ja0NvbnRyb2xzIiwiZG9tRWxlbWVudCIsImRvY3VtZW50IiwiaXNMb2NrZWQiLCJtaW5Qb2xhckFuZ2xlIiwibWF4UG9sYXJBbmdsZSIsImRpcmVjdGlvbiIsImNoYW5nZUV2ZW50IiwibG9ja0V2ZW50IiwidW5sb2NrRXZlbnQiLCJldWxlciIsIlBJXzIiLCJ2ZWMiLCJvbk1vdXNlTW92ZSIsImV2ZW50IiwibW92ZW1lbnRYIiwibW96TW92ZW1lbnRYIiwid2Via2l0TW92ZW1lbnRYIiwibW92ZW1lbnRZIiwibW96TW92ZW1lbnRZIiwid2Via2l0TW92ZW1lbnRZIiwic2V0RnJvbVF1YXRlcm5pb24iLCJ4Iiwic2V0RnJvbUV1bGVyIiwiZGlzcGF0Y2hFdmVudCIsIm9uUG9pbnRlcmxvY2tDaGFuZ2UiLCJvd25lckRvY3VtZW50IiwicG9pbnRlckxvY2tFbGVtZW50Iiwib25Qb2ludGVybG9ja0Vycm9yIiwiY29ubmVjdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkaXNjb25uZWN0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc3Bvc2UiLCJnZXRPYmplY3QiLCJnZXREaXJlY3Rpb24iLCJhcHBseVF1YXRlcm5pb24iLCJtb3ZlRm9yd2FyZCIsInNldEZyb21NYXRyaXhDb2x1bW4iLCJjcm9zc1ZlY3RvcnMiLCJ1cCIsImFkZFNjYWxlZFZlY3RvciIsIm1vdmVSaWdodCIsImxvY2siLCJyZXF1ZXN0UG9pbnRlckxvY2siLCJ1bmxvY2siLCJleGl0UG9pbnRlckxvY2siLCJTQ1JFRU5fV0lEVEgiLCJpbm5lcldpZHRoIiwiU0NSRUVOX0hFSUdIVCIsImlubmVySGVpZ2h0IiwiQkFDS0dST1VORF9DT0xPUiIsIlNVTlNISU5FX0NPTE9SIiwiV0hJVEUiLCJTSVpFX0dST1VORCIsIlJFQVBFQVQiLCJOX1RSRUUiLCJOX0NMT1VEUyIsIk5fQU5JTUFMUyIsIklOSVRBTF9QT1NJVElPTiIsInoiLCJWSVNJVE9SIiwibW92ZW1lbnRTcGVlZCIsIm1hc3MiLCJzaXplIiwiaW1hZ2VQYXRoIiwiaGVpZ2h0Iiwid2lkdGgiLCJfZ3JvdW5kIiwiZ3QiLCJnZyIsImdtIiwiZ3JvdW5kIiwicmVjZWl2ZVNoYWRvdyIsImNvbXBvbmVudCIsIlRyZWUiLCJjb2xvcnMiLCJkYXJrTGVhZjAxIiwiZGFya0xlYWYwMiIsImRhcmtMZWFmMDMiLCJkYXJrTGVhZjA0IiwibGlnaHRMZWFmIiwic3RlbSIsInRyZWUiLCJsb2FkVHJlZSIsImdsb2JhbFZhciIsInRyZWVzIiwic2NhbGVIZWlnaHQiLCJyYW5kb20iLCJUcmVlcyIsImNhc3RTaGFkb3ciLCJjb2xsaWRhYmxlTWVzaExpc3QiLCJBbmltYWxzIiwiZGVwdGgiLCJfdmlzaXRvciIsInZpc2l0b3IiLCJTdGF0cyIsImNvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJhZGRQYW5lbCIsInBhbmVsIiwiYXBwZW5kQ2hpbGQiLCJkb20iLCJzaG93UGFuZWwiLCJzdHlsZSIsImRpc3BsYXkiLCJjc3NUZXh0IiwicHJldmVudERlZmF1bHQiLCJiZWdpblRpbWUiLCJwZXJmb3JtYW5jZSIsIkRhdGUiLCJub3ciLCJwcmV2VGltZSIsImZyYW1lcyIsImZwc1BhbmVsIiwiUGFuZWwiLCJtc1BhbmVsIiwibWVtb3J5IiwibWVtUGFuZWwiLCJSRVZJU0lPTiIsImJlZ2luIiwiZW5kIiwidGltZSIsInVwZGF0ZSIsInVzZWRKU0hlYXBTaXplIiwianNIZWFwU2l6ZUxpbWl0Iiwic2V0TW9kZSIsImZnIiwiYmciLCJJbmZpbml0eSIsInJvdW5kIiwiUFIiLCJkZXZpY2VQaXhlbFJhdGlvIiwiV0lEVEgiLCJIRUlHSFQiLCJURVhUX1giLCJURVhUX1kiLCJHUkFQSF9YIiwiR1JBUEhfWSIsIkdSQVBIX1dJRFRIIiwiR1JBUEhfSEVJR0hUIiwiY2FudmFzIiwiY29udGV4dCIsImdldENvbnRleHQiLCJmb250IiwidGV4dEJhc2VsaW5lIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJmaWxsVGV4dCIsImdsb2JhbEFscGhhIiwibWF4VmFsdWUiLCJkcmF3SW1hZ2UiLCJfbGlnaHQiLCJzaGFkb3ciLCJtYXBTaXplIiwibmVhciIsImZhciIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsInN0YXRzIiwiY2xvY2siLCJyZW5kZXJlciIsImNvbnRyb2xzIiwiYW5pbWFscyIsIm9uT2JqZWN0UmF5IiwibW92ZSIsIm1vdmVCYWNrd2FyZCIsIm1vdmVMZWZ0IiwiY2FuSnVtcCIsInZlbG9jaXR5IiwicHJldlBvc2l0aW9uIiwiZ2V0RWxlbWVudEJ5SWQiLCJiYWNrZ3JvdW5kIiwic2V0VXBTY2VuZSIsInNldFVwTGlnaHQiLCJsb2FkR3JvdW5kIiwidmlzaWJsZSIsImxvYWRWaXNpdG9yIiwibW91bnRhaW4xIiwibW91bnRhaW4yIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVoiLCJsb2FkTW91bnRhaW5zIiwic3VuIiwibG9hZFN1biIsImNsb3VkIiwibG9hZENsb3VkcyIsImFuaW1hbCIsInJhbmRvbUFuaW1hbCIsInBhcnNlSW50Iiwicm90YXRlWSIsImxvYWRBbmltYWxzIiwiYW50aWFsaWFzIiwic2V0UGl4ZWxSYXRpbyIsInNldFNpemUiLCJvdXRwdXRFbmNvZGluZyIsInNoYWRvd01hcCIsImVuYWJsZWQiLCJzZXRVcFJlbmRlcmVyIiwiYXNwZWN0IiwidXBkYXRlUHJvamVjdGlvbk1hdHJpeCIsIm9uV2luZG93UmVzaXplIiwia2V5Q29kZSIsIm9uS2V5RG93biIsIm9uS2V5VXAiLCJibG9ja2VyIiwiaW5zdHJ1Y3Rpb25zIiwiZXNjIiwiYW5pbWF0ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImRlbHRhIiwiZ2V0RGVsdGEiLCJ1cGRhdGVBbmltYWxQb3NpdGlvbiIsIk51bWJlciIsIm5vcm1hbGl6ZSIsInVwZGF0ZVZlbG9jaXR5IiwicmF5Iiwib3JpZ2luIiwiaW50ZXJzZWN0T2JqZWN0cyIsIm9yaWdpblBvaW50IiwidmVydGV4SW5kZXgiLCJ2ZXJ0aWNlcyIsImRpcmVjdGlvblZlY3RvciIsInN1YiIsImNvbGxpc2lvblJlc3VsdHMiLCJkZXRlY3RDb2xsaXNpb24iLCJ2aXNpdG9yUG9zaXRpb24iLCJrZWVwSW5zaWRlV29ybGQiLCJ1cGRhdGVQb3NpdGlvbiIsImtlZXBPbkdyb3VuZCIsInJlbmRlciJdLCJtYXBwaW5ncyI6ImFBQ0UsU0FBU0EsRUFBcUJDLEdBUTdCLElBUEEsSUFNSUMsRUFBVUMsRUFOVkMsRUFBV0gsRUFBSyxHQUNoQkksRUFBY0osRUFBSyxHQUNuQkssRUFBaUJMLEVBQUssR0FJSE0sRUFBSSxFQUFHQyxFQUFXLEdBQ3BDRCxFQUFJSCxFQUFTSyxPQUFRRixJQUN6QkosRUFBVUMsRUFBU0csR0FDaEJHLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtDLEVBQWlCWCxJQUFZVyxFQUFnQlgsSUFDcEZLLEVBQVNPLEtBQUtELEVBQWdCWCxHQUFTLElBRXhDVyxF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QUN0RCtELEVBQVVzRixTQUFTL0csRUFBSXJsQixLQUFLNFIsSUFBSSxFQUFHa1YsRUFBVXNGLFNBQVMvRyxJZjJEeER5SyxDQUFnQixHZXZGYixTQUF3QmhKLEVBQVcrSCxHQUN4Qy9ILEVBQVUrRSxTQUFTMUgsV0FDaEIyQyxFQUFVc0YsU0FBU3JKLEVBQUk4TCxFQUFRLEVBQVV2SixRQUFRQyxlQUVwRHVCLEVBQVUrRSxTQUFTL0gsYUFDaEJnRCxFQUFVc0YsU0FBUy9HLEVBQUl3SixFQUFRLEVBQVV2SixRQUFRQyxlQUVwRHVCLEVBQVUrRSxTQUFTbEksWUFBWWprQixTQUFTd2IsR0FBSzRMLEVBQVVzRixTQUFTbFIsRUFBSTJULEVmaUZsRWtCLENBQWUsRUFBV2xCLEdlL0V2QixTQUFzQi9ILEdBQ3ZCQSxFQUFVK0UsU0FBU2xJLFlBQVlqa0IsU0FBU3diLEVBQUksRUFBVWtLLGdCQUFnQmxLLElBQ3hFNEwsRUFBVXNGLFNBQVNsUixFQUFJLEVBQ3ZCNEwsRUFBVStFLFNBQVNsSSxZQUFZamtCLFNBQVN3YixFQUFJLEVBQVVrSyxnQkFBZ0JsSyxFQUV0RTRMLEVBQVVrRixLQUFLRyxTQUFVLEdmMkV6QjZELENBQWEsR0FFZixFQUFVcEUsU0FBU3FFLE9BQU8sRUFBVTViLE1BQU8sRUFBVWUsUUFqQnJENmEsR0FDQXZFLEVBQU10QyxTQWpEUnVGIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHRcdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3RcbiBcdFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyB8fCBbXSk7XG5cbiBcdFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG4gXHRcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIFx0fTtcbiBcdGZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCkge1xuIFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuIFx0XHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuIFx0XHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG4gXHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsZmlsbGVkKSB7XG4gXHRcdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG4gXHRcdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHRyZXR1cm4gcmVzdWx0O1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0MDogMFxuIFx0fTtcblxuIFx0dmFyIGRlZmVycmVkTW9kdWxlcyA9IFtdO1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbMSwxXSk7XG4gXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIHJlYWR5XG4gXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiIsImltcG9ydCB7XG4gIEFuaW1hdGlvbkNsaXAsXG4gIEJvbmUsXG4gIEJveDMsXG4gIEJ1ZmZlckF0dHJpYnV0ZSxcbiAgQnVmZmVyR2VvbWV0cnksXG4gIENhbnZhc1RleHR1cmUsXG4gIENsYW1wVG9FZGdlV3JhcHBpbmcsXG4gIENvbG9yLFxuICBEaXJlY3Rpb25hbExpZ2h0LFxuICBEb3VibGVTaWRlLFxuICBGaWxlTG9hZGVyLFxuICBGcm9udFNpZGUsXG4gIEdyb3VwLFxuICBJbWFnZUJpdG1hcExvYWRlcixcbiAgSW50ZXJsZWF2ZWRCdWZmZXIsXG4gIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLFxuICBJbnRlcnBvbGFudCxcbiAgSW50ZXJwb2xhdGVEaXNjcmV0ZSxcbiAgSW50ZXJwb2xhdGVMaW5lYXIsXG4gIExpbmUsXG4gIExpbmVCYXNpY01hdGVyaWFsLFxuICBMaW5lTG9vcCxcbiAgTGluZVNlZ21lbnRzLFxuICBMaW5lYXJGaWx0ZXIsXG4gIExpbmVhck1pcG1hcExpbmVhckZpbHRlcixcbiAgTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlcixcbiAgTG9hZGVyLFxuICBMb2FkZXJVdGlscyxcbiAgTWF0ZXJpYWwsXG4gIE1hdGhVdGlscyxcbiAgTWF0cml4NCxcbiAgTWVzaCxcbiAgTWVzaEJhc2ljTWF0ZXJpYWwsXG4gIE1lc2hQaHlzaWNhbE1hdGVyaWFsLFxuICBNZXNoU3RhbmRhcmRNYXRlcmlhbCxcbiAgTWlycm9yZWRSZXBlYXRXcmFwcGluZyxcbiAgTmVhcmVzdEZpbHRlcixcbiAgTmVhcmVzdE1pcG1hcExpbmVhckZpbHRlcixcbiAgTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXIsXG4gIE51bWJlcktleWZyYW1lVHJhY2ssXG4gIE9iamVjdDNELFxuICBPcnRob2dyYXBoaWNDYW1lcmEsXG4gIFBlcnNwZWN0aXZlQ2FtZXJhLFxuICBQb2ludExpZ2h0LFxuICBQb2ludHMsXG4gIFBvaW50c01hdGVyaWFsLFxuICBQcm9wZXJ0eUJpbmRpbmcsXG4gIFF1YXRlcm5pb25LZXlmcmFtZVRyYWNrLFxuICBSR0JGb3JtYXQsXG4gIFJlcGVhdFdyYXBwaW5nLFxuICBTa2VsZXRvbixcbiAgU2tpbm5lZE1lc2gsXG4gIFNwaGVyZSxcbiAgU3BvdExpZ2h0LFxuICBUYW5nZW50U3BhY2VOb3JtYWxNYXAsXG4gIFRleHR1cmVMb2FkZXIsXG4gIFRyaWFuZ2xlRmFuRHJhd01vZGUsXG4gIFRyaWFuZ2xlU3RyaXBEcmF3TW9kZSxcbiAgVmVjdG9yMixcbiAgVmVjdG9yMyxcbiAgVmVjdG9yS2V5ZnJhbWVUcmFjayxcbiAgc1JHQkVuY29kaW5nLFxufSBmcm9tIFwidGhyZWVcIjtcblxudmFyIEdMVEZMb2FkZXIgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHTFRGTG9hZGVyKG1hbmFnZXIpIHtcbiAgICBMb2FkZXIuY2FsbCh0aGlzLCBtYW5hZ2VyKTtcblxuICAgIHRoaXMuZHJhY29Mb2FkZXIgPSBudWxsO1xuICAgIHRoaXMuZGRzTG9hZGVyID0gbnVsbDtcbiAgICB0aGlzLmt0eDJMb2FkZXIgPSBudWxsO1xuXG4gICAgdGhpcy5wbHVnaW5DYWxsYmFja3MgPSBbXTtcblxuICAgIHRoaXMucmVnaXN0ZXIoZnVuY3Rpb24gKHBhcnNlcikge1xuICAgICAgcmV0dXJuIG5ldyBHTFRGTWF0ZXJpYWxzQ2xlYXJjb2F0RXh0ZW5zaW9uKHBhcnNlcik7XG4gICAgfSk7XG5cbiAgICB0aGlzLnJlZ2lzdGVyKGZ1bmN0aW9uIChwYXJzZXIpIHtcbiAgICAgIHJldHVybiBuZXcgR0xURlRleHR1cmVCYXNpc1VFeHRlbnNpb24ocGFyc2VyKTtcbiAgICB9KTtcblxuICAgIHRoaXMucmVnaXN0ZXIoZnVuY3Rpb24gKHBhcnNlcikge1xuICAgICAgcmV0dXJuIG5ldyBHTFRGTWF0ZXJpYWxzVHJhbnNtaXNzaW9uRXh0ZW5zaW9uKHBhcnNlcik7XG4gICAgfSk7XG5cbiAgICB0aGlzLnJlZ2lzdGVyKGZ1bmN0aW9uIChwYXJzZXIpIHtcbiAgICAgIHJldHVybiBuZXcgR0xURkxpZ2h0c0V4dGVuc2lvbihwYXJzZXIpO1xuICAgIH0pO1xuICB9XG5cbiAgR0xURkxvYWRlci5wcm90b3R5cGUgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoTG9hZGVyLnByb3RvdHlwZSksIHtcbiAgICBjb25zdHJ1Y3RvcjogR0xURkxvYWRlcixcblxuICAgIGxvYWQ6IGZ1bmN0aW9uICh1cmwsIG9uTG9hZCwgb25Qcm9ncmVzcywgb25FcnJvcikge1xuICAgICAgdmFyIHNjb3BlID0gdGhpcztcblxuICAgICAgdmFyIHJlc291cmNlUGF0aDtcblxuICAgICAgaWYgKHRoaXMucmVzb3VyY2VQYXRoICE9PSBcIlwiKSB7XG4gICAgICAgIHJlc291cmNlUGF0aCA9IHRoaXMucmVzb3VyY2VQYXRoO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnBhdGggIT09IFwiXCIpIHtcbiAgICAgICAgcmVzb3VyY2VQYXRoID0gdGhpcy5wYXRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb3VyY2VQYXRoID0gTG9hZGVyVXRpbHMuZXh0cmFjdFVybEJhc2UodXJsKTtcbiAgICAgIH1cblxuICAgICAgLy8gVGVsbHMgdGhlIExvYWRpbmdNYW5hZ2VyIHRvIHRyYWNrIGFuIGV4dHJhIGl0ZW0sIHdoaWNoIHJlc29sdmVzIGFmdGVyXG4gICAgICAvLyB0aGUgbW9kZWwgaXMgZnVsbHkgbG9hZGVkLiBUaGlzIG1lYW5zIHRoZSBjb3VudCBvZiBpdGVtcyBsb2FkZWQgd2lsbFxuICAgICAgLy8gYmUgaW5jb3JyZWN0LCBidXQgZW5zdXJlcyBtYW5hZ2VyLm9uTG9hZCgpIGRvZXMgbm90IGZpcmUgZWFybHkuXG4gICAgICB0aGlzLm1hbmFnZXIuaXRlbVN0YXJ0KHVybCk7XG5cbiAgICAgIHZhciBfb25FcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgICAgb25FcnJvcihlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUubWFuYWdlci5pdGVtRXJyb3IodXJsKTtcbiAgICAgICAgc2NvcGUubWFuYWdlci5pdGVtRW5kKHVybCk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgbG9hZGVyID0gbmV3IEZpbGVMb2FkZXIodGhpcy5tYW5hZ2VyKTtcblxuICAgICAgbG9hZGVyLnNldFBhdGgodGhpcy5wYXRoKTtcbiAgICAgIGxvYWRlci5zZXRSZXNwb25zZVR5cGUoXCJhcnJheWJ1ZmZlclwiKTtcbiAgICAgIGxvYWRlci5zZXRSZXF1ZXN0SGVhZGVyKHRoaXMucmVxdWVzdEhlYWRlcik7XG4gICAgICBsb2FkZXIuc2V0V2l0aENyZWRlbnRpYWxzKHRoaXMud2l0aENyZWRlbnRpYWxzKTtcblxuICAgICAgbG9hZGVyLmxvYWQoXG4gICAgICAgIHVybCxcbiAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2NvcGUucGFyc2UoXG4gICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgIHJlc291cmNlUGF0aCxcbiAgICAgICAgICAgICAgZnVuY3Rpb24gKGdsdGYpIHtcbiAgICAgICAgICAgICAgICBvbkxvYWQoZ2x0Zik7XG5cbiAgICAgICAgICAgICAgICBzY29wZS5tYW5hZ2VyLml0ZW1FbmQodXJsKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgX29uRXJyb3JcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgX29uRXJyb3IoZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvblByb2dyZXNzLFxuICAgICAgICBfb25FcnJvclxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgc2V0RFJBQ09Mb2FkZXI6IGZ1bmN0aW9uIChkcmFjb0xvYWRlcikge1xuICAgICAgdGhpcy5kcmFjb0xvYWRlciA9IGRyYWNvTG9hZGVyO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIHNldEREU0xvYWRlcjogZnVuY3Rpb24gKGRkc0xvYWRlcikge1xuICAgICAgdGhpcy5kZHNMb2FkZXIgPSBkZHNMb2FkZXI7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgc2V0S1RYMkxvYWRlcjogZnVuY3Rpb24gKGt0eDJMb2FkZXIpIHtcbiAgICAgIHRoaXMua3R4MkxvYWRlciA9IGt0eDJMb2FkZXI7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgaWYgKHRoaXMucGx1Z2luQ2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spID09PSAtMSkge1xuICAgICAgICB0aGlzLnBsdWdpbkNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIHVucmVnaXN0ZXI6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgaWYgKHRoaXMucGx1Z2luQ2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spICE9PSAtMSkge1xuICAgICAgICB0aGlzLnBsdWdpbkNhbGxiYWNrcy5zcGxpY2UodGhpcy5wbHVnaW5DYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayksIDEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgcGFyc2U6IGZ1bmN0aW9uIChkYXRhLCBwYXRoLCBvbkxvYWQsIG9uRXJyb3IpIHtcbiAgICAgIHZhciBjb250ZW50O1xuICAgICAgdmFyIGV4dGVuc2lvbnMgPSB7fTtcbiAgICAgIHZhciBwbHVnaW5zID0ge307XG5cbiAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb250ZW50ID0gZGF0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBtYWdpYyA9IExvYWRlclV0aWxzLmRlY29kZVRleHQobmV3IFVpbnQ4QXJyYXkoZGF0YSwgMCwgNCkpO1xuXG4gICAgICAgIGlmIChtYWdpYyA9PT0gQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTUFHSUMpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9CSU5BUllfR0xURl0gPSBuZXcgR0xURkJpbmFyeUV4dGVuc2lvbihcbiAgICAgICAgICAgICAgZGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKG9uRXJyb3IpIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRlbnQgPSBleHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0JJTkFSWV9HTFRGXS5jb250ZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRlbnQgPSBMb2FkZXJVdGlscy5kZWNvZGVUZXh0KG5ldyBVaW50OEFycmF5KGRhdGEpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoY29udGVudCk7XG5cbiAgICAgIGlmIChqc29uLmFzc2V0ID09PSB1bmRlZmluZWQgfHwganNvbi5hc3NldC52ZXJzaW9uWzBdIDwgMikge1xuICAgICAgICBpZiAob25FcnJvcilcbiAgICAgICAgICBvbkVycm9yKFxuICAgICAgICAgICAgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBcIlRIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIGFzc2V0LiBnbFRGIHZlcnNpb25zID49Mi4wIGFyZSBzdXBwb3J0ZWQuXCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBwYXJzZXIgPSBuZXcgR0xURlBhcnNlcihqc29uLCB7XG4gICAgICAgIHBhdGg6IHBhdGggfHwgdGhpcy5yZXNvdXJjZVBhdGggfHwgXCJcIixcbiAgICAgICAgY3Jvc3NPcmlnaW46IHRoaXMuY3Jvc3NPcmlnaW4sXG4gICAgICAgIG1hbmFnZXI6IHRoaXMubWFuYWdlcixcbiAgICAgICAga3R4MkxvYWRlcjogdGhpcy5rdHgyTG9hZGVyLFxuICAgICAgfSk7XG5cbiAgICAgIHBhcnNlci5maWxlTG9hZGVyLnNldFJlcXVlc3RIZWFkZXIodGhpcy5yZXF1ZXN0SGVhZGVyKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBsdWdpbkNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGx1Z2luID0gdGhpcy5wbHVnaW5DYWxsYmFja3NbaV0ocGFyc2VyKTtcbiAgICAgICAgcGx1Z2luc1twbHVnaW4ubmFtZV0gPSBwbHVnaW47XG5cbiAgICAgICAgLy8gV29ya2Fyb3VuZCB0byBhdm9pZCBkZXRlcm1pbmluZyBhcyB1bmtub3duIGV4dGVuc2lvblxuICAgICAgICAvLyBpbiBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoKS5cbiAgICAgICAgLy8gUmVtb3ZlIHRoaXMgd29ya2Fyb3VuZCBpZiB3ZSBtb3ZlIGFsbCB0aGUgZXhpc3RpbmdcbiAgICAgICAgLy8gZXh0ZW5zaW9uIGhhbmRsZXJzIHRvIHBsdWdpbiBzeXN0ZW1cbiAgICAgICAgZXh0ZW5zaW9uc1twbHVnaW4ubmFtZV0gPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoanNvbi5leHRlbnNpb25zVXNlZCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGpzb24uZXh0ZW5zaW9uc1VzZWQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICB2YXIgZXh0ZW5zaW9uTmFtZSA9IGpzb24uZXh0ZW5zaW9uc1VzZWRbaV07XG4gICAgICAgICAgdmFyIGV4dGVuc2lvbnNSZXF1aXJlZCA9IGpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkIHx8IFtdO1xuXG4gICAgICAgICAgc3dpdGNoIChleHRlbnNpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19VTkxJVDpcbiAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IG5ldyBHTFRGTWF0ZXJpYWxzVW5saXRFeHRlbnNpb24oKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTOlxuICAgICAgICAgICAgICBleHRlbnNpb25zW1xuICAgICAgICAgICAgICAgIGV4dGVuc2lvbk5hbWVcbiAgICAgICAgICAgICAgXSA9IG5ldyBHTFRGTWF0ZXJpYWxzUGJyU3BlY3VsYXJHbG9zc2luZXNzRXh0ZW5zaW9uKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT046XG4gICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBuZXcgR0xURkRyYWNvTWVzaENvbXByZXNzaW9uRXh0ZW5zaW9uKFxuICAgICAgICAgICAgICAgIGpzb24sXG4gICAgICAgICAgICAgICAgdGhpcy5kcmFjb0xvYWRlclxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBFWFRFTlNJT05TLk1TRlRfVEVYVFVSRV9ERFM6XG4gICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBuZXcgR0xURlRleHR1cmVERFNFeHRlbnNpb24oXG4gICAgICAgICAgICAgICAgdGhpcy5kZHNMb2FkZXJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgRVhURU5TSU9OUy5LSFJfVEVYVFVSRV9UUkFOU0ZPUk06XG4gICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBuZXcgR0xURlRleHR1cmVUcmFuc2Zvcm1FeHRlbnNpb24oKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgRVhURU5TSU9OUy5LSFJfTUVTSF9RVUFOVElaQVRJT046XG4gICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBuZXcgR0xURk1lc2hRdWFudGl6YXRpb25FeHRlbnNpb24oKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zUmVxdWlyZWQuaW5kZXhPZihleHRlbnNpb25OYW1lKSA+PSAwICYmXG4gICAgICAgICAgICAgICAgcGx1Z2luc1tleHRlbnNpb25OYW1lXSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICAgICdUSFJFRS5HTFRGTG9hZGVyOiBVbmtub3duIGV4dGVuc2lvbiBcIicgKyBleHRlbnNpb25OYW1lICsgJ1wiLidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHBhcnNlci5zZXRFeHRlbnNpb25zKGV4dGVuc2lvbnMpO1xuICAgICAgcGFyc2VyLnNldFBsdWdpbnMocGx1Z2lucyk7XG4gICAgICBwYXJzZXIucGFyc2Uob25Mb2FkLCBvbkVycm9yKTtcbiAgICB9LFxuICB9KTtcblxuICAvKiBHTFRGUkVHSVNUUlkgKi9cblxuICBmdW5jdGlvbiBHTFRGUmVnaXN0cnkoKSB7XG4gICAgdmFyIG9iamVjdHMgPSB7fTtcblxuICAgIHJldHVybiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdHNba2V5XTtcbiAgICAgIH0sXG5cbiAgICAgIGFkZDogZnVuY3Rpb24gKGtleSwgb2JqZWN0KSB7XG4gICAgICAgIG9iamVjdHNba2V5XSA9IG9iamVjdDtcbiAgICAgIH0sXG5cbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBkZWxldGUgb2JqZWN0c1trZXldO1xuICAgICAgfSxcblxuICAgICAgcmVtb3ZlQWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG9iamVjdHMgPSB7fTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIC8qKioqKioqKioqIEVYVEVOU0lPTlMgKioqKioqKioqKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgdmFyIEVYVEVOU0lPTlMgPSB7XG4gICAgS0hSX0JJTkFSWV9HTFRGOiBcIktIUl9iaW5hcnlfZ2xURlwiLFxuICAgIEtIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OOiBcIktIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uXCIsXG4gICAgS0hSX0xJR0hUU19QVU5DVFVBTDogXCJLSFJfbGlnaHRzX3B1bmN0dWFsXCIsXG4gICAgS0hSX01BVEVSSUFMU19DTEVBUkNPQVQ6IFwiS0hSX21hdGVyaWFsc19jbGVhcmNvYXRcIixcbiAgICBLSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTOlxuICAgICAgXCJLSFJfbWF0ZXJpYWxzX3BiclNwZWN1bGFyR2xvc3NpbmVzc1wiLFxuICAgIEtIUl9NQVRFUklBTFNfVFJBTlNNSVNTSU9OOiBcIktIUl9tYXRlcmlhbHNfdHJhbnNtaXNzaW9uXCIsXG4gICAgS0hSX01BVEVSSUFMU19VTkxJVDogXCJLSFJfbWF0ZXJpYWxzX3VubGl0XCIsXG4gICAgS0hSX1RFWFRVUkVfQkFTSVNVOiBcIktIUl90ZXh0dXJlX2Jhc2lzdVwiLFxuICAgIEtIUl9URVhUVVJFX1RSQU5TRk9STTogXCJLSFJfdGV4dHVyZV90cmFuc2Zvcm1cIixcbiAgICBLSFJfTUVTSF9RVUFOVElaQVRJT046IFwiS0hSX21lc2hfcXVhbnRpemF0aW9uXCIsXG4gICAgTVNGVF9URVhUVVJFX0REUzogXCJNU0ZUX3RleHR1cmVfZGRzXCIsXG4gIH07XG5cbiAgLyoqXG4gICAqIEREUyBUZXh0dXJlIEV4dGVuc2lvblxuICAgKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvVmVuZG9yL01TRlRfdGV4dHVyZV9kZHNcbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIEdMVEZUZXh0dXJlRERTRXh0ZW5zaW9uKGRkc0xvYWRlcikge1xuICAgIGlmICghZGRzTG9hZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiVEhSRUUuR0xURkxvYWRlcjogQXR0ZW1wdGluZyB0byBsb2FkIC5kZHMgdGV4dHVyZSB3aXRob3V0IGltcG9ydGluZyBERFNMb2FkZXJcIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLk1TRlRfVEVYVFVSRV9ERFM7XG4gICAgdGhpcy5kZHNMb2FkZXIgPSBkZHNMb2FkZXI7XG4gIH1cblxuICAvKipcbiAgICogUHVuY3R1YWwgTGlnaHRzIEV4dGVuc2lvblxuICAgKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbGlnaHRzX3B1bmN0dWFsXG4gICAqL1xuICBmdW5jdGlvbiBHTFRGTGlnaHRzRXh0ZW5zaW9uKHBhcnNlcikge1xuICAgIHRoaXMucGFyc2VyID0gcGFyc2VyO1xuICAgIHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX0xJR0hUU19QVU5DVFVBTDtcblxuICAgIC8vIE9iamVjdDNEIGluc3RhbmNlIGNhY2hlc1xuICAgIHRoaXMuY2FjaGUgPSB7IHJlZnM6IHt9LCB1c2VzOiB7fSB9O1xuICB9XG5cbiAgR0xURkxpZ2h0c0V4dGVuc2lvbi5wcm90b3R5cGUuX21hcmtEZWZzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcbiAgICB2YXIgbm9kZURlZnMgPSB0aGlzLnBhcnNlci5qc29uLm5vZGVzIHx8IFtdO1xuXG4gICAgZm9yIChcbiAgICAgIHZhciBub2RlSW5kZXggPSAwLCBub2RlTGVuZ3RoID0gbm9kZURlZnMubGVuZ3RoO1xuICAgICAgbm9kZUluZGV4IDwgbm9kZUxlbmd0aDtcbiAgICAgIG5vZGVJbmRleCsrXG4gICAgKSB7XG4gICAgICB2YXIgbm9kZURlZiA9IG5vZGVEZWZzW25vZGVJbmRleF07XG5cbiAgICAgIGlmIChcbiAgICAgICAgbm9kZURlZi5leHRlbnNpb25zICYmXG4gICAgICAgIG5vZGVEZWYuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdICYmXG4gICAgICAgIG5vZGVEZWYuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdLmxpZ2h0ICE9PSB1bmRlZmluZWRcbiAgICAgICkge1xuICAgICAgICBwYXJzZXIuX2FkZE5vZGVSZWYodGhpcy5jYWNoZSwgbm9kZURlZi5leHRlbnNpb25zW3RoaXMubmFtZV0ubGlnaHQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBHTFRGTGlnaHRzRXh0ZW5zaW9uLnByb3RvdHlwZS5fbG9hZExpZ2h0ID0gZnVuY3Rpb24gKGxpZ2h0SW5kZXgpIHtcbiAgICB2YXIgcGFyc2VyID0gdGhpcy5wYXJzZXI7XG4gICAgdmFyIGNhY2hlS2V5ID0gXCJsaWdodDpcIiArIGxpZ2h0SW5kZXg7XG4gICAgdmFyIGRlcGVuZGVuY3kgPSBwYXJzZXIuY2FjaGUuZ2V0KGNhY2hlS2V5KTtcblxuICAgIGlmIChkZXBlbmRlbmN5KSByZXR1cm4gZGVwZW5kZW5jeTtcblxuICAgIHZhciBqc29uID0gcGFyc2VyLmpzb247XG4gICAgdmFyIGV4dGVuc2lvbnMgPSAoanNvbi5leHRlbnNpb25zICYmIGpzb24uZXh0ZW5zaW9uc1t0aGlzLm5hbWVdKSB8fCB7fTtcbiAgICB2YXIgbGlnaHREZWZzID0gZXh0ZW5zaW9ucy5saWdodHMgfHwgW107XG4gICAgdmFyIGxpZ2h0RGVmID0gbGlnaHREZWZzW2xpZ2h0SW5kZXhdO1xuICAgIHZhciBsaWdodE5vZGU7XG5cbiAgICB2YXIgY29sb3IgPSBuZXcgQ29sb3IoMHhmZmZmZmYpO1xuXG4gICAgaWYgKGxpZ2h0RGVmLmNvbG9yICE9PSB1bmRlZmluZWQpIGNvbG9yLmZyb21BcnJheShsaWdodERlZi5jb2xvcik7XG5cbiAgICB2YXIgcmFuZ2UgPSBsaWdodERlZi5yYW5nZSAhPT0gdW5kZWZpbmVkID8gbGlnaHREZWYucmFuZ2UgOiAwO1xuXG4gICAgc3dpdGNoIChsaWdodERlZi50eXBlKSB7XG4gICAgICBjYXNlIFwiZGlyZWN0aW9uYWxcIjpcbiAgICAgICAgbGlnaHROb2RlID0gbmV3IERpcmVjdGlvbmFsTGlnaHQoY29sb3IpO1xuICAgICAgICBsaWdodE5vZGUudGFyZ2V0LnBvc2l0aW9uLnNldCgwLCAwLCAtMSk7XG4gICAgICAgIGxpZ2h0Tm9kZS5hZGQobGlnaHROb2RlLnRhcmdldCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwicG9pbnRcIjpcbiAgICAgICAgbGlnaHROb2RlID0gbmV3IFBvaW50TGlnaHQoY29sb3IpO1xuICAgICAgICBsaWdodE5vZGUuZGlzdGFuY2UgPSByYW5nZTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJzcG90XCI6XG4gICAgICAgIGxpZ2h0Tm9kZSA9IG5ldyBTcG90TGlnaHQoY29sb3IpO1xuICAgICAgICBsaWdodE5vZGUuZGlzdGFuY2UgPSByYW5nZTtcbiAgICAgICAgLy8gSGFuZGxlIHNwb3RsaWdodCBwcm9wZXJ0aWVzLlxuICAgICAgICBsaWdodERlZi5zcG90ID0gbGlnaHREZWYuc3BvdCB8fCB7fTtcbiAgICAgICAgbGlnaHREZWYuc3BvdC5pbm5lckNvbmVBbmdsZSA9XG4gICAgICAgICAgbGlnaHREZWYuc3BvdC5pbm5lckNvbmVBbmdsZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IGxpZ2h0RGVmLnNwb3QuaW5uZXJDb25lQW5nbGVcbiAgICAgICAgICAgIDogMDtcbiAgICAgICAgbGlnaHREZWYuc3BvdC5vdXRlckNvbmVBbmdsZSA9XG4gICAgICAgICAgbGlnaHREZWYuc3BvdC5vdXRlckNvbmVBbmdsZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGVcbiAgICAgICAgICAgIDogTWF0aC5QSSAvIDQuMDtcbiAgICAgICAgbGlnaHROb2RlLmFuZ2xlID0gbGlnaHREZWYuc3BvdC5vdXRlckNvbmVBbmdsZTtcbiAgICAgICAgbGlnaHROb2RlLnBlbnVtYnJhID1cbiAgICAgICAgICAxLjAgLSBsaWdodERlZi5zcG90LmlubmVyQ29uZUFuZ2xlIC8gbGlnaHREZWYuc3BvdC5vdXRlckNvbmVBbmdsZTtcbiAgICAgICAgbGlnaHROb2RlLnRhcmdldC5wb3NpdGlvbi5zZXQoMCwgMCwgLTEpO1xuICAgICAgICBsaWdodE5vZGUuYWRkKGxpZ2h0Tm9kZS50YXJnZXQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdUSFJFRS5HTFRGTG9hZGVyOiBVbmV4cGVjdGVkIGxpZ2h0IHR5cGUsIFwiJyArIGxpZ2h0RGVmLnR5cGUgKyAnXCIuJ1xuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vIFNvbWUgbGlnaHRzIChlLmcuIHNwb3QpIGRlZmF1bHQgdG8gYSBwb3NpdGlvbiBvdGhlciB0aGFuIHRoZSBvcmlnaW4uIFJlc2V0IHRoZSBwb3NpdGlvblxuICAgIC8vIGhlcmUsIGJlY2F1c2Ugbm9kZS1sZXZlbCBwYXJzaW5nIHdpbGwgb25seSBvdmVycmlkZSBwb3NpdGlvbiBpZiBleHBsaWNpdGx5IHNwZWNpZmllZC5cbiAgICBsaWdodE5vZGUucG9zaXRpb24uc2V0KDAsIDAsIDApO1xuXG4gICAgbGlnaHROb2RlLmRlY2F5ID0gMjtcblxuICAgIGlmIChsaWdodERlZi5pbnRlbnNpdHkgIT09IHVuZGVmaW5lZClcbiAgICAgIGxpZ2h0Tm9kZS5pbnRlbnNpdHkgPSBsaWdodERlZi5pbnRlbnNpdHk7XG5cbiAgICBsaWdodE5vZGUubmFtZSA9IHBhcnNlci5jcmVhdGVVbmlxdWVOYW1lKFxuICAgICAgbGlnaHREZWYubmFtZSB8fCBcImxpZ2h0X1wiICsgbGlnaHRJbmRleFxuICAgICk7XG5cbiAgICBkZXBlbmRlbmN5ID0gUHJvbWlzZS5yZXNvbHZlKGxpZ2h0Tm9kZSk7XG5cbiAgICBwYXJzZXIuY2FjaGUuYWRkKGNhY2hlS2V5LCBkZXBlbmRlbmN5KTtcblxuICAgIHJldHVybiBkZXBlbmRlbmN5O1xuICB9O1xuXG4gIEdMVEZMaWdodHNFeHRlbnNpb24ucHJvdG90eXBlLmNyZWF0ZU5vZGVBdHRhY2htZW50ID0gZnVuY3Rpb24gKG5vZGVJbmRleCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgcGFyc2VyID0gdGhpcy5wYXJzZXI7XG4gICAgdmFyIGpzb24gPSBwYXJzZXIuanNvbjtcbiAgICB2YXIgbm9kZURlZiA9IGpzb24ubm9kZXNbbm9kZUluZGV4XTtcbiAgICB2YXIgbGlnaHREZWYgPSAobm9kZURlZi5leHRlbnNpb25zICYmIG5vZGVEZWYuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdKSB8fCB7fTtcbiAgICB2YXIgbGlnaHRJbmRleCA9IGxpZ2h0RGVmLmxpZ2h0O1xuXG4gICAgaWYgKGxpZ2h0SW5kZXggPT09IHVuZGVmaW5lZCkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gdGhpcy5fbG9hZExpZ2h0KGxpZ2h0SW5kZXgpLnRoZW4oZnVuY3Rpb24gKGxpZ2h0KSB7XG4gICAgICByZXR1cm4gcGFyc2VyLl9nZXROb2RlUmVmKHNlbGYuY2FjaGUsIGxpZ2h0SW5kZXgsIGxpZ2h0KTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogVW5saXQgTWF0ZXJpYWxzIEV4dGVuc2lvblxuICAgKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWF0ZXJpYWxzX3VubGl0XG4gICAqL1xuICBmdW5jdGlvbiBHTFRGTWF0ZXJpYWxzVW5saXRFeHRlbnNpb24oKSB7XG4gICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1VOTElUO1xuICB9XG5cbiAgR0xURk1hdGVyaWFsc1VubGl0RXh0ZW5zaW9uLnByb3RvdHlwZS5nZXRNYXRlcmlhbFR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE1lc2hCYXNpY01hdGVyaWFsO1xuICB9O1xuXG4gIEdMVEZNYXRlcmlhbHNVbmxpdEV4dGVuc2lvbi5wcm90b3R5cGUuZXh0ZW5kUGFyYW1zID0gZnVuY3Rpb24gKFxuICAgIG1hdGVyaWFsUGFyYW1zLFxuICAgIG1hdGVyaWFsRGVmLFxuICAgIHBhcnNlclxuICApIHtcbiAgICB2YXIgcGVuZGluZyA9IFtdO1xuXG4gICAgbWF0ZXJpYWxQYXJhbXMuY29sb3IgPSBuZXcgQ29sb3IoMS4wLCAxLjAsIDEuMCk7XG4gICAgbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IDEuMDtcblxuICAgIHZhciBtZXRhbGxpY1JvdWdobmVzcyA9IG1hdGVyaWFsRGVmLnBick1ldGFsbGljUm91Z2huZXNzO1xuXG4gICAgaWYgKG1ldGFsbGljUm91Z2huZXNzKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3IpKSB7XG4gICAgICAgIHZhciBhcnJheSA9IG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvcjtcblxuICAgICAgICBtYXRlcmlhbFBhcmFtcy5jb2xvci5mcm9tQXJyYXkoYXJyYXkpO1xuICAgICAgICBtYXRlcmlhbFBhcmFtcy5vcGFjaXR5ID0gYXJyYXlbM107XG4gICAgICB9XG5cbiAgICAgIGlmIChtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKFxuICAgICAgICAgICAgbWF0ZXJpYWxQYXJhbXMsXG4gICAgICAgICAgICBcIm1hcFwiLFxuICAgICAgICAgICAgbWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENsZWFyY29hdCBNYXRlcmlhbHMgRXh0ZW5zaW9uXG4gICAqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfY2xlYXJjb2F0XG4gICAqL1xuICBmdW5jdGlvbiBHTFRGTWF0ZXJpYWxzQ2xlYXJjb2F0RXh0ZW5zaW9uKHBhcnNlcikge1xuICAgIHRoaXMucGFyc2VyID0gcGFyc2VyO1xuICAgIHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19DTEVBUkNPQVQ7XG4gIH1cblxuICBHTFRGTWF0ZXJpYWxzQ2xlYXJjb2F0RXh0ZW5zaW9uLnByb3RvdHlwZS5nZXRNYXRlcmlhbFR5cGUgPSBmdW5jdGlvbiAoXG4gICAgbWF0ZXJpYWxJbmRleFxuICApIHtcbiAgICB2YXIgcGFyc2VyID0gdGhpcy5wYXJzZXI7XG4gICAgdmFyIG1hdGVyaWFsRGVmID0gcGFyc2VyLmpzb24ubWF0ZXJpYWxzW21hdGVyaWFsSW5kZXhdO1xuXG4gICAgaWYgKCFtYXRlcmlhbERlZi5leHRlbnNpb25zIHx8ICFtYXRlcmlhbERlZi5leHRlbnNpb25zW3RoaXMubmFtZV0pXG4gICAgICByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiBNZXNoUGh5c2ljYWxNYXRlcmlhbDtcbiAgfTtcblxuICBHTFRGTWF0ZXJpYWxzQ2xlYXJjb2F0RXh0ZW5zaW9uLnByb3RvdHlwZS5leHRlbmRNYXRlcmlhbFBhcmFtcyA9IGZ1bmN0aW9uIChcbiAgICBtYXRlcmlhbEluZGV4LFxuICAgIG1hdGVyaWFsUGFyYW1zXG4gICkge1xuICAgIHZhciBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcbiAgICB2YXIgbWF0ZXJpYWxEZWYgPSBwYXJzZXIuanNvbi5tYXRlcmlhbHNbbWF0ZXJpYWxJbmRleF07XG5cbiAgICBpZiAoIW1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgIW1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbdGhpcy5uYW1lXSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHZhciBwZW5kaW5nID0gW107XG5cbiAgICB2YXIgZXh0ZW5zaW9uID0gbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdO1xuXG4gICAgaWYgKGV4dGVuc2lvbi5jbGVhcmNvYXRGYWN0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbWF0ZXJpYWxQYXJhbXMuY2xlYXJjb2F0ID0gZXh0ZW5zaW9uLmNsZWFyY29hdEZhY3RvcjtcbiAgICB9XG5cbiAgICBpZiAoZXh0ZW5zaW9uLmNsZWFyY29hdFRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShcbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcyxcbiAgICAgICAgICBcImNsZWFyY29hdE1hcFwiLFxuICAgICAgICAgIGV4dGVuc2lvbi5jbGVhcmNvYXRUZXh0dXJlXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGV4dGVuc2lvbi5jbGVhcmNvYXRSb3VnaG5lc3NGYWN0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbWF0ZXJpYWxQYXJhbXMuY2xlYXJjb2F0Um91Z2huZXNzID0gZXh0ZW5zaW9uLmNsZWFyY29hdFJvdWdobmVzc0ZhY3RvcjtcbiAgICB9XG5cbiAgICBpZiAoZXh0ZW5zaW9uLmNsZWFyY29hdFJvdWdobmVzc1RleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShcbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcyxcbiAgICAgICAgICBcImNsZWFyY29hdFJvdWdobmVzc01hcFwiLFxuICAgICAgICAgIGV4dGVuc2lvbi5jbGVhcmNvYXRSb3VnaG5lc3NUZXh0dXJlXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGV4dGVuc2lvbi5jbGVhcmNvYXROb3JtYWxUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHBlbmRpbmcucHVzaChcbiAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUoXG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMsXG4gICAgICAgICAgXCJjbGVhcmNvYXROb3JtYWxNYXBcIixcbiAgICAgICAgICBleHRlbnNpb24uY2xlYXJjb2F0Tm9ybWFsVGV4dHVyZVxuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICBpZiAoZXh0ZW5zaW9uLmNsZWFyY29hdE5vcm1hbFRleHR1cmUuc2NhbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgc2NhbGUgPSBleHRlbnNpb24uY2xlYXJjb2F0Tm9ybWFsVGV4dHVyZS5zY2FsZTtcblxuICAgICAgICBtYXRlcmlhbFBhcmFtcy5jbGVhcmNvYXROb3JtYWxTY2FsZSA9IG5ldyBWZWN0b3IyKHNjYWxlLCBzY2FsZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUcmFuc21pc3Npb24gTWF0ZXJpYWxzIEV4dGVuc2lvblxuICAgKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWF0ZXJpYWxzX3RyYW5zbWlzc2lvblxuICAgKiBEcmFmdDogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3B1bGwvMTY5OFxuICAgKi9cbiAgZnVuY3Rpb24gR0xURk1hdGVyaWFsc1RyYW5zbWlzc2lvbkV4dGVuc2lvbihwYXJzZXIpIHtcbiAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfVFJBTlNNSVNTSU9OO1xuICB9XG5cbiAgR0xURk1hdGVyaWFsc1RyYW5zbWlzc2lvbkV4dGVuc2lvbi5wcm90b3R5cGUuZ2V0TWF0ZXJpYWxUeXBlID0gZnVuY3Rpb24gKFxuICAgIG1hdGVyaWFsSW5kZXhcbiAgKSB7XG4gICAgdmFyIHBhcnNlciA9IHRoaXMucGFyc2VyO1xuICAgIHZhciBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1ttYXRlcmlhbEluZGV4XTtcblxuICAgIGlmICghbWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucyB8fCAhbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdKVxuICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gTWVzaFBoeXNpY2FsTWF0ZXJpYWw7XG4gIH07XG5cbiAgR0xURk1hdGVyaWFsc1RyYW5zbWlzc2lvbkV4dGVuc2lvbi5wcm90b3R5cGUuZXh0ZW5kTWF0ZXJpYWxQYXJhbXMgPSBmdW5jdGlvbiAoXG4gICAgbWF0ZXJpYWxJbmRleCxcbiAgICBtYXRlcmlhbFBhcmFtc1xuICApIHtcbiAgICB2YXIgcGFyc2VyID0gdGhpcy5wYXJzZXI7XG4gICAgdmFyIG1hdGVyaWFsRGVmID0gcGFyc2VyLmpzb24ubWF0ZXJpYWxzW21hdGVyaWFsSW5kZXhdO1xuXG4gICAgaWYgKCFtYXRlcmlhbERlZi5leHRlbnNpb25zIHx8ICFtYXRlcmlhbERlZi5leHRlbnNpb25zW3RoaXMubmFtZV0pIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICB2YXIgcGVuZGluZyA9IFtdO1xuXG4gICAgdmFyIGV4dGVuc2lvbiA9IG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbdGhpcy5uYW1lXTtcblxuICAgIGlmIChleHRlbnNpb24udHJhbnNtaXNzaW9uRmFjdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG1hdGVyaWFsUGFyYW1zLnRyYW5zbWlzc2lvbiA9IGV4dGVuc2lvbi50cmFuc21pc3Npb25GYWN0b3I7XG4gICAgfVxuXG4gICAgaWYgKGV4dGVuc2lvbi50cmFuc21pc3Npb25UZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHBlbmRpbmcucHVzaChcbiAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUoXG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMsXG4gICAgICAgICAgXCJ0cmFuc21pc3Npb25NYXBcIixcbiAgICAgICAgICBleHRlbnNpb24udHJhbnNtaXNzaW9uVGV4dHVyZVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKTtcbiAgfTtcblxuICAvKipcbiAgICogQmFzaXNVIFRleHR1cmUgRXh0ZW5zaW9uXG4gICAqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl90ZXh0dXJlX2Jhc2lzdVxuICAgKiAoZHJhZnQgUFIgaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3B1bGwvMTc1MSlcbiAgICovXG4gIGZ1bmN0aW9uIEdMVEZUZXh0dXJlQmFzaXNVRXh0ZW5zaW9uKHBhcnNlcikge1xuICAgIHRoaXMucGFyc2VyID0gcGFyc2VyO1xuICAgIHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX1RFWFRVUkVfQkFTSVNVO1xuICB9XG5cbiAgR0xURlRleHR1cmVCYXNpc1VFeHRlbnNpb24ucHJvdG90eXBlLmxvYWRUZXh0dXJlID0gZnVuY3Rpb24gKHRleHR1cmVJbmRleCkge1xuICAgIHZhciBwYXJzZXIgPSB0aGlzLnBhcnNlcjtcbiAgICB2YXIganNvbiA9IHBhcnNlci5qc29uO1xuXG4gICAgdmFyIHRleHR1cmVEZWYgPSBqc29uLnRleHR1cmVzW3RleHR1cmVJbmRleF07XG5cbiAgICBpZiAoIXRleHR1cmVEZWYuZXh0ZW5zaW9ucyB8fCAhdGV4dHVyZURlZi5leHRlbnNpb25zW3RoaXMubmFtZV0pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBleHRlbnNpb24gPSB0ZXh0dXJlRGVmLmV4dGVuc2lvbnNbdGhpcy5uYW1lXTtcbiAgICB2YXIgc291cmNlID0ganNvbi5pbWFnZXNbZXh0ZW5zaW9uLnNvdXJjZV07XG4gICAgdmFyIGxvYWRlciA9IHBhcnNlci5vcHRpb25zLmt0eDJMb2FkZXI7XG5cbiAgICBpZiAoIWxvYWRlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlRIUkVFLkdMVEZMb2FkZXI6IHNldEtUWDJMb2FkZXIgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIGxvYWRpbmcgS1RYMiB0ZXh0dXJlc1wiXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZXIubG9hZFRleHR1cmVJbWFnZSh0ZXh0dXJlSW5kZXgsIHNvdXJjZSwgbG9hZGVyKTtcbiAgfTtcblxuICAvKiBCSU5BUlkgRVhURU5TSU9OICovXG4gIHZhciBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9NQUdJQyA9IFwiZ2xURlwiO1xuICB2YXIgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIID0gMTI7XG4gIHZhciBCSU5BUllfRVhURU5TSU9OX0NIVU5LX1RZUEVTID0geyBKU09OOiAweDRlNGY1MzRhLCBCSU46IDB4MDA0ZTQ5NDIgfTtcblxuICBmdW5jdGlvbiBHTFRGQmluYXJ5RXh0ZW5zaW9uKGRhdGEpIHtcbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9CSU5BUllfR0xURjtcbiAgICB0aGlzLmNvbnRlbnQgPSBudWxsO1xuICAgIHRoaXMuYm9keSA9IG51bGw7XG5cbiAgICB2YXIgaGVhZGVyVmlldyA9IG5ldyBEYXRhVmlldyhkYXRhLCAwLCBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9MRU5HVEgpO1xuXG4gICAgdGhpcy5oZWFkZXIgPSB7XG4gICAgICBtYWdpYzogTG9hZGVyVXRpbHMuZGVjb2RlVGV4dChuZXcgVWludDhBcnJheShkYXRhLnNsaWNlKDAsIDQpKSksXG4gICAgICB2ZXJzaW9uOiBoZWFkZXJWaWV3LmdldFVpbnQzMig0LCB0cnVlKSxcbiAgICAgIGxlbmd0aDogaGVhZGVyVmlldy5nZXRVaW50MzIoOCwgdHJ1ZSksXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmhlYWRlci5tYWdpYyAhPT0gQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTUFHSUMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIGdsVEYtQmluYXJ5IGhlYWRlci5cIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLmhlYWRlci52ZXJzaW9uIDwgMi4wKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUSFJFRS5HTFRGTG9hZGVyOiBMZWdhY3kgYmluYXJ5IGZpbGUgZGV0ZWN0ZWQuXCIpO1xuICAgIH1cblxuICAgIHZhciBjaHVua1ZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YSwgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIKTtcbiAgICB2YXIgY2h1bmtJbmRleCA9IDA7XG5cbiAgICB3aGlsZSAoY2h1bmtJbmRleCA8IGNodW5rVmlldy5ieXRlTGVuZ3RoKSB7XG4gICAgICB2YXIgY2h1bmtMZW5ndGggPSBjaHVua1ZpZXcuZ2V0VWludDMyKGNodW5rSW5kZXgsIHRydWUpO1xuICAgICAgY2h1bmtJbmRleCArPSA0O1xuXG4gICAgICB2YXIgY2h1bmtUeXBlID0gY2h1bmtWaWV3LmdldFVpbnQzMihjaHVua0luZGV4LCB0cnVlKTtcbiAgICAgIGNodW5rSW5kZXggKz0gNDtcblxuICAgICAgaWYgKGNodW5rVHlwZSA9PT0gQklOQVJZX0VYVEVOU0lPTl9DSFVOS19UWVBFUy5KU09OKSB7XG4gICAgICAgIHZhciBjb250ZW50QXJyYXkgPSBuZXcgVWludDhBcnJheShcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCArIGNodW5rSW5kZXgsXG4gICAgICAgICAgY2h1bmtMZW5ndGhcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jb250ZW50ID0gTG9hZGVyVXRpbHMuZGVjb2RlVGV4dChjb250ZW50QXJyYXkpO1xuICAgICAgfSBlbHNlIGlmIChjaHVua1R5cGUgPT09IEJJTkFSWV9FWFRFTlNJT05fQ0hVTktfVFlQRVMuQklOKSB7XG4gICAgICAgIHZhciBieXRlT2Zmc2V0ID0gQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIICsgY2h1bmtJbmRleDtcbiAgICAgICAgdGhpcy5ib2R5ID0gZGF0YS5zbGljZShieXRlT2Zmc2V0LCBieXRlT2Zmc2V0ICsgY2h1bmtMZW5ndGgpO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGllbnRzIG11c3QgaWdub3JlIGNodW5rcyB3aXRoIHVua25vd24gdHlwZXMuXG5cbiAgICAgIGNodW5rSW5kZXggKz0gY2h1bmtMZW5ndGg7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29udGVudCA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVEhSRUUuR0xURkxvYWRlcjogSlNPTiBjb250ZW50IG5vdCBmb3VuZC5cIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERSQUNPIE1lc2ggQ29tcHJlc3Npb24gRXh0ZW5zaW9uXG4gICAqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uXG4gICAqL1xuICBmdW5jdGlvbiBHTFRGRHJhY29NZXNoQ29tcHJlc3Npb25FeHRlbnNpb24oanNvbiwgZHJhY29Mb2FkZXIpIHtcbiAgICBpZiAoIWRyYWNvTG9hZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUSFJFRS5HTFRGTG9hZGVyOiBObyBEUkFDT0xvYWRlciBpbnN0YW5jZSBwcm92aWRlZC5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTjtcbiAgICB0aGlzLmpzb24gPSBqc29uO1xuICAgIHRoaXMuZHJhY29Mb2FkZXIgPSBkcmFjb0xvYWRlcjtcbiAgICB0aGlzLmRyYWNvTG9hZGVyLnByZWxvYWQoKTtcbiAgfVxuXG4gIEdMVEZEcmFjb01lc2hDb21wcmVzc2lvbkV4dGVuc2lvbi5wcm90b3R5cGUuZGVjb2RlUHJpbWl0aXZlID0gZnVuY3Rpb24gKFxuICAgIHByaW1pdGl2ZSxcbiAgICBwYXJzZXJcbiAgKSB7XG4gICAgdmFyIGpzb24gPSB0aGlzLmpzb247XG4gICAgdmFyIGRyYWNvTG9hZGVyID0gdGhpcy5kcmFjb0xvYWRlcjtcbiAgICB2YXIgYnVmZmVyVmlld0luZGV4ID0gcHJpbWl0aXZlLmV4dGVuc2lvbnNbdGhpcy5uYW1lXS5idWZmZXJWaWV3O1xuICAgIHZhciBnbHRmQXR0cmlidXRlTWFwID0gcHJpbWl0aXZlLmV4dGVuc2lvbnNbdGhpcy5uYW1lXS5hdHRyaWJ1dGVzO1xuICAgIHZhciB0aHJlZUF0dHJpYnV0ZU1hcCA9IHt9O1xuICAgIHZhciBhdHRyaWJ1dGVOb3JtYWxpemVkTWFwID0ge307XG4gICAgdmFyIGF0dHJpYnV0ZVR5cGVNYXAgPSB7fTtcblxuICAgIGZvciAodmFyIGF0dHJpYnV0ZU5hbWUgaW4gZ2x0ZkF0dHJpYnV0ZU1hcCkge1xuICAgICAgdmFyIHRocmVlQXR0cmlidXRlTmFtZSA9XG4gICAgICAgIEFUVFJJQlVURVNbYXR0cmlidXRlTmFtZV0gfHwgYXR0cmlidXRlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICB0aHJlZUF0dHJpYnV0ZU1hcFt0aHJlZUF0dHJpYnV0ZU5hbWVdID0gZ2x0ZkF0dHJpYnV0ZU1hcFthdHRyaWJ1dGVOYW1lXTtcbiAgICB9XG5cbiAgICBmb3IgKGF0dHJpYnV0ZU5hbWUgaW4gcHJpbWl0aXZlLmF0dHJpYnV0ZXMpIHtcbiAgICAgIHZhciB0aHJlZUF0dHJpYnV0ZU5hbWUgPVxuICAgICAgICBBVFRSSUJVVEVTW2F0dHJpYnV0ZU5hbWVdIHx8IGF0dHJpYnV0ZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgICAgaWYgKGdsdGZBdHRyaWJ1dGVNYXBbYXR0cmlidXRlTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgYWNjZXNzb3JEZWYgPSBqc29uLmFjY2Vzc29yc1twcmltaXRpdmUuYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXV07XG4gICAgICAgIHZhciBjb21wb25lbnRUeXBlID0gV0VCR0xfQ09NUE9ORU5UX1RZUEVTW2FjY2Vzc29yRGVmLmNvbXBvbmVudFR5cGVdO1xuXG4gICAgICAgIGF0dHJpYnV0ZVR5cGVNYXBbdGhyZWVBdHRyaWJ1dGVOYW1lXSA9IGNvbXBvbmVudFR5cGU7XG4gICAgICAgIGF0dHJpYnV0ZU5vcm1hbGl6ZWRNYXBbdGhyZWVBdHRyaWJ1dGVOYW1lXSA9XG4gICAgICAgICAgYWNjZXNzb3JEZWYubm9ybWFsaXplZCA9PT0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VyXG4gICAgICAuZ2V0RGVwZW5kZW5jeShcImJ1ZmZlclZpZXdcIiwgYnVmZmVyVmlld0luZGV4KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKGJ1ZmZlclZpZXcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgZHJhY29Mb2FkZXIuZGVjb2RlRHJhY29GaWxlKFxuICAgICAgICAgICAgYnVmZmVyVmlldyxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBhdHRyaWJ1dGVOYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gZ2VvbWV0cnkuYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXTtcbiAgICAgICAgICAgICAgICB2YXIgbm9ybWFsaXplZCA9IGF0dHJpYnV0ZU5vcm1hbGl6ZWRNYXBbYXR0cmlidXRlTmFtZV07XG5cbiAgICAgICAgICAgICAgICBpZiAobm9ybWFsaXplZCAhPT0gdW5kZWZpbmVkKSBhdHRyaWJ1dGUubm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXNvbHZlKGdlb21ldHJ5KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aHJlZUF0dHJpYnV0ZU1hcCxcbiAgICAgICAgICAgIGF0dHJpYnV0ZVR5cGVNYXBcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUZXh0dXJlIFRyYW5zZm9ybSBFeHRlbnNpb25cbiAgICpcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX3RleHR1cmVfdHJhbnNmb3JtXG4gICAqL1xuICBmdW5jdGlvbiBHTFRGVGV4dHVyZVRyYW5zZm9ybUV4dGVuc2lvbigpIHtcbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STTtcbiAgfVxuXG4gIEdMVEZUZXh0dXJlVHJhbnNmb3JtRXh0ZW5zaW9uLnByb3RvdHlwZS5leHRlbmRUZXh0dXJlID0gZnVuY3Rpb24gKFxuICAgIHRleHR1cmUsXG4gICAgdHJhbnNmb3JtXG4gICkge1xuICAgIHRleHR1cmUgPSB0ZXh0dXJlLmNsb25lKCk7XG5cbiAgICBpZiAodHJhbnNmb3JtLm9mZnNldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0ZXh0dXJlLm9mZnNldC5mcm9tQXJyYXkodHJhbnNmb3JtLm9mZnNldCk7XG4gICAgfVxuXG4gICAgaWYgKHRyYW5zZm9ybS5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0ZXh0dXJlLnJvdGF0aW9uID0gdHJhbnNmb3JtLnJvdGF0aW9uO1xuICAgIH1cblxuICAgIGlmICh0cmFuc2Zvcm0uc2NhbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGV4dHVyZS5yZXBlYXQuZnJvbUFycmF5KHRyYW5zZm9ybS5zY2FsZSk7XG4gICAgfVxuXG4gICAgaWYgKHRyYW5zZm9ybS50ZXhDb29yZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdUSFJFRS5HTFRGTG9hZGVyOiBDdXN0b20gVVYgc2V0cyBpbiBcIicgK1xuICAgICAgICAgIHRoaXMubmFtZSArXG4gICAgICAgICAgJ1wiIGV4dGVuc2lvbiBub3QgeWV0IHN1cHBvcnRlZC4nXG4gICAgICApO1xuICAgIH1cblxuICAgIHRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHRleHR1cmU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwZWN1bGFyLUdsb3NzaW5lc3MgRXh0ZW5zaW9uXG4gICAqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfcGJyU3BlY3VsYXJHbG9zc2luZXNzXG4gICAqL1xuXG4gIC8qKlxuICAgKiBBIHN1YiBjbGFzcyBvZiBTdGFuZGFyZE1hdGVyaWFsIHdpdGggc29tZSBvZiB0aGUgZnVuY3Rpb25hbGl0eVxuICAgKiBjaGFuZ2VkIHZpYSB0aGUgYG9uQmVmb3JlQ29tcGlsZWAgY2FsbGJhY2tcbiAgICogQHBhaWxoZWFkXG4gICAqL1xuXG4gIGZ1bmN0aW9uIEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsKHBhcmFtcykge1xuICAgIE1lc2hTdGFuZGFyZE1hdGVyaWFsLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLmlzR0xURlNwZWN1bGFyR2xvc3NpbmVzc01hdGVyaWFsID0gdHJ1ZTtcblxuICAgIC8vdmFyaW91cyBjaHVua3MgdGhhdCBuZWVkIHJlcGxhY2luZ1xuICAgIHZhciBzcGVjdWxhck1hcFBhcnNGcmFnbWVudENodW5rID0gW1xuICAgICAgXCIjaWZkZWYgVVNFX1NQRUNVTEFSTUFQXCIsXG4gICAgICBcIlx0dW5pZm9ybSBzYW1wbGVyMkQgc3BlY3VsYXJNYXA7XCIsXG4gICAgICBcIiNlbmRpZlwiLFxuICAgIF0uam9pbihcIlxcblwiKTtcblxuICAgIHZhciBnbG9zc2luZXNzTWFwUGFyc0ZyYWdtZW50Q2h1bmsgPSBbXG4gICAgICBcIiNpZmRlZiBVU0VfR0xPU1NJTkVTU01BUFwiLFxuICAgICAgXCJcdHVuaWZvcm0gc2FtcGxlcjJEIGdsb3NzaW5lc3NNYXA7XCIsXG4gICAgICBcIiNlbmRpZlwiLFxuICAgIF0uam9pbihcIlxcblwiKTtcblxuICAgIHZhciBzcGVjdWxhck1hcEZyYWdtZW50Q2h1bmsgPSBbXG4gICAgICBcInZlYzMgc3BlY3VsYXJGYWN0b3IgPSBzcGVjdWxhcjtcIixcbiAgICAgIFwiI2lmZGVmIFVTRV9TUEVDVUxBUk1BUFwiLFxuICAgICAgXCJcdHZlYzQgdGV4ZWxTcGVjdWxhciA9IHRleHR1cmUyRCggc3BlY3VsYXJNYXAsIHZVdiApO1wiLFxuICAgICAgXCJcdHRleGVsU3BlY3VsYXIgPSBzUkdCVG9MaW5lYXIoIHRleGVsU3BlY3VsYXIgKTtcIixcbiAgICAgIFwiXHQvLyByZWFkcyBjaGFubmVsIFJHQiwgY29tcGF0aWJsZSB3aXRoIGEgZ2xURiBTcGVjdWxhci1HbG9zc2luZXNzIChSR0JBKSB0ZXh0dXJlXCIsXG4gICAgICBcIlx0c3BlY3VsYXJGYWN0b3IgKj0gdGV4ZWxTcGVjdWxhci5yZ2I7XCIsXG4gICAgICBcIiNlbmRpZlwiLFxuICAgIF0uam9pbihcIlxcblwiKTtcblxuICAgIHZhciBnbG9zc2luZXNzTWFwRnJhZ21lbnRDaHVuayA9IFtcbiAgICAgIFwiZmxvYXQgZ2xvc3NpbmVzc0ZhY3RvciA9IGdsb3NzaW5lc3M7XCIsXG4gICAgICBcIiNpZmRlZiBVU0VfR0xPU1NJTkVTU01BUFwiLFxuICAgICAgXCJcdHZlYzQgdGV4ZWxHbG9zc2luZXNzID0gdGV4dHVyZTJEKCBnbG9zc2luZXNzTWFwLCB2VXYgKTtcIixcbiAgICAgIFwiXHQvLyByZWFkcyBjaGFubmVsIEEsIGNvbXBhdGlibGUgd2l0aCBhIGdsVEYgU3BlY3VsYXItR2xvc3NpbmVzcyAoUkdCQSkgdGV4dHVyZVwiLFxuICAgICAgXCJcdGdsb3NzaW5lc3NGYWN0b3IgKj0gdGV4ZWxHbG9zc2luZXNzLmE7XCIsXG4gICAgICBcIiNlbmRpZlwiLFxuICAgIF0uam9pbihcIlxcblwiKTtcblxuICAgIHZhciBsaWdodFBoeXNpY2FsRnJhZ21lbnRDaHVuayA9IFtcbiAgICAgIFwiUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbDtcIixcbiAgICAgIFwibWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gZGlmZnVzZUNvbG9yLnJnYiAqICggMS4gLSBtYXgoIHNwZWN1bGFyRmFjdG9yLnIsIG1heCggc3BlY3VsYXJGYWN0b3IuZywgc3BlY3VsYXJGYWN0b3IuYiApICkgKTtcIixcbiAgICAgIFwidmVjMyBkeHkgPSBtYXgoIGFicyggZEZkeCggZ2VvbWV0cnlOb3JtYWwgKSApLCBhYnMoIGRGZHkoIGdlb21ldHJ5Tm9ybWFsICkgKSApO1wiLFxuICAgICAgXCJmbG9hdCBnZW9tZXRyeVJvdWdobmVzcyA9IG1heCggbWF4KCBkeHkueCwgZHh5LnkgKSwgZHh5LnogKTtcIixcbiAgICAgIFwibWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgPSBtYXgoIDEuMCAtIGdsb3NzaW5lc3NGYWN0b3IsIDAuMDUyNSApOyAvLyAwLjA1MjUgY29ycmVzcG9uZHMgdG8gdGhlIGJhc2UgbWlwIG9mIGEgMjU2IGN1YmVtYXAuXCIsXG4gICAgICBcIm1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzICs9IGdlb21ldHJ5Um91Z2huZXNzO1wiLFxuICAgICAgXCJtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcyA9IG1pbiggbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MsIDEuMCApO1wiLFxuICAgICAgXCJtYXRlcmlhbC5zcGVjdWxhckNvbG9yID0gc3BlY3VsYXJGYWN0b3I7XCIsXG4gICAgXS5qb2luKFwiXFxuXCIpO1xuXG4gICAgdmFyIHVuaWZvcm1zID0ge1xuICAgICAgc3BlY3VsYXI6IHsgdmFsdWU6IG5ldyBDb2xvcigpLnNldEhleCgweGZmZmZmZikgfSxcbiAgICAgIGdsb3NzaW5lc3M6IHsgdmFsdWU6IDEgfSxcbiAgICAgIHNwZWN1bGFyTWFwOiB7IHZhbHVlOiBudWxsIH0sXG4gICAgICBnbG9zc2luZXNzTWFwOiB7IHZhbHVlOiBudWxsIH0sXG4gICAgfTtcblxuICAgIHRoaXMuX2V4dHJhVW5pZm9ybXMgPSB1bmlmb3JtcztcblxuICAgIHRoaXMub25CZWZvcmVDb21waWxlID0gZnVuY3Rpb24gKHNoYWRlcikge1xuICAgICAgZm9yICh2YXIgdW5pZm9ybU5hbWUgaW4gdW5pZm9ybXMpIHtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zW3VuaWZvcm1OYW1lXSA9IHVuaWZvcm1zW3VuaWZvcm1OYW1lXTtcbiAgICAgIH1cblxuICAgICAgc2hhZGVyLmZyYWdtZW50U2hhZGVyID0gc2hhZGVyLmZyYWdtZW50U2hhZGVyXG4gICAgICAgIC5yZXBsYWNlKFwidW5pZm9ybSBmbG9hdCByb3VnaG5lc3M7XCIsIFwidW5pZm9ybSB2ZWMzIHNwZWN1bGFyO1wiKVxuICAgICAgICAucmVwbGFjZShcInVuaWZvcm0gZmxvYXQgbWV0YWxuZXNzO1wiLCBcInVuaWZvcm0gZmxvYXQgZ2xvc3NpbmVzcztcIilcbiAgICAgICAgLnJlcGxhY2UoXG4gICAgICAgICAgXCIjaW5jbHVkZSA8cm91Z2huZXNzbWFwX3BhcnNfZnJhZ21lbnQ+XCIsXG4gICAgICAgICAgc3BlY3VsYXJNYXBQYXJzRnJhZ21lbnRDaHVua1xuICAgICAgICApXG4gICAgICAgIC5yZXBsYWNlKFxuICAgICAgICAgIFwiI2luY2x1ZGUgPG1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50PlwiLFxuICAgICAgICAgIGdsb3NzaW5lc3NNYXBQYXJzRnJhZ21lbnRDaHVua1xuICAgICAgICApXG4gICAgICAgIC5yZXBsYWNlKFwiI2luY2x1ZGUgPHJvdWdobmVzc21hcF9mcmFnbWVudD5cIiwgc3BlY3VsYXJNYXBGcmFnbWVudENodW5rKVxuICAgICAgICAucmVwbGFjZShcIiNpbmNsdWRlIDxtZXRhbG5lc3NtYXBfZnJhZ21lbnQ+XCIsIGdsb3NzaW5lc3NNYXBGcmFnbWVudENodW5rKVxuICAgICAgICAucmVwbGFjZShcbiAgICAgICAgICBcIiNpbmNsdWRlIDxsaWdodHNfcGh5c2ljYWxfZnJhZ21lbnQ+XCIsXG4gICAgICAgICAgbGlnaHRQaHlzaWNhbEZyYWdtZW50Q2h1bmtcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgc3BlY3VsYXI6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHVuaWZvcm1zLnNwZWN1bGFyLnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgdW5pZm9ybXMuc3BlY3VsYXIudmFsdWUgPSB2O1xuICAgICAgICB9LFxuICAgICAgfSxcblxuICAgICAgc3BlY3VsYXJNYXA6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHVuaWZvcm1zLnNwZWN1bGFyTWFwLnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgdW5pZm9ybXMuc3BlY3VsYXJNYXAudmFsdWUgPSB2O1xuXG4gICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgIHRoaXMuZGVmaW5lcy5VU0VfU1BFQ1VMQVJNQVAgPSBcIlwiOyAvLyBVU0VfVVYgaXMgc2V0IGJ5IHRoZSByZW5kZXJlciBmb3Igc3BlY3VsYXIgbWFwc1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5kZWZpbmVzLlVTRV9TUEVDVUxBUk1BUDtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9LFxuXG4gICAgICBnbG9zc2luZXNzOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB1bmlmb3Jtcy5nbG9zc2luZXNzLnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgdW5pZm9ybXMuZ2xvc3NpbmVzcy52YWx1ZSA9IHY7XG4gICAgICAgIH0sXG4gICAgICB9LFxuXG4gICAgICBnbG9zc2luZXNzTWFwOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB1bmlmb3Jtcy5nbG9zc2luZXNzTWFwLnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgdW5pZm9ybXMuZ2xvc3NpbmVzc01hcC52YWx1ZSA9IHY7XG5cbiAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgdGhpcy5kZWZpbmVzLlVTRV9HTE9TU0lORVNTTUFQID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuZGVmaW5lcy5VU0VfVVYgPSBcIlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5kZWZpbmVzLlVTRV9HTE9TU0lORVNTTUFQO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGVmaW5lcy5VU0VfVVY7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGRlbGV0ZSB0aGlzLm1ldGFsbmVzcztcbiAgICBkZWxldGUgdGhpcy5yb3VnaG5lc3M7XG4gICAgZGVsZXRlIHRoaXMubWV0YWxuZXNzTWFwO1xuICAgIGRlbGV0ZSB0aGlzLnJvdWdobmVzc01hcDtcblxuICAgIHRoaXMuc2V0VmFsdWVzKHBhcmFtcyk7XG4gIH1cblxuICBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFxuICAgIE1lc2hTdGFuZGFyZE1hdGVyaWFsLnByb3RvdHlwZVxuICApO1xuICBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbDtcblxuICBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICBNZXNoU3RhbmRhcmRNYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsIHNvdXJjZSk7XG4gICAgdGhpcy5zcGVjdWxhck1hcCA9IHNvdXJjZS5zcGVjdWxhck1hcDtcbiAgICB0aGlzLnNwZWN1bGFyLmNvcHkoc291cmNlLnNwZWN1bGFyKTtcbiAgICB0aGlzLmdsb3NzaW5lc3NNYXAgPSBzb3VyY2UuZ2xvc3NpbmVzc01hcDtcbiAgICB0aGlzLmdsb3NzaW5lc3MgPSBzb3VyY2UuZ2xvc3NpbmVzcztcbiAgICBkZWxldGUgdGhpcy5tZXRhbG5lc3M7XG4gICAgZGVsZXRlIHRoaXMucm91Z2huZXNzO1xuICAgIGRlbGV0ZSB0aGlzLm1ldGFsbmVzc01hcDtcbiAgICBkZWxldGUgdGhpcy5yb3VnaG5lc3NNYXA7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgZnVuY3Rpb24gR0xURk1hdGVyaWFsc1BiclNwZWN1bGFyR2xvc3NpbmVzc0V4dGVuc2lvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTLFxuXG4gICAgICBzcGVjdWxhckdsb3NzaW5lc3NQYXJhbXM6IFtcbiAgICAgICAgXCJjb2xvclwiLFxuICAgICAgICBcIm1hcFwiLFxuICAgICAgICBcImxpZ2h0TWFwXCIsXG4gICAgICAgIFwibGlnaHRNYXBJbnRlbnNpdHlcIixcbiAgICAgICAgXCJhb01hcFwiLFxuICAgICAgICBcImFvTWFwSW50ZW5zaXR5XCIsXG4gICAgICAgIFwiZW1pc3NpdmVcIixcbiAgICAgICAgXCJlbWlzc2l2ZUludGVuc2l0eVwiLFxuICAgICAgICBcImVtaXNzaXZlTWFwXCIsXG4gICAgICAgIFwiYnVtcE1hcFwiLFxuICAgICAgICBcImJ1bXBTY2FsZVwiLFxuICAgICAgICBcIm5vcm1hbE1hcFwiLFxuICAgICAgICBcIm5vcm1hbE1hcFR5cGVcIixcbiAgICAgICAgXCJkaXNwbGFjZW1lbnRNYXBcIixcbiAgICAgICAgXCJkaXNwbGFjZW1lbnRTY2FsZVwiLFxuICAgICAgICBcImRpc3BsYWNlbWVudEJpYXNcIixcbiAgICAgICAgXCJzcGVjdWxhck1hcFwiLFxuICAgICAgICBcInNwZWN1bGFyXCIsXG4gICAgICAgIFwiZ2xvc3NpbmVzc01hcFwiLFxuICAgICAgICBcImdsb3NzaW5lc3NcIixcbiAgICAgICAgXCJhbHBoYU1hcFwiLFxuICAgICAgICBcImVudk1hcFwiLFxuICAgICAgICBcImVudk1hcEludGVuc2l0eVwiLFxuICAgICAgICBcInJlZnJhY3Rpb25SYXRpb1wiLFxuICAgICAgXSxcblxuICAgICAgZ2V0TWF0ZXJpYWxUeXBlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbDtcbiAgICAgIH0sXG5cbiAgICAgIGV4dGVuZFBhcmFtczogZnVuY3Rpb24gKG1hdGVyaWFsUGFyYW1zLCBtYXRlcmlhbERlZiwgcGFyc2VyKSB7XG4gICAgICAgIHZhciBwYnJTcGVjdWxhckdsb3NzaW5lc3MgPSBtYXRlcmlhbERlZi5leHRlbnNpb25zW3RoaXMubmFtZV07XG5cbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMuY29sb3IgPSBuZXcgQ29sb3IoMS4wLCAxLjAsIDEuMCk7XG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSAxLjA7XG5cbiAgICAgICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYnJTcGVjdWxhckdsb3NzaW5lc3MuZGlmZnVzZUZhY3RvcikpIHtcbiAgICAgICAgICB2YXIgYXJyYXkgPSBwYnJTcGVjdWxhckdsb3NzaW5lc3MuZGlmZnVzZUZhY3RvcjtcblxuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLmNvbG9yLmZyb21BcnJheShhcnJheSk7XG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IGFycmF5WzNdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBiclNwZWN1bGFyR2xvc3NpbmVzcy5kaWZmdXNlVGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUoXG4gICAgICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLFxuICAgICAgICAgICAgICBcIm1hcFwiLFxuICAgICAgICAgICAgICBwYnJTcGVjdWxhckdsb3NzaW5lc3MuZGlmZnVzZVRleHR1cmVcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMuZW1pc3NpdmUgPSBuZXcgQ29sb3IoMC4wLCAwLjAsIDAuMCk7XG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLmdsb3NzaW5lc3MgPVxuICAgICAgICAgIHBiclNwZWN1bGFyR2xvc3NpbmVzcy5nbG9zc2luZXNzRmFjdG9yICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gcGJyU3BlY3VsYXJHbG9zc2luZXNzLmdsb3NzaW5lc3NGYWN0b3JcbiAgICAgICAgICAgIDogMS4wO1xuICAgICAgICBtYXRlcmlhbFBhcmFtcy5zcGVjdWxhciA9IG5ldyBDb2xvcigxLjAsIDEuMCwgMS4wKTtcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYnJTcGVjdWxhckdsb3NzaW5lc3Muc3BlY3VsYXJGYWN0b3IpKSB7XG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMuc3BlY3VsYXIuZnJvbUFycmF5KFxuICAgICAgICAgICAgcGJyU3BlY3VsYXJHbG9zc2luZXNzLnNwZWN1bGFyRmFjdG9yXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYnJTcGVjdWxhckdsb3NzaW5lc3Muc3BlY3VsYXJHbG9zc2luZXNzVGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdmFyIHNwZWNHbG9zc01hcERlZiA9IHBiclNwZWN1bGFyR2xvc3NpbmVzcy5zcGVjdWxhckdsb3NzaW5lc3NUZXh0dXJlO1xuICAgICAgICAgIHBlbmRpbmcucHVzaChcbiAgICAgICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKFxuICAgICAgICAgICAgICBtYXRlcmlhbFBhcmFtcyxcbiAgICAgICAgICAgICAgXCJnbG9zc2luZXNzTWFwXCIsXG4gICAgICAgICAgICAgIHNwZWNHbG9zc01hcERlZlxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUobWF0ZXJpYWxQYXJhbXMsIFwic3BlY3VsYXJNYXBcIiwgc3BlY0dsb3NzTWFwRGVmKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XG4gICAgICB9LFxuXG4gICAgICBjcmVhdGVNYXRlcmlhbDogZnVuY3Rpb24gKG1hdGVyaWFsUGFyYW1zKSB7XG4gICAgICAgIHZhciBtYXRlcmlhbCA9IG5ldyBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbChtYXRlcmlhbFBhcmFtcyk7XG4gICAgICAgIG1hdGVyaWFsLmZvZyA9IHRydWU7XG5cbiAgICAgICAgbWF0ZXJpYWwuY29sb3IgPSBtYXRlcmlhbFBhcmFtcy5jb2xvcjtcblxuICAgICAgICBtYXRlcmlhbC5tYXAgPVxuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLm1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLm1hcDtcblxuICAgICAgICBtYXRlcmlhbC5saWdodE1hcCA9IG51bGw7XG4gICAgICAgIG1hdGVyaWFsLmxpZ2h0TWFwSW50ZW5zaXR5ID0gMS4wO1xuXG4gICAgICAgIG1hdGVyaWFsLmFvTWFwID1cbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5hb01hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLmFvTWFwO1xuICAgICAgICBtYXRlcmlhbC5hb01hcEludGVuc2l0eSA9IDEuMDtcblxuICAgICAgICBtYXRlcmlhbC5lbWlzc2l2ZSA9IG1hdGVyaWFsUGFyYW1zLmVtaXNzaXZlO1xuICAgICAgICBtYXRlcmlhbC5lbWlzc2l2ZUludGVuc2l0eSA9IDEuMDtcbiAgICAgICAgbWF0ZXJpYWwuZW1pc3NpdmVNYXAgPVxuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLmVtaXNzaXZlTWFwID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgOiBtYXRlcmlhbFBhcmFtcy5lbWlzc2l2ZU1hcDtcblxuICAgICAgICBtYXRlcmlhbC5idW1wTWFwID1cbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5idW1wTWFwID09PSB1bmRlZmluZWQgPyBudWxsIDogbWF0ZXJpYWxQYXJhbXMuYnVtcE1hcDtcbiAgICAgICAgbWF0ZXJpYWwuYnVtcFNjYWxlID0gMTtcblxuICAgICAgICBtYXRlcmlhbC5ub3JtYWxNYXAgPVxuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLm5vcm1hbE1hcCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgIDogbWF0ZXJpYWxQYXJhbXMubm9ybWFsTWFwO1xuICAgICAgICBtYXRlcmlhbC5ub3JtYWxNYXBUeXBlID0gVGFuZ2VudFNwYWNlTm9ybWFsTWFwO1xuXG4gICAgICAgIGlmIChtYXRlcmlhbFBhcmFtcy5ub3JtYWxTY2FsZSlcbiAgICAgICAgICBtYXRlcmlhbC5ub3JtYWxTY2FsZSA9IG1hdGVyaWFsUGFyYW1zLm5vcm1hbFNjYWxlO1xuXG4gICAgICAgIG1hdGVyaWFsLmRpc3BsYWNlbWVudE1hcCA9IG51bGw7XG4gICAgICAgIG1hdGVyaWFsLmRpc3BsYWNlbWVudFNjYWxlID0gMTtcbiAgICAgICAgbWF0ZXJpYWwuZGlzcGxhY2VtZW50QmlhcyA9IDA7XG5cbiAgICAgICAgbWF0ZXJpYWwuc3BlY3VsYXJNYXAgPVxuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLnNwZWN1bGFyTWFwID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgOiBtYXRlcmlhbFBhcmFtcy5zcGVjdWxhck1hcDtcbiAgICAgICAgbWF0ZXJpYWwuc3BlY3VsYXIgPSBtYXRlcmlhbFBhcmFtcy5zcGVjdWxhcjtcblxuICAgICAgICBtYXRlcmlhbC5nbG9zc2luZXNzTWFwID1cbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5nbG9zc2luZXNzTWFwID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgOiBtYXRlcmlhbFBhcmFtcy5nbG9zc2luZXNzTWFwO1xuICAgICAgICBtYXRlcmlhbC5nbG9zc2luZXNzID0gbWF0ZXJpYWxQYXJhbXMuZ2xvc3NpbmVzcztcblxuICAgICAgICBtYXRlcmlhbC5hbHBoYU1hcCA9IG51bGw7XG5cbiAgICAgICAgbWF0ZXJpYWwuZW52TWFwID1cbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5lbnZNYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5lbnZNYXA7XG4gICAgICAgIG1hdGVyaWFsLmVudk1hcEludGVuc2l0eSA9IDEuMDtcblxuICAgICAgICBtYXRlcmlhbC5yZWZyYWN0aW9uUmF0aW8gPSAwLjk4O1xuXG4gICAgICAgIHJldHVybiBtYXRlcmlhbDtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNZXNoIFF1YW50aXphdGlvbiBFeHRlbnNpb25cbiAgICpcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21lc2hfcXVhbnRpemF0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBHTFRGTWVzaFF1YW50aXphdGlvbkV4dGVuc2lvbigpIHtcbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NRVNIX1FVQU5USVpBVElPTjtcbiAgfVxuXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIC8qKioqKioqKioqIElOVEVSUE9MQVRJT04gKioqKioqKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLy8gU3BsaW5lIEludGVycG9sYXRpb25cbiAgLy8gU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNhcHBlbmRpeC1jLXNwbGluZS1pbnRlcnBvbGF0aW9uXG4gIGZ1bmN0aW9uIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50KFxuICAgIHBhcmFtZXRlclBvc2l0aW9ucyxcbiAgICBzYW1wbGVWYWx1ZXMsXG4gICAgc2FtcGxlU2l6ZSxcbiAgICByZXN1bHRCdWZmZXJcbiAgKSB7XG4gICAgSW50ZXJwb2xhbnQuY2FsbChcbiAgICAgIHRoaXMsXG4gICAgICBwYXJhbWV0ZXJQb3NpdGlvbnMsXG4gICAgICBzYW1wbGVWYWx1ZXMsXG4gICAgICBzYW1wbGVTaXplLFxuICAgICAgcmVzdWx0QnVmZmVyXG4gICAgKTtcbiAgfVxuXG4gIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSW50ZXJwb2xhbnQucHJvdG90eXBlKTtcbiAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQ7XG5cbiAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV8gPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAvLyBDb3BpZXMgYSBzYW1wbGUgdmFsdWUgdG8gdGhlIHJlc3VsdCBidWZmZXIuIFNlZSBkZXNjcmlwdGlvbiBvZiBnbFRGXG4gICAgLy8gQ1VCSUNTUExJTkUgdmFsdWVzIGxheW91dCBpbiBpbnRlcnBvbGF0ZV8oKSBmdW5jdGlvbiBiZWxvdy5cblxuICAgIHZhciByZXN1bHQgPSB0aGlzLnJlc3VsdEJ1ZmZlcixcbiAgICAgIHZhbHVlcyA9IHRoaXMuc2FtcGxlVmFsdWVzLFxuICAgICAgdmFsdWVTaXplID0gdGhpcy52YWx1ZVNpemUsXG4gICAgICBvZmZzZXQgPSBpbmRleCAqIHZhbHVlU2l6ZSAqIDMgKyB2YWx1ZVNpemU7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSAhPT0gdmFsdWVTaXplOyBpKyspIHtcbiAgICAgIHJlc3VsdFtpXSA9IHZhbHVlc1tvZmZzZXQgKyBpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZS5iZWZvcmVTdGFydF8gPVxuICAgIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZS5jb3B5U2FtcGxlVmFsdWVfO1xuXG4gIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZS5hZnRlckVuZF8gPVxuICAgIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZS5jb3B5U2FtcGxlVmFsdWVfO1xuXG4gIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZS5pbnRlcnBvbGF0ZV8gPSBmdW5jdGlvbiAoaTEsIHQwLCB0LCB0MSkge1xuICAgIHZhciByZXN1bHQgPSB0aGlzLnJlc3VsdEJ1ZmZlcjtcbiAgICB2YXIgdmFsdWVzID0gdGhpcy5zYW1wbGVWYWx1ZXM7XG4gICAgdmFyIHN0cmlkZSA9IHRoaXMudmFsdWVTaXplO1xuXG4gICAgdmFyIHN0cmlkZTIgPSBzdHJpZGUgKiAyO1xuICAgIHZhciBzdHJpZGUzID0gc3RyaWRlICogMztcblxuICAgIHZhciB0ZCA9IHQxIC0gdDA7XG5cbiAgICB2YXIgcCA9ICh0IC0gdDApIC8gdGQ7XG4gICAgdmFyIHBwID0gcCAqIHA7XG4gICAgdmFyIHBwcCA9IHBwICogcDtcblxuICAgIHZhciBvZmZzZXQxID0gaTEgKiBzdHJpZGUzO1xuICAgIHZhciBvZmZzZXQwID0gb2Zmc2V0MSAtIHN0cmlkZTM7XG5cbiAgICB2YXIgczIgPSAtMiAqIHBwcCArIDMgKiBwcDtcbiAgICB2YXIgczMgPSBwcHAgLSBwcDtcbiAgICB2YXIgczAgPSAxIC0gczI7XG4gICAgdmFyIHMxID0gczMgLSBwcCArIHA7XG5cbiAgICAvLyBMYXlvdXQgb2Yga2V5ZnJhbWUgb3V0cHV0IHZhbHVlcyBmb3IgQ1VCSUNTUExJTkUgYW5pbWF0aW9uczpcbiAgICAvLyAgIFsgaW5UYW5nZW50XzEsIHNwbGluZVZlcnRleF8xLCBvdXRUYW5nZW50XzEsIGluVGFuZ2VudF8yLCBzcGxpbmVWZXJ0ZXhfMiwgLi4uIF1cbiAgICBmb3IgKHZhciBpID0gMDsgaSAhPT0gc3RyaWRlOyBpKyspIHtcbiAgICAgIHZhciBwMCA9IHZhbHVlc1tvZmZzZXQwICsgaSArIHN0cmlkZV07IC8vIHNwbGluZVZlcnRleF9rXG4gICAgICB2YXIgbTAgPSB2YWx1ZXNbb2Zmc2V0MCArIGkgKyBzdHJpZGUyXSAqIHRkOyAvLyBvdXRUYW5nZW50X2sgKiAodF9rKzEgLSB0X2spXG4gICAgICB2YXIgcDEgPSB2YWx1ZXNbb2Zmc2V0MSArIGkgKyBzdHJpZGVdOyAvLyBzcGxpbmVWZXJ0ZXhfaysxXG4gICAgICB2YXIgbTEgPSB2YWx1ZXNbb2Zmc2V0MSArIGldICogdGQ7IC8vIGluVGFuZ2VudF9rKzEgKiAodF9rKzEgLSB0X2spXG5cbiAgICAgIHJlc3VsdFtpXSA9IHMwICogcDAgKyBzMSAqIG0wICsgczIgKiBwMSArIHMzICogbTE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAvKioqKioqKioqKiBJTlRFUk5BTFMgKioqKioqKioqKioqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qIENPTlNUQU5UUyAqL1xuXG4gIHZhciBXRUJHTF9DT05TVEFOVFMgPSB7XG4gICAgRkxPQVQ6IDUxMjYsXG4gICAgLy9GTE9BVF9NQVQyOiAzNTY3NCxcbiAgICBGTE9BVF9NQVQzOiAzNTY3NSxcbiAgICBGTE9BVF9NQVQ0OiAzNTY3NixcbiAgICBGTE9BVF9WRUMyOiAzNTY2NCxcbiAgICBGTE9BVF9WRUMzOiAzNTY2NSxcbiAgICBGTE9BVF9WRUM0OiAzNTY2NixcbiAgICBMSU5FQVI6IDk3MjksXG4gICAgUkVQRUFUOiAxMDQ5NyxcbiAgICBTQU1QTEVSXzJEOiAzNTY3OCxcbiAgICBQT0lOVFM6IDAsXG4gICAgTElORVM6IDEsXG4gICAgTElORV9MT09QOiAyLFxuICAgIExJTkVfU1RSSVA6IDMsXG4gICAgVFJJQU5HTEVTOiA0LFxuICAgIFRSSUFOR0xFX1NUUklQOiA1LFxuICAgIFRSSUFOR0xFX0ZBTjogNixcbiAgICBVTlNJR05FRF9CWVRFOiA1MTIxLFxuICAgIFVOU0lHTkVEX1NIT1JUOiA1MTIzLFxuICB9O1xuXG4gIHZhciBXRUJHTF9DT01QT05FTlRfVFlQRVMgPSB7XG4gICAgNTEyMDogSW50OEFycmF5LFxuICAgIDUxMjE6IFVpbnQ4QXJyYXksXG4gICAgNTEyMjogSW50MTZBcnJheSxcbiAgICA1MTIzOiBVaW50MTZBcnJheSxcbiAgICA1MTI1OiBVaW50MzJBcnJheSxcbiAgICA1MTI2OiBGbG9hdDMyQXJyYXksXG4gIH07XG5cbiAgdmFyIFdFQkdMX0ZJTFRFUlMgPSB7XG4gICAgOTcyODogTmVhcmVzdEZpbHRlcixcbiAgICA5NzI5OiBMaW5lYXJGaWx0ZXIsXG4gICAgOTk4NDogTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXIsXG4gICAgOTk4NTogTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlcixcbiAgICA5OTg2OiBOZWFyZXN0TWlwbWFwTGluZWFyRmlsdGVyLFxuICAgIDk5ODc6IExpbmVhck1pcG1hcExpbmVhckZpbHRlcixcbiAgfTtcblxuICB2YXIgV0VCR0xfV1JBUFBJTkdTID0ge1xuICAgIDMzMDcxOiBDbGFtcFRvRWRnZVdyYXBwaW5nLFxuICAgIDMzNjQ4OiBNaXJyb3JlZFJlcGVhdFdyYXBwaW5nLFxuICAgIDEwNDk3OiBSZXBlYXRXcmFwcGluZyxcbiAgfTtcblxuICB2YXIgV0VCR0xfVFlQRV9TSVpFUyA9IHtcbiAgICBTQ0FMQVI6IDEsXG4gICAgVkVDMjogMixcbiAgICBWRUMzOiAzLFxuICAgIFZFQzQ6IDQsXG4gICAgTUFUMjogNCxcbiAgICBNQVQzOiA5LFxuICAgIE1BVDQ6IDE2LFxuICB9O1xuXG4gIHZhciBBVFRSSUJVVEVTID0ge1xuICAgIFBPU0lUSU9OOiBcInBvc2l0aW9uXCIsXG4gICAgTk9STUFMOiBcIm5vcm1hbFwiLFxuICAgIFRBTkdFTlQ6IFwidGFuZ2VudFwiLFxuICAgIFRFWENPT1JEXzA6IFwidXZcIixcbiAgICBURVhDT09SRF8xOiBcInV2MlwiLFxuICAgIENPTE9SXzA6IFwiY29sb3JcIixcbiAgICBXRUlHSFRTXzA6IFwic2tpbldlaWdodFwiLFxuICAgIEpPSU5UU18wOiBcInNraW5JbmRleFwiLFxuICB9O1xuXG4gIHZhciBQQVRIX1BST1BFUlRJRVMgPSB7XG4gICAgc2NhbGU6IFwic2NhbGVcIixcbiAgICB0cmFuc2xhdGlvbjogXCJwb3NpdGlvblwiLFxuICAgIHJvdGF0aW9uOiBcInF1YXRlcm5pb25cIixcbiAgICB3ZWlnaHRzOiBcIm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1wiLFxuICB9O1xuXG4gIHZhciBJTlRFUlBPTEFUSU9OID0ge1xuICAgIENVQklDU1BMSU5FOiB1bmRlZmluZWQsIC8vIFdlIHVzZSBhIGN1c3RvbSBpbnRlcnBvbGFudCAoR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhdGlvbikgZm9yIENVQklDU1BMSU5FIHRyYWNrcy4gRWFjaFxuICAgIC8vIGtleWZyYW1lIHRyYWNrIHdpbGwgYmUgaW5pdGlhbGl6ZWQgd2l0aCBhIGRlZmF1bHQgaW50ZXJwb2xhdGlvbiB0eXBlLCB0aGVuIG1vZGlmaWVkLlxuICAgIExJTkVBUjogSW50ZXJwb2xhdGVMaW5lYXIsXG4gICAgU1RFUDogSW50ZXJwb2xhdGVEaXNjcmV0ZSxcbiAgfTtcblxuICB2YXIgQUxQSEFfTU9ERVMgPSB7XG4gICAgT1BBUVVFOiBcIk9QQVFVRVwiLFxuICAgIE1BU0s6IFwiTUFTS1wiLFxuICAgIEJMRU5EOiBcIkJMRU5EXCIsXG4gIH07XG5cbiAgLyogVVRJTElUWSBGVU5DVElPTlMgKi9cblxuICBmdW5jdGlvbiByZXNvbHZlVVJMKHVybCwgcGF0aCkge1xuICAgIC8vIEludmFsaWQgVVJMXG4gICAgaWYgKHR5cGVvZiB1cmwgIT09IFwic3RyaW5nXCIgfHwgdXJsID09PSBcIlwiKSByZXR1cm4gXCJcIjtcblxuICAgIC8vIEhvc3QgUmVsYXRpdmUgVVJMXG4gICAgaWYgKC9eaHR0cHM/OlxcL1xcLy9pLnRlc3QocGF0aCkgJiYgL15cXC8vLnRlc3QodXJsKSkge1xuICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvKF5odHRwcz86XFwvXFwvW15cXC9dKykuKi9pLCBcIiQxXCIpO1xuICAgIH1cblxuICAgIC8vIEFic29sdXRlIFVSTCBodHRwOi8vLGh0dHBzOi8vLC8vXG4gICAgaWYgKC9eKGh0dHBzPzopP1xcL1xcLy9pLnRlc3QodXJsKSkgcmV0dXJuIHVybDtcblxuICAgIC8vIERhdGEgVVJJXG4gICAgaWYgKC9eZGF0YTouKiwuKiQvaS50ZXN0KHVybCkpIHJldHVybiB1cmw7XG5cbiAgICAvLyBCbG9iIFVSTFxuICAgIGlmICgvXmJsb2I6LiokL2kudGVzdCh1cmwpKSByZXR1cm4gdXJsO1xuXG4gICAgLy8gUmVsYXRpdmUgVVJMXG4gICAgcmV0dXJuIHBhdGggKyB1cmw7XG4gIH1cblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNkZWZhdWx0LW1hdGVyaWFsXG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0TWF0ZXJpYWwoY2FjaGUpIHtcbiAgICBpZiAoY2FjaGVbXCJEZWZhdWx0TWF0ZXJpYWxcIl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgY2FjaGVbXCJEZWZhdWx0TWF0ZXJpYWxcIl0gPSBuZXcgTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xuICAgICAgICBjb2xvcjogMHhmZmZmZmYsXG4gICAgICAgIGVtaXNzaXZlOiAweDAwMDAwMCxcbiAgICAgICAgbWV0YWxuZXNzOiAxLFxuICAgICAgICByb3VnaG5lc3M6IDEsXG4gICAgICAgIHRyYW5zcGFyZW50OiBmYWxzZSxcbiAgICAgICAgZGVwdGhUZXN0OiB0cnVlLFxuICAgICAgICBzaWRlOiBGcm9udFNpZGUsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2FjaGVbXCJEZWZhdWx0TWF0ZXJpYWxcIl07XG4gIH1cblxuICBmdW5jdGlvbiBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoa25vd25FeHRlbnNpb25zLCBvYmplY3QsIG9iamVjdERlZikge1xuICAgIC8vIEFkZCB1bmtub3duIGdsVEYgZXh0ZW5zaW9ucyB0byBhbiBvYmplY3QncyB1c2VyRGF0YS5cblxuICAgIGZvciAodmFyIG5hbWUgaW4gb2JqZWN0RGVmLmV4dGVuc2lvbnMpIHtcbiAgICAgIGlmIChrbm93bkV4dGVuc2lvbnNbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvYmplY3QudXNlckRhdGEuZ2x0ZkV4dGVuc2lvbnMgPSBvYmplY3QudXNlckRhdGEuZ2x0ZkV4dGVuc2lvbnMgfHwge307XG4gICAgICAgIG9iamVjdC51c2VyRGF0YS5nbHRmRXh0ZW5zaW9uc1tuYW1lXSA9IG9iamVjdERlZi5leHRlbnNpb25zW25hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdDNEfE1hdGVyaWFsfEJ1ZmZlckdlb21ldHJ5fSBvYmplY3RcbiAgICogQHBhcmFtIHtHTFRGLmRlZmluaXRpb259IGdsdGZEZWZcbiAgICovXG4gIGZ1bmN0aW9uIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEob2JqZWN0LCBnbHRmRGVmKSB7XG4gICAgaWYgKGdsdGZEZWYuZXh0cmFzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICh0eXBlb2YgZ2x0ZkRlZi5leHRyYXMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihvYmplY3QudXNlckRhdGEsIGdsdGZEZWYuZXh0cmFzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIlRIUkVFLkdMVEZMb2FkZXI6IElnbm9yaW5nIHByaW1pdGl2ZSB0eXBlIC5leHRyYXMsIFwiICsgZ2x0ZkRlZi5leHRyYXNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNtb3JwaC10YXJnZXRzXG4gICAqXG4gICAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XG4gICAqIEBwYXJhbSB7QXJyYXk8R0xURi5UYXJnZXQ+fSB0YXJnZXRzXG4gICAqIEBwYXJhbSB7R0xURlBhcnNlcn0gcGFyc2VyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QnVmZmVyR2VvbWV0cnk+fVxuICAgKi9cbiAgZnVuY3Rpb24gYWRkTW9ycGhUYXJnZXRzKGdlb21ldHJ5LCB0YXJnZXRzLCBwYXJzZXIpIHtcbiAgICB2YXIgaGFzTW9ycGhQb3NpdGlvbiA9IGZhbHNlO1xuICAgIHZhciBoYXNNb3JwaE5vcm1hbCA9IGZhbHNlO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gdGFyZ2V0cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gdGFyZ2V0c1tpXTtcblxuICAgICAgaWYgKHRhcmdldC5QT1NJVElPTiAhPT0gdW5kZWZpbmVkKSBoYXNNb3JwaFBvc2l0aW9uID0gdHJ1ZTtcbiAgICAgIGlmICh0YXJnZXQuTk9STUFMICE9PSB1bmRlZmluZWQpIGhhc01vcnBoTm9ybWFsID0gdHJ1ZTtcblxuICAgICAgaWYgKGhhc01vcnBoUG9zaXRpb24gJiYgaGFzTW9ycGhOb3JtYWwpIGJyZWFrO1xuICAgIH1cblxuICAgIGlmICghaGFzTW9ycGhQb3NpdGlvbiAmJiAhaGFzTW9ycGhOb3JtYWwpIHJldHVybiBQcm9taXNlLnJlc29sdmUoZ2VvbWV0cnkpO1xuXG4gICAgdmFyIHBlbmRpbmdQb3NpdGlvbkFjY2Vzc29ycyA9IFtdO1xuICAgIHZhciBwZW5kaW5nTm9ybWFsQWNjZXNzb3JzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSB0YXJnZXRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgIHZhciB0YXJnZXQgPSB0YXJnZXRzW2ldO1xuXG4gICAgICBpZiAoaGFzTW9ycGhQb3NpdGlvbikge1xuICAgICAgICB2YXIgcGVuZGluZ0FjY2Vzc29yID1cbiAgICAgICAgICB0YXJnZXQuUE9TSVRJT04gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBwYXJzZXIuZ2V0RGVwZW5kZW5jeShcImFjY2Vzc29yXCIsIHRhcmdldC5QT1NJVElPTilcbiAgICAgICAgICAgIDogZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbjtcblxuICAgICAgICBwZW5kaW5nUG9zaXRpb25BY2Nlc3NvcnMucHVzaChwZW5kaW5nQWNjZXNzb3IpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzTW9ycGhOb3JtYWwpIHtcbiAgICAgICAgdmFyIHBlbmRpbmdBY2Nlc3NvciA9XG4gICAgICAgICAgdGFyZ2V0Lk5PUk1BTCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHBhcnNlci5nZXREZXBlbmRlbmN5KFwiYWNjZXNzb3JcIiwgdGFyZ2V0Lk5PUk1BTClcbiAgICAgICAgICAgIDogZ2VvbWV0cnkuYXR0cmlidXRlcy5ub3JtYWw7XG5cbiAgICAgICAgcGVuZGluZ05vcm1hbEFjY2Vzc29ycy5wdXNoKHBlbmRpbmdBY2Nlc3Nvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgIFByb21pc2UuYWxsKHBlbmRpbmdQb3NpdGlvbkFjY2Vzc29ycyksXG4gICAgICBQcm9taXNlLmFsbChwZW5kaW5nTm9ybWFsQWNjZXNzb3JzKSxcbiAgICBdKS50aGVuKGZ1bmN0aW9uIChhY2Nlc3NvcnMpIHtcbiAgICAgIHZhciBtb3JwaFBvc2l0aW9ucyA9IGFjY2Vzc29yc1swXTtcbiAgICAgIHZhciBtb3JwaE5vcm1hbHMgPSBhY2Nlc3NvcnNbMV07XG5cbiAgICAgIGlmIChoYXNNb3JwaFBvc2l0aW9uKSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24gPSBtb3JwaFBvc2l0aW9ucztcbiAgICAgIGlmIChoYXNNb3JwaE5vcm1hbCkgZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbCA9IG1vcnBoTm9ybWFscztcbiAgICAgIGdlb21ldHJ5Lm1vcnBoVGFyZ2V0c1JlbGF0aXZlID0gdHJ1ZTtcblxuICAgICAgcmV0dXJuIGdlb21ldHJ5O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVzaH0gbWVzaFxuICAgKiBAcGFyYW0ge0dMVEYuTWVzaH0gbWVzaERlZlxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlTW9ycGhUYXJnZXRzKG1lc2gsIG1lc2hEZWYpIHtcbiAgICBtZXNoLnVwZGF0ZU1vcnBoVGFyZ2V0cygpO1xuXG4gICAgaWYgKG1lc2hEZWYud2VpZ2h0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBtZXNoRGVmLndlaWdodHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICBtZXNoLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1tpXSA9IG1lc2hEZWYud2VpZ2h0c1tpXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAuZXh0cmFzIGhhcyB1c2VyLWRlZmluZWQgZGF0YSwgc28gY2hlY2sgdGhhdCAuZXh0cmFzLnRhcmdldE5hbWVzIGlzIGFuIGFycmF5LlxuICAgIGlmIChtZXNoRGVmLmV4dHJhcyAmJiBBcnJheS5pc0FycmF5KG1lc2hEZWYuZXh0cmFzLnRhcmdldE5hbWVzKSkge1xuICAgICAgdmFyIHRhcmdldE5hbWVzID0gbWVzaERlZi5leHRyYXMudGFyZ2V0TmFtZXM7XG5cbiAgICAgIGlmIChtZXNoLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcy5sZW5ndGggPT09IHRhcmdldE5hbWVzLmxlbmd0aCkge1xuICAgICAgICBtZXNoLm1vcnBoVGFyZ2V0RGljdGlvbmFyeSA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHRhcmdldE5hbWVzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICBtZXNoLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVt0YXJnZXROYW1lc1tpXV0gPSBpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJUSFJFRS5HTFRGTG9hZGVyOiBJbnZhbGlkIGV4dHJhcy50YXJnZXROYW1lcyBsZW5ndGguIElnbm9yaW5nIG5hbWVzLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlS2V5KHByaW1pdGl2ZURlZikge1xuICAgIHZhciBkcmFjb0V4dGVuc2lvbiA9XG4gICAgICBwcmltaXRpdmVEZWYuZXh0ZW5zaW9ucyAmJlxuICAgICAgcHJpbWl0aXZlRGVmLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTl07XG4gICAgdmFyIGdlb21ldHJ5S2V5O1xuXG4gICAgaWYgKGRyYWNvRXh0ZW5zaW9uKSB7XG4gICAgICBnZW9tZXRyeUtleSA9XG4gICAgICAgIFwiZHJhY286XCIgK1xuICAgICAgICBkcmFjb0V4dGVuc2lvbi5idWZmZXJWaWV3ICtcbiAgICAgICAgXCI6XCIgK1xuICAgICAgICBkcmFjb0V4dGVuc2lvbi5pbmRpY2VzICtcbiAgICAgICAgXCI6XCIgK1xuICAgICAgICBjcmVhdGVBdHRyaWJ1dGVzS2V5KGRyYWNvRXh0ZW5zaW9uLmF0dHJpYnV0ZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW9tZXRyeUtleSA9XG4gICAgICAgIHByaW1pdGl2ZURlZi5pbmRpY2VzICtcbiAgICAgICAgXCI6XCIgK1xuICAgICAgICBjcmVhdGVBdHRyaWJ1dGVzS2V5KHByaW1pdGl2ZURlZi5hdHRyaWJ1dGVzKSArXG4gICAgICAgIFwiOlwiICtcbiAgICAgICAgcHJpbWl0aXZlRGVmLm1vZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdlb21ldHJ5S2V5O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQXR0cmlidXRlc0tleShhdHRyaWJ1dGVzKSB7XG4gICAgdmFyIGF0dHJpYnV0ZXNLZXkgPSBcIlwiO1xuXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5zb3J0KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBrZXlzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgIGF0dHJpYnV0ZXNLZXkgKz0ga2V5c1tpXSArIFwiOlwiICsgYXR0cmlidXRlc1trZXlzW2ldXSArIFwiO1wiO1xuICAgIH1cblxuICAgIHJldHVybiBhdHRyaWJ1dGVzS2V5O1xuICB9XG5cbiAgLyogR0xURiBQQVJTRVIgKi9cblxuICBmdW5jdGlvbiBHTFRGUGFyc2VyKGpzb24sIG9wdGlvbnMpIHtcbiAgICB0aGlzLmpzb24gPSBqc29uIHx8IHt9O1xuICAgIHRoaXMuZXh0ZW5zaW9ucyA9IHt9O1xuICAgIHRoaXMucGx1Z2lucyA9IHt9O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvLyBsb2FkZXIgb2JqZWN0IGNhY2hlXG4gICAgdGhpcy5jYWNoZSA9IG5ldyBHTFRGUmVnaXN0cnkoKTtcblxuICAgIC8vIGFzc29jaWF0aW9ucyBiZXR3ZWVuIFRocmVlLmpzIG9iamVjdHMgYW5kIGdsVEYgZWxlbWVudHNcbiAgICB0aGlzLmFzc29jaWF0aW9ucyA9IG5ldyBNYXAoKTtcblxuICAgIC8vIEJ1ZmZlckdlb21ldHJ5IGNhY2hpbmdcbiAgICB0aGlzLnByaW1pdGl2ZUNhY2hlID0ge307XG5cbiAgICAvLyBPYmplY3QzRCBpbnN0YW5jZSBjYWNoZXNcbiAgICB0aGlzLm1lc2hDYWNoZSA9IHsgcmVmczoge30sIHVzZXM6IHt9IH07XG4gICAgdGhpcy5jYW1lcmFDYWNoZSA9IHsgcmVmczoge30sIHVzZXM6IHt9IH07XG4gICAgdGhpcy5saWdodENhY2hlID0geyByZWZzOiB7fSwgdXNlczoge30gfTtcblxuICAgIC8vIFRyYWNrIG5vZGUgbmFtZXMsIHRvIGVuc3VyZSBubyBkdXBsaWNhdGVzXG4gICAgdGhpcy5ub2RlTmFtZXNVc2VkID0ge307XG5cbiAgICAvLyBVc2UgYW4gSW1hZ2VCaXRtYXBMb2FkZXIgaWYgaW1hZ2VCaXRtYXBzIGFyZSBzdXBwb3J0ZWQuIE1vdmVzIG11Y2ggb2YgdGhlXG4gICAgLy8gZXhwZW5zaXZlIHdvcmsgb2YgdXBsb2FkaW5nIGEgdGV4dHVyZSB0byB0aGUgR1BVIG9mZiB0aGUgbWFpbiB0aHJlYWQuXG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGNyZWF0ZUltYWdlQml0bWFwICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAvRmlyZWZveC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSA9PT0gZmFsc2VcbiAgICApIHtcbiAgICAgIHRoaXMudGV4dHVyZUxvYWRlciA9IG5ldyBJbWFnZUJpdG1hcExvYWRlcih0aGlzLm9wdGlvbnMubWFuYWdlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudGV4dHVyZUxvYWRlciA9IG5ldyBUZXh0dXJlTG9hZGVyKHRoaXMub3B0aW9ucy5tYW5hZ2VyKTtcbiAgICB9XG5cbiAgICB0aGlzLnRleHR1cmVMb2FkZXIuc2V0Q3Jvc3NPcmlnaW4odGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luKTtcblxuICAgIHRoaXMuZmlsZUxvYWRlciA9IG5ldyBGaWxlTG9hZGVyKHRoaXMub3B0aW9ucy5tYW5hZ2VyKTtcbiAgICB0aGlzLmZpbGVMb2FkZXIuc2V0UmVzcG9uc2VUeXBlKFwiYXJyYXlidWZmZXJcIik7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luID09PSBcInVzZS1jcmVkZW50aWFsc1wiKSB7XG4gICAgICB0aGlzLmZpbGVMb2FkZXIuc2V0V2l0aENyZWRlbnRpYWxzKHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLnNldEV4dGVuc2lvbnMgPSBmdW5jdGlvbiAoZXh0ZW5zaW9ucykge1xuICAgIHRoaXMuZXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnM7XG4gIH07XG5cbiAgR0xURlBhcnNlci5wcm90b3R5cGUuc2V0UGx1Z2lucyA9IGZ1bmN0aW9uIChwbHVnaW5zKSB7XG4gICAgdGhpcy5wbHVnaW5zID0gcGx1Z2lucztcbiAgfTtcblxuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIChvbkxvYWQsIG9uRXJyb3IpIHtcbiAgICB2YXIgcGFyc2VyID0gdGhpcztcbiAgICB2YXIganNvbiA9IHRoaXMuanNvbjtcbiAgICB2YXIgZXh0ZW5zaW9ucyA9IHRoaXMuZXh0ZW5zaW9ucztcblxuICAgIC8vIENsZWFyIHRoZSBsb2FkZXIgY2FjaGVcbiAgICB0aGlzLmNhY2hlLnJlbW92ZUFsbCgpO1xuXG4gICAgLy8gTWFyayB0aGUgc3BlY2lhbCBub2Rlcy9tZXNoZXMgaW4ganNvbiBmb3IgZWZmaWNpZW50IHBhcnNlXG4gICAgdGhpcy5faW52b2tlQWxsKGZ1bmN0aW9uIChleHQpIHtcbiAgICAgIHJldHVybiBleHQuX21hcmtEZWZzICYmIGV4dC5fbWFya0RlZnMoKTtcbiAgICB9KTtcblxuICAgIFByb21pc2UuYWxsKFtcbiAgICAgIHRoaXMuZ2V0RGVwZW5kZW5jaWVzKFwic2NlbmVcIiksXG4gICAgICB0aGlzLmdldERlcGVuZGVuY2llcyhcImFuaW1hdGlvblwiKSxcbiAgICAgIHRoaXMuZ2V0RGVwZW5kZW5jaWVzKFwiY2FtZXJhXCIpLFxuICAgIF0pXG4gICAgICAudGhlbihmdW5jdGlvbiAoZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgICAgc2NlbmU6IGRlcGVuZGVuY2llc1swXVtqc29uLnNjZW5lIHx8IDBdLFxuICAgICAgICAgIHNjZW5lczogZGVwZW5kZW5jaWVzWzBdLFxuICAgICAgICAgIGFuaW1hdGlvbnM6IGRlcGVuZGVuY2llc1sxXSxcbiAgICAgICAgICBjYW1lcmFzOiBkZXBlbmRlbmNpZXNbMl0sXG4gICAgICAgICAgYXNzZXQ6IGpzb24uYXNzZXQsXG4gICAgICAgICAgcGFyc2VyOiBwYXJzZXIsXG4gICAgICAgICAgdXNlckRhdGE6IHt9LFxuICAgICAgICB9O1xuXG4gICAgICAgIGFkZFVua25vd25FeHRlbnNpb25zVG9Vc2VyRGF0YShleHRlbnNpb25zLCByZXN1bHQsIGpzb24pO1xuXG4gICAgICAgIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEocmVzdWx0LCBqc29uKTtcblxuICAgICAgICBvbkxvYWQocmVzdWx0KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2gob25FcnJvcik7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoZSBzcGVjaWFsIG5vZGVzL21lc2hlcyBpbiBqc29uIGZvciBlZmZpY2llbnQgcGFyc2UuXG4gICAqL1xuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5fbWFya0RlZnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5vZGVEZWZzID0gdGhpcy5qc29uLm5vZGVzIHx8IFtdO1xuICAgIHZhciBza2luRGVmcyA9IHRoaXMuanNvbi5za2lucyB8fCBbXTtcbiAgICB2YXIgbWVzaERlZnMgPSB0aGlzLmpzb24ubWVzaGVzIHx8IFtdO1xuXG4gICAgLy8gTm90aGluZyBpbiB0aGUgbm9kZSBkZWZpbml0aW9uIGluZGljYXRlcyB3aGV0aGVyIGl0IGlzIGEgQm9uZSBvciBhblxuICAgIC8vIE9iamVjdDNELiBVc2UgdGhlIHNraW5zJyBqb2ludCByZWZlcmVuY2VzIHRvIG1hcmsgYm9uZXMuXG4gICAgZm9yIChcbiAgICAgIHZhciBza2luSW5kZXggPSAwLCBza2luTGVuZ3RoID0gc2tpbkRlZnMubGVuZ3RoO1xuICAgICAgc2tpbkluZGV4IDwgc2tpbkxlbmd0aDtcbiAgICAgIHNraW5JbmRleCsrXG4gICAgKSB7XG4gICAgICB2YXIgam9pbnRzID0gc2tpbkRlZnNbc2tpbkluZGV4XS5qb2ludHM7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGpvaW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgIG5vZGVEZWZzW2pvaW50c1tpXV0uaXNCb25lID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJdGVyYXRlIG92ZXIgYWxsIG5vZGVzLCBtYXJraW5nIHJlZmVyZW5jZXMgdG8gc2hhcmVkIHJlc291cmNlcyxcbiAgICAvLyBhcyB3ZWxsIGFzIHNrZWxldG9uIGpvaW50cy5cbiAgICBmb3IgKFxuICAgICAgdmFyIG5vZGVJbmRleCA9IDAsIG5vZGVMZW5ndGggPSBub2RlRGVmcy5sZW5ndGg7XG4gICAgICBub2RlSW5kZXggPCBub2RlTGVuZ3RoO1xuICAgICAgbm9kZUluZGV4KytcbiAgICApIHtcbiAgICAgIHZhciBub2RlRGVmID0gbm9kZURlZnNbbm9kZUluZGV4XTtcblxuICAgICAgaWYgKG5vZGVEZWYubWVzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX2FkZE5vZGVSZWYodGhpcy5tZXNoQ2FjaGUsIG5vZGVEZWYubWVzaCk7XG5cbiAgICAgICAgLy8gTm90aGluZyBpbiB0aGUgbWVzaCBkZWZpbml0aW9uIGluZGljYXRlcyB3aGV0aGVyIGl0IGlzXG4gICAgICAgIC8vIGEgU2tpbm5lZE1lc2ggb3IgTWVzaC4gVXNlIHRoZSBub2RlJ3MgbWVzaCByZWZlcmVuY2VcbiAgICAgICAgLy8gdG8gbWFyayBTa2lubmVkTWVzaCBpZiBub2RlIGhhcyBza2luLlxuICAgICAgICBpZiAobm9kZURlZi5za2luICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBtZXNoRGVmc1tub2RlRGVmLm1lc2hdLmlzU2tpbm5lZE1lc2ggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChub2RlRGVmLmNhbWVyYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX2FkZE5vZGVSZWYodGhpcy5jYW1lcmFDYWNoZSwgbm9kZURlZi5jYW1lcmEpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQ291bnRzIHJlZmVyZW5jZXMgdG8gc2hhcmVkIG5vZGUgLyBPYmplY3QzRCByZXNvdXJjZXMuIFRoZXNlIHJlc291cmNlc1xuICAgKiBjYW4gYmUgcmV1c2VkLCBvciBcImluc3RhbnRpYXRlZFwiLCBhdCBtdWx0aXBsZSBub2RlcyBpbiB0aGUgc2NlbmVcbiAgICogaGllcmFyY2h5LiBNZXNoLCBDYW1lcmEsIGFuZCBMaWdodCBpbnN0YW5jZXMgYXJlIGluc3RhbnRpYXRlZCBhbmQgbXVzdFxuICAgKiBiZSBtYXJrZWQuIE5vbi1zY2VuZWdyYXBoIHJlc291cmNlcyAobGlrZSBNYXRlcmlhbHMsIEdlb21ldHJpZXMsIGFuZFxuICAgKiBUZXh0dXJlcykgY2FuIGJlIHJldXNlZCBkaXJlY3RseSBhbmQgYXJlIG5vdCBtYXJrZWQgaGVyZS5cbiAgICpcbiAgICogRXhhbXBsZTogQ2VzaXVtTWlsa1RydWNrIHNhbXBsZSBtb2RlbCByZXVzZXMgXCJXaGVlbFwiIG1lc2hlcy5cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLl9hZGROb2RlUmVmID0gZnVuY3Rpb24gKGNhY2hlLCBpbmRleCkge1xuICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICBpZiAoY2FjaGUucmVmc1tpbmRleF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgY2FjaGUucmVmc1tpbmRleF0gPSBjYWNoZS51c2VzW2luZGV4XSA9IDA7XG4gICAgfVxuXG4gICAgY2FjaGUucmVmc1tpbmRleF0rKztcbiAgfTtcblxuICAvKiogUmV0dXJucyBhIHJlZmVyZW5jZSB0byBhIHNoYXJlZCByZXNvdXJjZSwgY2xvbmluZyBpdCBpZiBuZWNlc3NhcnkuICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLl9nZXROb2RlUmVmID0gZnVuY3Rpb24gKGNhY2hlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgaWYgKGNhY2hlLnJlZnNbaW5kZXhdIDw9IDEpIHJldHVybiBvYmplY3Q7XG5cbiAgICB2YXIgcmVmID0gb2JqZWN0LmNsb25lKCk7XG5cbiAgICByZWYubmFtZSArPSBcIl9pbnN0YW5jZV9cIiArIGNhY2hlLnVzZXNbaW5kZXhdKys7XG5cbiAgICByZXR1cm4gcmVmO1xuICB9O1xuXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLl9pbnZva2VPbmUgPSBmdW5jdGlvbiAoZnVuYykge1xuICAgIHZhciBleHRlbnNpb25zID0gT2JqZWN0LnZhbHVlcyh0aGlzLnBsdWdpbnMpO1xuICAgIGV4dGVuc2lvbnMucHVzaCh0aGlzKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXh0ZW5zaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMoZXh0ZW5zaW9uc1tpXSk7XG5cbiAgICAgIGlmIChyZXN1bHQpIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9O1xuXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLl9pbnZva2VBbGwgPSBmdW5jdGlvbiAoZnVuYykge1xuICAgIHZhciBleHRlbnNpb25zID0gT2JqZWN0LnZhbHVlcyh0aGlzLnBsdWdpbnMpO1xuICAgIGV4dGVuc2lvbnMudW5zaGlmdCh0aGlzKTtcblxuICAgIHZhciBwZW5kaW5nID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4dGVuc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciByZXN1bHQgPSBmdW5jKGV4dGVuc2lvbnNbaV0pO1xuXG4gICAgICBpZiAocmVzdWx0KSBwZW5kaW5nLnB1c2gocmVzdWx0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGVuZGluZztcbiAgfTtcblxuICAvKipcbiAgICogUmVxdWVzdHMgdGhlIHNwZWNpZmllZCBkZXBlbmRlbmN5IGFzeW5jaHJvbm91c2x5LCB3aXRoIGNhY2hpbmcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdDNEfE1hdGVyaWFsfFRIUkVFLlRleHR1cmV8QW5pbWF0aW9uQ2xpcHxBcnJheUJ1ZmZlcnxPYmplY3Q+fVxuICAgKi9cbiAgR0xURlBhcnNlci5wcm90b3R5cGUuZ2V0RGVwZW5kZW5jeSA9IGZ1bmN0aW9uICh0eXBlLCBpbmRleCkge1xuICAgIHZhciBjYWNoZUtleSA9IHR5cGUgKyBcIjpcIiArIGluZGV4O1xuICAgIHZhciBkZXBlbmRlbmN5ID0gdGhpcy5jYWNoZS5nZXQoY2FjaGVLZXkpO1xuXG4gICAgaWYgKCFkZXBlbmRlbmN5KSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcInNjZW5lXCI6XG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZFNjZW5lKGluZGV4KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwibm9kZVwiOlxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWROb2RlKGluZGV4KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwibWVzaFwiOlxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLl9pbnZva2VPbmUoZnVuY3Rpb24gKGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGV4dC5sb2FkTWVzaCAmJiBleHQubG9hZE1lc2goaW5kZXgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJhY2Nlc3NvclwiOlxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRBY2Nlc3NvcihpbmRleCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcImJ1ZmZlclZpZXdcIjpcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5faW52b2tlT25lKGZ1bmN0aW9uIChleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBleHQubG9hZEJ1ZmZlclZpZXcgJiYgZXh0LmxvYWRCdWZmZXJWaWV3KGluZGV4KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiYnVmZmVyXCI6XG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZEJ1ZmZlcihpbmRleCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIm1hdGVyaWFsXCI6XG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMuX2ludm9rZU9uZShmdW5jdGlvbiAoZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gZXh0LmxvYWRNYXRlcmlhbCAmJiBleHQubG9hZE1hdGVyaWFsKGluZGV4KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwidGV4dHVyZVwiOlxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLl9pbnZva2VPbmUoZnVuY3Rpb24gKGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGV4dC5sb2FkVGV4dHVyZSAmJiBleHQubG9hZFRleHR1cmUoaW5kZXgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJza2luXCI6XG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZFNraW4oaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJhbmltYXRpb25cIjpcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkQW5pbWF0aW9uKGluZGV4KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiY2FtZXJhXCI6XG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZENhbWVyYShpbmRleCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHR5cGU6IFwiICsgdHlwZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FjaGUuYWRkKGNhY2hlS2V5LCBkZXBlbmRlbmN5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVwZW5kZW5jeTtcbiAgfTtcblxuICAvKipcbiAgICogUmVxdWVzdHMgYWxsIGRlcGVuZGVuY2llcyBvZiB0aGUgc3BlY2lmaWVkIHR5cGUgYXN5bmNocm9ub3VzbHksIHdpdGggY2FjaGluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxPYmplY3Q+Pn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmdldERlcGVuZGVuY2llcyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IHRoaXMuY2FjaGUuZ2V0KHR5cGUpO1xuXG4gICAgaWYgKCFkZXBlbmRlbmNpZXMpIHtcbiAgICAgIHZhciBwYXJzZXIgPSB0aGlzO1xuICAgICAgdmFyIGRlZnMgPSB0aGlzLmpzb25bdHlwZSArICh0eXBlID09PSBcIm1lc2hcIiA/IFwiZXNcIiA6IFwic1wiKV0gfHwgW107XG5cbiAgICAgIGRlcGVuZGVuY2llcyA9IFByb21pc2UuYWxsKFxuICAgICAgICBkZWZzLm1hcChmdW5jdGlvbiAoZGVmLCBpbmRleCkge1xuICAgICAgICAgIHJldHVybiBwYXJzZXIuZ2V0RGVwZW5kZW5jeSh0eXBlLCBpbmRleCk7XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICB0aGlzLmNhY2hlLmFkZCh0eXBlLCBkZXBlbmRlbmNpZXMpO1xuICAgIH1cblxuICAgIHJldHVybiBkZXBlbmRlbmNpZXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjYnVmZmVycy1hbmQtYnVmZmVyLXZpZXdzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBidWZmZXJJbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5QnVmZmVyPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRCdWZmZXIgPSBmdW5jdGlvbiAoYnVmZmVySW5kZXgpIHtcbiAgICB2YXIgYnVmZmVyRGVmID0gdGhpcy5qc29uLmJ1ZmZlcnNbYnVmZmVySW5kZXhdO1xuICAgIHZhciBsb2FkZXIgPSB0aGlzLmZpbGVMb2FkZXI7XG5cbiAgICBpZiAoYnVmZmVyRGVmLnR5cGUgJiYgYnVmZmVyRGVmLnR5cGUgIT09IFwiYXJyYXlidWZmZXJcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlRIUkVFLkdMVEZMb2FkZXI6IFwiICsgYnVmZmVyRGVmLnR5cGUgKyBcIiBidWZmZXIgdHlwZSBpcyBub3Qgc3VwcG9ydGVkLlwiXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIElmIHByZXNlbnQsIEdMQiBjb250YWluZXIgaXMgcmVxdWlyZWQgdG8gYmUgdGhlIGZpcnN0IGJ1ZmZlci5cbiAgICBpZiAoYnVmZmVyRGVmLnVyaSA9PT0gdW5kZWZpbmVkICYmIGJ1ZmZlckluZGV4ID09PSAwKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9CSU5BUllfR0xURl0uYm9keSk7XG4gICAgfVxuXG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgbG9hZGVyLmxvYWQoXG4gICAgICAgIHJlc29sdmVVUkwoYnVmZmVyRGVmLnVyaSwgb3B0aW9ucy5wYXRoKSxcbiAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAnVEhSRUUuR0xURkxvYWRlcjogRmFpbGVkIHRvIGxvYWQgYnVmZmVyIFwiJyArIGJ1ZmZlckRlZi51cmkgKyAnXCIuJ1xuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjYnVmZmVycy1hbmQtYnVmZmVyLXZpZXdzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBidWZmZXJWaWV3SW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheUJ1ZmZlcj59XG4gICAqL1xuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkQnVmZmVyVmlldyA9IGZ1bmN0aW9uIChidWZmZXJWaWV3SW5kZXgpIHtcbiAgICB2YXIgYnVmZmVyVmlld0RlZiA9IHRoaXMuanNvbi5idWZmZXJWaWV3c1tidWZmZXJWaWV3SW5kZXhdO1xuXG4gICAgcmV0dXJuIHRoaXMuZ2V0RGVwZW5kZW5jeShcImJ1ZmZlclwiLCBidWZmZXJWaWV3RGVmLmJ1ZmZlcikudGhlbihmdW5jdGlvbiAoXG4gICAgICBidWZmZXJcbiAgICApIHtcbiAgICAgIHZhciBieXRlTGVuZ3RoID0gYnVmZmVyVmlld0RlZi5ieXRlTGVuZ3RoIHx8IDA7XG4gICAgICB2YXIgYnl0ZU9mZnNldCA9IGJ1ZmZlclZpZXdEZWYuYnl0ZU9mZnNldCB8fCAwO1xuICAgICAgcmV0dXJuIGJ1ZmZlci5zbGljZShieXRlT2Zmc2V0LCBieXRlT2Zmc2V0ICsgYnl0ZUxlbmd0aCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjYWNjZXNzb3JzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhY2Nlc3NvckluZGV4XG4gICAqIEByZXR1cm4ge1Byb21pc2U8QnVmZmVyQXR0cmlidXRlfEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRBY2Nlc3NvciA9IGZ1bmN0aW9uIChhY2Nlc3NvckluZGV4KSB7XG4gICAgdmFyIHBhcnNlciA9IHRoaXM7XG4gICAgdmFyIGpzb24gPSB0aGlzLmpzb247XG5cbiAgICB2YXIgYWNjZXNzb3JEZWYgPSB0aGlzLmpzb24uYWNjZXNzb3JzW2FjY2Vzc29ySW5kZXhdO1xuXG4gICAgaWYgKFxuICAgICAgYWNjZXNzb3JEZWYuYnVmZmVyVmlldyA9PT0gdW5kZWZpbmVkICYmXG4gICAgICBhY2Nlc3NvckRlZi5zcGFyc2UgPT09IHVuZGVmaW5lZFxuICAgICkge1xuICAgICAgLy8gSWdub3JlIGVtcHR5IGFjY2Vzc29ycywgd2hpY2ggbWF5IGJlIHVzZWQgdG8gZGVjbGFyZSBydW50aW1lXG4gICAgICAvLyBpbmZvcm1hdGlvbiBhYm91dCBhdHRyaWJ1dGVzIGNvbWluZyBmcm9tIGFub3RoZXIgc291cmNlIChlLmcuIERyYWNvXG4gICAgICAvLyBjb21wcmVzc2lvbiBleHRlbnNpb24pLlxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG5cbiAgICB2YXIgcGVuZGluZ0J1ZmZlclZpZXdzID0gW107XG5cbiAgICBpZiAoYWNjZXNzb3JEZWYuYnVmZmVyVmlldyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBwZW5kaW5nQnVmZmVyVmlld3MucHVzaChcbiAgICAgICAgdGhpcy5nZXREZXBlbmRlbmN5KFwiYnVmZmVyVmlld1wiLCBhY2Nlc3NvckRlZi5idWZmZXJWaWV3KVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGVuZGluZ0J1ZmZlclZpZXdzLnB1c2gobnVsbCk7XG4gICAgfVxuXG4gICAgaWYgKGFjY2Vzc29yRGVmLnNwYXJzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBwZW5kaW5nQnVmZmVyVmlld3MucHVzaChcbiAgICAgICAgdGhpcy5nZXREZXBlbmRlbmN5KFwiYnVmZmVyVmlld1wiLCBhY2Nlc3NvckRlZi5zcGFyc2UuaW5kaWNlcy5idWZmZXJWaWV3KVxuICAgICAgKTtcbiAgICAgIHBlbmRpbmdCdWZmZXJWaWV3cy5wdXNoKFxuICAgICAgICB0aGlzLmdldERlcGVuZGVuY3koXCJidWZmZXJWaWV3XCIsIGFjY2Vzc29yRGVmLnNwYXJzZS52YWx1ZXMuYnVmZmVyVmlldylcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmdCdWZmZXJWaWV3cykudGhlbihmdW5jdGlvbiAoYnVmZmVyVmlld3MpIHtcbiAgICAgIHZhciBidWZmZXJWaWV3ID0gYnVmZmVyVmlld3NbMF07XG5cbiAgICAgIHZhciBpdGVtU2l6ZSA9IFdFQkdMX1RZUEVfU0laRVNbYWNjZXNzb3JEZWYudHlwZV07XG4gICAgICB2YXIgVHlwZWRBcnJheSA9IFdFQkdMX0NPTVBPTkVOVF9UWVBFU1thY2Nlc3NvckRlZi5jb21wb25lbnRUeXBlXTtcblxuICAgICAgLy8gRm9yIFZFQzM6IGl0ZW1TaXplIGlzIDMsIGVsZW1lbnRCeXRlcyBpcyA0LCBpdGVtQnl0ZXMgaXMgMTIuXG4gICAgICB2YXIgZWxlbWVudEJ5dGVzID0gVHlwZWRBcnJheS5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICAgIHZhciBpdGVtQnl0ZXMgPSBlbGVtZW50Qnl0ZXMgKiBpdGVtU2l6ZTtcbiAgICAgIHZhciBieXRlT2Zmc2V0ID0gYWNjZXNzb3JEZWYuYnl0ZU9mZnNldCB8fCAwO1xuICAgICAgdmFyIGJ5dGVTdHJpZGUgPVxuICAgICAgICBhY2Nlc3NvckRlZi5idWZmZXJWaWV3ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IGpzb24uYnVmZmVyVmlld3NbYWNjZXNzb3JEZWYuYnVmZmVyVmlld10uYnl0ZVN0cmlkZVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIG5vcm1hbGl6ZWQgPSBhY2Nlc3NvckRlZi5ub3JtYWxpemVkID09PSB0cnVlO1xuICAgICAgdmFyIGFycmF5LCBidWZmZXJBdHRyaWJ1dGU7XG5cbiAgICAgIC8vIFRoZSBidWZmZXIgaXMgbm90IGludGVybGVhdmVkIGlmIHRoZSBzdHJpZGUgaXMgdGhlIGl0ZW0gc2l6ZSBpbiBieXRlcy5cbiAgICAgIGlmIChieXRlU3RyaWRlICYmIGJ5dGVTdHJpZGUgIT09IGl0ZW1CeXRlcykge1xuICAgICAgICAvLyBFYWNoIFwic2xpY2VcIiBvZiB0aGUgYnVmZmVyLCBhcyBkZWZpbmVkIGJ5ICdjb3VudCcgZWxlbWVudHMgb2YgJ2J5dGVTdHJpZGUnIGJ5dGVzLCBnZXRzIGl0cyBvd24gSW50ZXJsZWF2ZWRCdWZmZXJcbiAgICAgICAgLy8gVGhpcyBtYWtlcyBzdXJlIHRoYXQgSUJBLmNvdW50IHJlZmxlY3RzIGFjY2Vzc29yLmNvdW50IHByb3Blcmx5XG4gICAgICAgIHZhciBpYlNsaWNlID0gTWF0aC5mbG9vcihieXRlT2Zmc2V0IC8gYnl0ZVN0cmlkZSk7XG4gICAgICAgIHZhciBpYkNhY2hlS2V5ID1cbiAgICAgICAgICBcIkludGVybGVhdmVkQnVmZmVyOlwiICtcbiAgICAgICAgICBhY2Nlc3NvckRlZi5idWZmZXJWaWV3ICtcbiAgICAgICAgICBcIjpcIiArXG4gICAgICAgICAgYWNjZXNzb3JEZWYuY29tcG9uZW50VHlwZSArXG4gICAgICAgICAgXCI6XCIgK1xuICAgICAgICAgIGliU2xpY2UgK1xuICAgICAgICAgIFwiOlwiICtcbiAgICAgICAgICBhY2Nlc3NvckRlZi5jb3VudDtcbiAgICAgICAgdmFyIGliID0gcGFyc2VyLmNhY2hlLmdldChpYkNhY2hlS2V5KTtcblxuICAgICAgICBpZiAoIWliKSB7XG4gICAgICAgICAgYXJyYXkgPSBuZXcgVHlwZWRBcnJheShcbiAgICAgICAgICAgIGJ1ZmZlclZpZXcsXG4gICAgICAgICAgICBpYlNsaWNlICogYnl0ZVN0cmlkZSxcbiAgICAgICAgICAgIChhY2Nlc3NvckRlZi5jb3VudCAqIGJ5dGVTdHJpZGUpIC8gZWxlbWVudEJ5dGVzXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIEludGVnZXIgcGFyYW1ldGVycyB0byBJQi9JQkEgYXJlIGluIGFycmF5IGVsZW1lbnRzLCBub3QgYnl0ZXMuXG4gICAgICAgICAgaWIgPSBuZXcgSW50ZXJsZWF2ZWRCdWZmZXIoYXJyYXksIGJ5dGVTdHJpZGUgLyBlbGVtZW50Qnl0ZXMpO1xuXG4gICAgICAgICAgcGFyc2VyLmNhY2hlLmFkZChpYkNhY2hlS2V5LCBpYik7XG4gICAgICAgIH1cblxuICAgICAgICBidWZmZXJBdHRyaWJ1dGUgPSBuZXcgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUoXG4gICAgICAgICAgaWIsXG4gICAgICAgICAgaXRlbVNpemUsXG4gICAgICAgICAgKGJ5dGVPZmZzZXQgJSBieXRlU3RyaWRlKSAvIGVsZW1lbnRCeXRlcyxcbiAgICAgICAgICBub3JtYWxpemVkXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYnVmZmVyVmlldyA9PT0gbnVsbCkge1xuICAgICAgICAgIGFycmF5ID0gbmV3IFR5cGVkQXJyYXkoYWNjZXNzb3JEZWYuY291bnQgKiBpdGVtU2l6ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXJyYXkgPSBuZXcgVHlwZWRBcnJheShcbiAgICAgICAgICAgIGJ1ZmZlclZpZXcsXG4gICAgICAgICAgICBieXRlT2Zmc2V0LFxuICAgICAgICAgICAgYWNjZXNzb3JEZWYuY291bnQgKiBpdGVtU2l6ZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBidWZmZXJBdHRyaWJ1dGUgPSBuZXcgQnVmZmVyQXR0cmlidXRlKGFycmF5LCBpdGVtU2l6ZSwgbm9ybWFsaXplZCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjc3BhcnNlLWFjY2Vzc29yc1xuICAgICAgaWYgKGFjY2Vzc29yRGVmLnNwYXJzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBpdGVtU2l6ZUluZGljZXMgPSBXRUJHTF9UWVBFX1NJWkVTLlNDQUxBUjtcbiAgICAgICAgdmFyIFR5cGVkQXJyYXlJbmRpY2VzID1cbiAgICAgICAgICBXRUJHTF9DT01QT05FTlRfVFlQRVNbYWNjZXNzb3JEZWYuc3BhcnNlLmluZGljZXMuY29tcG9uZW50VHlwZV07XG5cbiAgICAgICAgdmFyIGJ5dGVPZmZzZXRJbmRpY2VzID0gYWNjZXNzb3JEZWYuc3BhcnNlLmluZGljZXMuYnl0ZU9mZnNldCB8fCAwO1xuICAgICAgICB2YXIgYnl0ZU9mZnNldFZhbHVlcyA9IGFjY2Vzc29yRGVmLnNwYXJzZS52YWx1ZXMuYnl0ZU9mZnNldCB8fCAwO1xuXG4gICAgICAgIHZhciBzcGFyc2VJbmRpY2VzID0gbmV3IFR5cGVkQXJyYXlJbmRpY2VzKFxuICAgICAgICAgIGJ1ZmZlclZpZXdzWzFdLFxuICAgICAgICAgIGJ5dGVPZmZzZXRJbmRpY2VzLFxuICAgICAgICAgIGFjY2Vzc29yRGVmLnNwYXJzZS5jb3VudCAqIGl0ZW1TaXplSW5kaWNlc1xuICAgICAgICApO1xuICAgICAgICB2YXIgc3BhcnNlVmFsdWVzID0gbmV3IFR5cGVkQXJyYXkoXG4gICAgICAgICAgYnVmZmVyVmlld3NbMl0sXG4gICAgICAgICAgYnl0ZU9mZnNldFZhbHVlcyxcbiAgICAgICAgICBhY2Nlc3NvckRlZi5zcGFyc2UuY291bnQgKiBpdGVtU2l6ZVxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChidWZmZXJWaWV3ICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gQXZvaWQgbW9kaWZ5aW5nIHRoZSBvcmlnaW5hbCBBcnJheUJ1ZmZlciwgaWYgdGhlIGJ1ZmZlclZpZXcgd2Fzbid0IGluaXRpYWxpemVkIHdpdGggemVyb2VzLlxuICAgICAgICAgIGJ1ZmZlckF0dHJpYnV0ZSA9IG5ldyBCdWZmZXJBdHRyaWJ1dGUoXG4gICAgICAgICAgICBidWZmZXJBdHRyaWJ1dGUuYXJyYXkuc2xpY2UoKSxcbiAgICAgICAgICAgIGJ1ZmZlckF0dHJpYnV0ZS5pdGVtU2l6ZSxcbiAgICAgICAgICAgIGJ1ZmZlckF0dHJpYnV0ZS5ub3JtYWxpemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHNwYXJzZUluZGljZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgIHZhciBpbmRleCA9IHNwYXJzZUluZGljZXNbaV07XG5cbiAgICAgICAgICBidWZmZXJBdHRyaWJ1dGUuc2V0WChpbmRleCwgc3BhcnNlVmFsdWVzW2kgKiBpdGVtU2l6ZV0pO1xuICAgICAgICAgIGlmIChpdGVtU2l6ZSA+PSAyKVxuICAgICAgICAgICAgYnVmZmVyQXR0cmlidXRlLnNldFkoaW5kZXgsIHNwYXJzZVZhbHVlc1tpICogaXRlbVNpemUgKyAxXSk7XG4gICAgICAgICAgaWYgKGl0ZW1TaXplID49IDMpXG4gICAgICAgICAgICBidWZmZXJBdHRyaWJ1dGUuc2V0WihpbmRleCwgc3BhcnNlVmFsdWVzW2kgKiBpdGVtU2l6ZSArIDJdKTtcbiAgICAgICAgICBpZiAoaXRlbVNpemUgPj0gNClcbiAgICAgICAgICAgIGJ1ZmZlckF0dHJpYnV0ZS5zZXRXKGluZGV4LCBzcGFyc2VWYWx1ZXNbaSAqIGl0ZW1TaXplICsgM10pO1xuICAgICAgICAgIGlmIChpdGVtU2l6ZSA+PSA1KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBcIlRIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIGl0ZW1TaXplIGluIHNwYXJzZSBCdWZmZXJBdHRyaWJ1dGUuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJ1ZmZlckF0dHJpYnV0ZTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI3RleHR1cmVzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0ZXh0dXJlSW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxUSFJFRS5UZXh0dXJlPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRUZXh0dXJlID0gZnVuY3Rpb24gKHRleHR1cmVJbmRleCkge1xuICAgIHZhciBwYXJzZXIgPSB0aGlzO1xuICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xuICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgdmFyIHRleHR1cmVEZWYgPSBqc29uLnRleHR1cmVzW3RleHR1cmVJbmRleF07XG5cbiAgICB2YXIgdGV4dHVyZUV4dGVuc2lvbnMgPSB0ZXh0dXJlRGVmLmV4dGVuc2lvbnMgfHwge307XG5cbiAgICB2YXIgc291cmNlO1xuXG4gICAgaWYgKHRleHR1cmVFeHRlbnNpb25zW0VYVEVOU0lPTlMuTVNGVF9URVhUVVJFX0REU10pIHtcbiAgICAgIHNvdXJjZSA9XG4gICAgICAgIGpzb24uaW1hZ2VzW3RleHR1cmVFeHRlbnNpb25zW0VYVEVOU0lPTlMuTVNGVF9URVhUVVJFX0REU10uc291cmNlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgc291cmNlID0ganNvbi5pbWFnZXNbdGV4dHVyZURlZi5zb3VyY2VdO1xuICAgIH1cblxuICAgIHZhciBsb2FkZXI7XG5cbiAgICBpZiAoc291cmNlLnVyaSkge1xuICAgICAgbG9hZGVyID0gb3B0aW9ucy5tYW5hZ2VyLmdldEhhbmRsZXIoc291cmNlLnVyaSk7XG4gICAgfVxuXG4gICAgaWYgKCFsb2FkZXIpIHtcbiAgICAgIGxvYWRlciA9IHRleHR1cmVFeHRlbnNpb25zW0VYVEVOU0lPTlMuTVNGVF9URVhUVVJFX0REU11cbiAgICAgICAgPyBwYXJzZXIuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLk1TRlRfVEVYVFVSRV9ERFNdLmRkc0xvYWRlclxuICAgICAgICA6IHRoaXMudGV4dHVyZUxvYWRlcjtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5sb2FkVGV4dHVyZUltYWdlKHRleHR1cmVJbmRleCwgc291cmNlLCBsb2FkZXIpO1xuICB9O1xuXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRUZXh0dXJlSW1hZ2UgPSBmdW5jdGlvbiAoXG4gICAgdGV4dHVyZUluZGV4LFxuICAgIHNvdXJjZSxcbiAgICBsb2FkZXJcbiAgKSB7XG4gICAgdmFyIHBhcnNlciA9IHRoaXM7XG4gICAgdmFyIGpzb24gPSB0aGlzLmpzb247XG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICB2YXIgdGV4dHVyZURlZiA9IGpzb24udGV4dHVyZXNbdGV4dHVyZUluZGV4XTtcblxuICAgIHZhciBVUkwgPSBzZWxmLlVSTCB8fCBzZWxmLndlYmtpdFVSTDtcblxuICAgIHZhciBzb3VyY2VVUkkgPSBzb3VyY2UudXJpO1xuICAgIHZhciBpc09iamVjdFVSTCA9IGZhbHNlO1xuICAgIHZhciBoYXNBbHBoYSA9IHRydWU7XG5cbiAgICBpZiAoc291cmNlLm1pbWVUeXBlID09PSBcImltYWdlL2pwZWdcIikgaGFzQWxwaGEgPSBmYWxzZTtcblxuICAgIGlmIChzb3VyY2UuYnVmZmVyVmlldyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBMb2FkIGJpbmFyeSBpbWFnZSBkYXRhIGZyb20gYnVmZmVyVmlldywgaWYgcHJvdmlkZWQuXG5cbiAgICAgIHNvdXJjZVVSSSA9IHBhcnNlclxuICAgICAgICAuZ2V0RGVwZW5kZW5jeShcImJ1ZmZlclZpZXdcIiwgc291cmNlLmJ1ZmZlclZpZXcpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChidWZmZXJWaWV3KSB7XG4gICAgICAgICAgaWYgKHNvdXJjZS5taW1lVHlwZSA9PT0gXCJpbWFnZS9wbmdcIikge1xuICAgICAgICAgICAgLy8gSW5zcGVjdCB0aGUgUE5HICdJSERSJyBjaHVuayB0byBkZXRlcm1pbmUgd2hldGhlciB0aGUgaW1hZ2UgY291bGQgaGF2ZSBhblxuICAgICAgICAgICAgLy8gYWxwaGEgY2hhbm5lbC4gVGhpcyBjaGVjayBpcyBjb25zZXJ2YXRpdmUg4oCUIHRoZSBpbWFnZSBjb3VsZCBoYXZlIGFuIGFscGhhXG4gICAgICAgICAgICAvLyBjaGFubmVsIHdpdGggYWxsIHZhbHVlcyA9PSAxLCBhbmQgdGhlIGluZGV4ZWQgdHlwZSAoY29sb3JUeXBlID09IDMpIG9ubHlcbiAgICAgICAgICAgIC8vIHNvbWV0aW1lcyBjb250YWlucyBhbHBoYS5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Qb3J0YWJsZV9OZXR3b3JrX0dyYXBoaWNzI0ZpbGVfaGVhZGVyXG4gICAgICAgICAgICB2YXIgY29sb3JUeXBlID0gbmV3IERhdGFWaWV3KGJ1ZmZlclZpZXcsIDI1LCAxKS5nZXRVaW50OCgwLCBmYWxzZSk7XG4gICAgICAgICAgICBoYXNBbHBoYSA9IGNvbG9yVHlwZSA9PT0gNiB8fCBjb2xvclR5cGUgPT09IDQgfHwgY29sb3JUeXBlID09PSAzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlzT2JqZWN0VVJMID0gdHJ1ZTtcbiAgICAgICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtidWZmZXJWaWV3XSwgeyB0eXBlOiBzb3VyY2UubWltZVR5cGUgfSk7XG4gICAgICAgICAgc291cmNlVVJJID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICByZXR1cm4gc291cmNlVVJJO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHNvdXJjZVVSSSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChzb3VyY2VVUkkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICB2YXIgb25Mb2FkID0gcmVzb2x2ZTtcblxuICAgICAgICAgIGlmIChsb2FkZXIuaXNJbWFnZUJpdG1hcExvYWRlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgb25Mb2FkID0gZnVuY3Rpb24gKGltYWdlQml0bWFwKSB7XG4gICAgICAgICAgICAgIHJlc29sdmUobmV3IENhbnZhc1RleHR1cmUoaW1hZ2VCaXRtYXApKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbG9hZGVyLmxvYWQoXG4gICAgICAgICAgICByZXNvbHZlVVJMKHNvdXJjZVVSSSwgb3B0aW9ucy5wYXRoKSxcbiAgICAgICAgICAgIG9uTG9hZCxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIC8vIENsZWFuIHVwIHJlc291cmNlcyBhbmQgY29uZmlndXJlIFRleHR1cmUuXG5cbiAgICAgICAgaWYgKGlzT2JqZWN0VVJMID09PSB0cnVlKSB7XG4gICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChzb3VyY2VVUkkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGV4dHVyZS5mbGlwWSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlRGVmLm5hbWUpIHRleHR1cmUubmFtZSA9IHRleHR1cmVEZWYubmFtZTtcblxuICAgICAgICAvLyBXaGVuIHRoZXJlIGlzIGRlZmluaXRlbHkgbm8gYWxwaGEgY2hhbm5lbCBpbiB0aGUgdGV4dHVyZSwgc2V0IFJHQkZvcm1hdCB0byBzYXZlIHNwYWNlLlxuICAgICAgICBpZiAoIWhhc0FscGhhKSB0ZXh0dXJlLmZvcm1hdCA9IFJHQkZvcm1hdDtcblxuICAgICAgICB2YXIgc2FtcGxlcnMgPSBqc29uLnNhbXBsZXJzIHx8IHt9O1xuICAgICAgICB2YXIgc2FtcGxlciA9IHNhbXBsZXJzW3RleHR1cmVEZWYuc2FtcGxlcl0gfHwge307XG5cbiAgICAgICAgdGV4dHVyZS5tYWdGaWx0ZXIgPSBXRUJHTF9GSUxURVJTW3NhbXBsZXIubWFnRmlsdGVyXSB8fCBMaW5lYXJGaWx0ZXI7XG4gICAgICAgIHRleHR1cmUubWluRmlsdGVyID1cbiAgICAgICAgICBXRUJHTF9GSUxURVJTW3NhbXBsZXIubWluRmlsdGVyXSB8fCBMaW5lYXJNaXBtYXBMaW5lYXJGaWx0ZXI7XG4gICAgICAgIHRleHR1cmUud3JhcFMgPSBXRUJHTF9XUkFQUElOR1Nbc2FtcGxlci53cmFwU10gfHwgUmVwZWF0V3JhcHBpbmc7XG4gICAgICAgIHRleHR1cmUud3JhcFQgPSBXRUJHTF9XUkFQUElOR1Nbc2FtcGxlci53cmFwVF0gfHwgUmVwZWF0V3JhcHBpbmc7XG5cbiAgICAgICAgcGFyc2VyLmFzc29jaWF0aW9ucy5zZXQodGV4dHVyZSwge1xuICAgICAgICAgIHR5cGU6IFwidGV4dHVyZXNcIixcbiAgICAgICAgICBpbmRleDogdGV4dHVyZUluZGV4LFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBc3luY2hyb25vdXNseSBhc3NpZ25zIGEgdGV4dHVyZSB0byB0aGUgZ2l2ZW4gbWF0ZXJpYWwgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGVyaWFsUGFyYW1zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtYXBOYW1lXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXBEZWZcbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmFzc2lnblRleHR1cmUgPSBmdW5jdGlvbiAoXG4gICAgbWF0ZXJpYWxQYXJhbXMsXG4gICAgbWFwTmFtZSxcbiAgICBtYXBEZWZcbiAgKSB7XG4gICAgdmFyIHBhcnNlciA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5nZXREZXBlbmRlbmN5KFwidGV4dHVyZVwiLCBtYXBEZWYuaW5kZXgpLnRoZW4oZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgIC8vIE1hdGVyaWFscyBzYW1wbGUgYW9NYXAgZnJvbSBVViBzZXQgMSBhbmQgb3RoZXIgbWFwcyBmcm9tIFVWIHNldCAwIC0gdGhpcyBjYW4ndCBiZSBjb25maWd1cmVkXG4gICAgICAvLyBIb3dldmVyLCB3ZSB3aWxsIGNvcHkgVVYgc2V0IDAgdG8gVVYgc2V0IDEgb24gZGVtYW5kIGZvciBhb01hcFxuICAgICAgaWYgKFxuICAgICAgICBtYXBEZWYudGV4Q29vcmQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBtYXBEZWYudGV4Q29vcmQgIT0gMCAmJlxuICAgICAgICAhKG1hcE5hbWUgPT09IFwiYW9NYXBcIiAmJiBtYXBEZWYudGV4Q29vcmQgPT0gMSlcbiAgICAgICkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJUSFJFRS5HTFRGTG9hZGVyOiBDdXN0b20gVVYgc2V0IFwiICtcbiAgICAgICAgICAgIG1hcERlZi50ZXhDb29yZCArXG4gICAgICAgICAgICBcIiBmb3IgdGV4dHVyZSBcIiArXG4gICAgICAgICAgICBtYXBOYW1lICtcbiAgICAgICAgICAgIFwiIG5vdCB5ZXQgc3VwcG9ydGVkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJzZXIuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STV0pIHtcbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9XG4gICAgICAgICAgbWFwRGVmLmV4dGVuc2lvbnMgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBtYXBEZWYuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STV1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgICB2YXIgZ2x0ZlJlZmVyZW5jZSA9IHBhcnNlci5hc3NvY2lhdGlvbnMuZ2V0KHRleHR1cmUpO1xuICAgICAgICAgIHRleHR1cmUgPSBwYXJzZXIuZXh0ZW5zaW9uc1tcbiAgICAgICAgICAgIEVYVEVOU0lPTlMuS0hSX1RFWFRVUkVfVFJBTlNGT1JNXG4gICAgICAgICAgXS5leHRlbmRUZXh0dXJlKHRleHR1cmUsIHRyYW5zZm9ybSk7XG4gICAgICAgICAgcGFyc2VyLmFzc29jaWF0aW9ucy5zZXQodGV4dHVyZSwgZ2x0ZlJlZmVyZW5jZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWF0ZXJpYWxQYXJhbXNbbWFwTmFtZV0gPSB0ZXh0dXJlO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBc3NpZ25zIGZpbmFsIG1hdGVyaWFsIHRvIGEgTWVzaCwgTGluZSwgb3IgUG9pbnRzIGluc3RhbmNlLiBUaGUgaW5zdGFuY2VcbiAgICogYWxyZWFkeSBoYXMgYSBtYXRlcmlhbCAoZ2VuZXJhdGVkIGZyb20gdGhlIGdsVEYgbWF0ZXJpYWwgb3B0aW9ucyBhbG9uZSlcbiAgICogYnV0IHJldXNlIG9mIHRoZSBzYW1lIGdsVEYgbWF0ZXJpYWwgbWF5IHJlcXVpcmUgbXVsdGlwbGUgdGhyZWVqcyBtYXRlcmlhbHNcbiAgICogdG8gYWNjb21vZGF0ZSBkaWZmZXJlbnQgcHJpbWl0aXZlIHR5cGVzLCBkZWZpbmVzLCBldGMuIE5ldyBtYXRlcmlhbHMgd2lsbFxuICAgKiBiZSBjcmVhdGVkIGlmIG5lY2Vzc2FyeSwgYW5kIHJldXNlZCBmcm9tIGEgY2FjaGUuXG4gICAqIEBwYXJhbSAge09iamVjdDNEfSBtZXNoIE1lc2gsIExpbmUsIG9yIFBvaW50cyBpbnN0YW5jZS5cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmFzc2lnbkZpbmFsTWF0ZXJpYWwgPSBmdW5jdGlvbiAobWVzaCkge1xuICAgIHZhciBnZW9tZXRyeSA9IG1lc2guZ2VvbWV0cnk7XG4gICAgdmFyIG1hdGVyaWFsID0gbWVzaC5tYXRlcmlhbDtcblxuICAgIHZhciB1c2VWZXJ0ZXhUYW5nZW50cyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMudGFuZ2VudCAhPT0gdW5kZWZpbmVkO1xuICAgIHZhciB1c2VWZXJ0ZXhDb2xvcnMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLmNvbG9yICE9PSB1bmRlZmluZWQ7XG4gICAgdmFyIHVzZUZsYXRTaGFkaW5nID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5ub3JtYWwgPT09IHVuZGVmaW5lZDtcbiAgICB2YXIgdXNlU2tpbm5pbmcgPSBtZXNoLmlzU2tpbm5lZE1lc2ggPT09IHRydWU7XG4gICAgdmFyIHVzZU1vcnBoVGFyZ2V0cyA9IE9iamVjdC5rZXlzKGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcykubGVuZ3RoID4gMDtcbiAgICB2YXIgdXNlTW9ycGhOb3JtYWxzID1cbiAgICAgIHVzZU1vcnBoVGFyZ2V0cyAmJiBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMubm9ybWFsICE9PSB1bmRlZmluZWQ7XG5cbiAgICBpZiAobWVzaC5pc1BvaW50cykge1xuICAgICAgdmFyIGNhY2hlS2V5ID0gXCJQb2ludHNNYXRlcmlhbDpcIiArIG1hdGVyaWFsLnV1aWQ7XG5cbiAgICAgIHZhciBwb2ludHNNYXRlcmlhbCA9IHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KTtcblxuICAgICAgaWYgKCFwb2ludHNNYXRlcmlhbCkge1xuICAgICAgICBwb2ludHNNYXRlcmlhbCA9IG5ldyBQb2ludHNNYXRlcmlhbCgpO1xuICAgICAgICBNYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKHBvaW50c01hdGVyaWFsLCBtYXRlcmlhbCk7XG4gICAgICAgIHBvaW50c01hdGVyaWFsLmNvbG9yLmNvcHkobWF0ZXJpYWwuY29sb3IpO1xuICAgICAgICBwb2ludHNNYXRlcmlhbC5tYXAgPSBtYXRlcmlhbC5tYXA7XG4gICAgICAgIHBvaW50c01hdGVyaWFsLnNpemVBdHRlbnVhdGlvbiA9IGZhbHNlOyAvLyBnbFRGIHNwZWMgc2F5cyBwb2ludHMgc2hvdWxkIGJlIDFweFxuXG4gICAgICAgIHRoaXMuY2FjaGUuYWRkKGNhY2hlS2V5LCBwb2ludHNNYXRlcmlhbCk7XG4gICAgICB9XG5cbiAgICAgIG1hdGVyaWFsID0gcG9pbnRzTWF0ZXJpYWw7XG4gICAgfSBlbHNlIGlmIChtZXNoLmlzTGluZSkge1xuICAgICAgdmFyIGNhY2hlS2V5ID0gXCJMaW5lQmFzaWNNYXRlcmlhbDpcIiArIG1hdGVyaWFsLnV1aWQ7XG5cbiAgICAgIHZhciBsaW5lTWF0ZXJpYWwgPSB0aGlzLmNhY2hlLmdldChjYWNoZUtleSk7XG5cbiAgICAgIGlmICghbGluZU1hdGVyaWFsKSB7XG4gICAgICAgIGxpbmVNYXRlcmlhbCA9IG5ldyBMaW5lQmFzaWNNYXRlcmlhbCgpO1xuICAgICAgICBNYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKGxpbmVNYXRlcmlhbCwgbWF0ZXJpYWwpO1xuICAgICAgICBsaW5lTWF0ZXJpYWwuY29sb3IuY29weShtYXRlcmlhbC5jb2xvcik7XG5cbiAgICAgICAgdGhpcy5jYWNoZS5hZGQoY2FjaGVLZXksIGxpbmVNYXRlcmlhbCk7XG4gICAgICB9XG5cbiAgICAgIG1hdGVyaWFsID0gbGluZU1hdGVyaWFsO1xuICAgIH1cblxuICAgIC8vIENsb25lIHRoZSBtYXRlcmlhbCBpZiBpdCB3aWxsIGJlIG1vZGlmaWVkXG4gICAgaWYgKFxuICAgICAgdXNlVmVydGV4VGFuZ2VudHMgfHxcbiAgICAgIHVzZVZlcnRleENvbG9ycyB8fFxuICAgICAgdXNlRmxhdFNoYWRpbmcgfHxcbiAgICAgIHVzZVNraW5uaW5nIHx8XG4gICAgICB1c2VNb3JwaFRhcmdldHNcbiAgICApIHtcbiAgICAgIHZhciBjYWNoZUtleSA9IFwiQ2xvbmVkTWF0ZXJpYWw6XCIgKyBtYXRlcmlhbC51dWlkICsgXCI6XCI7XG5cbiAgICAgIGlmIChtYXRlcmlhbC5pc0dMVEZTcGVjdWxhckdsb3NzaW5lc3NNYXRlcmlhbClcbiAgICAgICAgY2FjaGVLZXkgKz0gXCJzcGVjdWxhci1nbG9zc2luZXNzOlwiO1xuICAgICAgaWYgKHVzZVNraW5uaW5nKSBjYWNoZUtleSArPSBcInNraW5uaW5nOlwiO1xuICAgICAgaWYgKHVzZVZlcnRleFRhbmdlbnRzKSBjYWNoZUtleSArPSBcInZlcnRleC10YW5nZW50czpcIjtcbiAgICAgIGlmICh1c2VWZXJ0ZXhDb2xvcnMpIGNhY2hlS2V5ICs9IFwidmVydGV4LWNvbG9yczpcIjtcbiAgICAgIGlmICh1c2VGbGF0U2hhZGluZykgY2FjaGVLZXkgKz0gXCJmbGF0LXNoYWRpbmc6XCI7XG4gICAgICBpZiAodXNlTW9ycGhUYXJnZXRzKSBjYWNoZUtleSArPSBcIm1vcnBoLXRhcmdldHM6XCI7XG4gICAgICBpZiAodXNlTW9ycGhOb3JtYWxzKSBjYWNoZUtleSArPSBcIm1vcnBoLW5vcm1hbHM6XCI7XG5cbiAgICAgIHZhciBjYWNoZWRNYXRlcmlhbCA9IHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KTtcblxuICAgICAgaWYgKCFjYWNoZWRNYXRlcmlhbCkge1xuICAgICAgICBjYWNoZWRNYXRlcmlhbCA9IG1hdGVyaWFsLmNsb25lKCk7XG5cbiAgICAgICAgaWYgKHVzZVNraW5uaW5nKSBjYWNoZWRNYXRlcmlhbC5za2lubmluZyA9IHRydWU7XG4gICAgICAgIGlmICh1c2VWZXJ0ZXhUYW5nZW50cykgY2FjaGVkTWF0ZXJpYWwudmVydGV4VGFuZ2VudHMgPSB0cnVlO1xuICAgICAgICBpZiAodXNlVmVydGV4Q29sb3JzKSBjYWNoZWRNYXRlcmlhbC52ZXJ0ZXhDb2xvcnMgPSB0cnVlO1xuICAgICAgICBpZiAodXNlRmxhdFNoYWRpbmcpIGNhY2hlZE1hdGVyaWFsLmZsYXRTaGFkaW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHVzZU1vcnBoVGFyZ2V0cykgY2FjaGVkTWF0ZXJpYWwubW9ycGhUYXJnZXRzID0gdHJ1ZTtcbiAgICAgICAgaWYgKHVzZU1vcnBoTm9ybWFscykgY2FjaGVkTWF0ZXJpYWwubW9ycGhOb3JtYWxzID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmNhY2hlLmFkZChjYWNoZUtleSwgY2FjaGVkTWF0ZXJpYWwpO1xuXG4gICAgICAgIHRoaXMuYXNzb2NpYXRpb25zLnNldChjYWNoZWRNYXRlcmlhbCwgdGhpcy5hc3NvY2lhdGlvbnMuZ2V0KG1hdGVyaWFsKSk7XG4gICAgICB9XG5cbiAgICAgIG1hdGVyaWFsID0gY2FjaGVkTWF0ZXJpYWw7XG4gICAgfVxuXG4gICAgLy8gd29ya2Fyb3VuZHMgZm9yIG1lc2ggYW5kIGdlb21ldHJ5XG5cbiAgICBpZiAoXG4gICAgICBtYXRlcmlhbC5hb01hcCAmJlxuICAgICAgZ2VvbWV0cnkuYXR0cmlidXRlcy51djIgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgZ2VvbWV0cnkuYXR0cmlidXRlcy51diAhPT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoXCJ1djJcIiwgZ2VvbWV0cnkuYXR0cmlidXRlcy51dik7XG4gICAgfVxuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9pc3N1ZXMvMTE0MzgjaXNzdWVjb21tZW50LTUwNzAwMzk5NVxuICAgIGlmIChtYXRlcmlhbC5ub3JtYWxTY2FsZSAmJiAhdXNlVmVydGV4VGFuZ2VudHMpIHtcbiAgICAgIG1hdGVyaWFsLm5vcm1hbFNjYWxlLnkgPSAtbWF0ZXJpYWwubm9ybWFsU2NhbGUueTtcbiAgICB9XG5cbiAgICBpZiAobWF0ZXJpYWwuY2xlYXJjb2F0Tm9ybWFsU2NhbGUgJiYgIXVzZVZlcnRleFRhbmdlbnRzKSB7XG4gICAgICBtYXRlcmlhbC5jbGVhcmNvYXROb3JtYWxTY2FsZS55ID0gLW1hdGVyaWFsLmNsZWFyY29hdE5vcm1hbFNjYWxlLnk7XG4gICAgfVxuXG4gICAgbWVzaC5tYXRlcmlhbCA9IG1hdGVyaWFsO1xuICB9O1xuXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmdldE1hdGVyaWFsVHlwZSA9IGZ1bmN0aW9uICgvKiBtYXRlcmlhbEluZGV4ICovKSB7XG4gICAgcmV0dXJuIE1lc2hTdGFuZGFyZE1hdGVyaWFsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI21hdGVyaWFsc1xuICAgKiBAcGFyYW0ge251bWJlcn0gbWF0ZXJpYWxJbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE1hdGVyaWFsPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRNYXRlcmlhbCA9IGZ1bmN0aW9uIChtYXRlcmlhbEluZGV4KSB7XG4gICAgdmFyIHBhcnNlciA9IHRoaXM7XG4gICAgdmFyIGpzb24gPSB0aGlzLmpzb247XG4gICAgdmFyIGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XG4gICAgdmFyIG1hdGVyaWFsRGVmID0ganNvbi5tYXRlcmlhbHNbbWF0ZXJpYWxJbmRleF07XG5cbiAgICB2YXIgbWF0ZXJpYWxUeXBlO1xuICAgIHZhciBtYXRlcmlhbFBhcmFtcyA9IHt9O1xuICAgIHZhciBtYXRlcmlhbEV4dGVuc2lvbnMgPSBtYXRlcmlhbERlZi5leHRlbnNpb25zIHx8IHt9O1xuXG4gICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgIGlmIChtYXRlcmlhbEV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTXSkge1xuICAgICAgdmFyIHNnRXh0ZW5zaW9uID1cbiAgICAgICAgZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1NdO1xuICAgICAgbWF0ZXJpYWxUeXBlID0gc2dFeHRlbnNpb24uZ2V0TWF0ZXJpYWxUeXBlKCk7XG4gICAgICBwZW5kaW5nLnB1c2goXG4gICAgICAgIHNnRXh0ZW5zaW9uLmV4dGVuZFBhcmFtcyhtYXRlcmlhbFBhcmFtcywgbWF0ZXJpYWxEZWYsIHBhcnNlcilcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChtYXRlcmlhbEV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1VOTElUXSkge1xuICAgICAgdmFyIGttdUV4dGVuc2lvbiA9IGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1VOTElUXTtcbiAgICAgIG1hdGVyaWFsVHlwZSA9IGttdUV4dGVuc2lvbi5nZXRNYXRlcmlhbFR5cGUoKTtcbiAgICAgIHBlbmRpbmcucHVzaChcbiAgICAgICAga211RXh0ZW5zaW9uLmV4dGVuZFBhcmFtcyhtYXRlcmlhbFBhcmFtcywgbWF0ZXJpYWxEZWYsIHBhcnNlcilcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNwZWNpZmljYXRpb246XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjbWV0YWxsaWMtcm91Z2huZXNzLW1hdGVyaWFsXG5cbiAgICAgIHZhciBtZXRhbGxpY1JvdWdobmVzcyA9IG1hdGVyaWFsRGVmLnBick1ldGFsbGljUm91Z2huZXNzIHx8IHt9O1xuXG4gICAgICBtYXRlcmlhbFBhcmFtcy5jb2xvciA9IG5ldyBDb2xvcigxLjAsIDEuMCwgMS4wKTtcbiAgICAgIG1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSAxLjA7XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvcikpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gbWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yRmFjdG9yO1xuXG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLmNvbG9yLmZyb21BcnJheShhcnJheSk7XG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSBhcnJheVszXTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwZW5kaW5nLnB1c2goXG4gICAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUoXG4gICAgICAgICAgICBtYXRlcmlhbFBhcmFtcyxcbiAgICAgICAgICAgIFwibWFwXCIsXG4gICAgICAgICAgICBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBtYXRlcmlhbFBhcmFtcy5tZXRhbG5lc3MgPVxuICAgICAgICBtZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY0ZhY3RvciAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyBtZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY0ZhY3RvclxuICAgICAgICAgIDogMS4wO1xuICAgICAgbWF0ZXJpYWxQYXJhbXMucm91Z2huZXNzID1cbiAgICAgICAgbWV0YWxsaWNSb3VnaG5lc3Mucm91Z2huZXNzRmFjdG9yICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IG1ldGFsbGljUm91Z2huZXNzLnJvdWdobmVzc0ZhY3RvclxuICAgICAgICAgIDogMS4wO1xuXG4gICAgICBpZiAobWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKFxuICAgICAgICAgICAgbWF0ZXJpYWxQYXJhbXMsXG4gICAgICAgICAgICBcIm1ldGFsbmVzc01hcFwiLFxuICAgICAgICAgICAgbWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICBwZW5kaW5nLnB1c2goXG4gICAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUoXG4gICAgICAgICAgICBtYXRlcmlhbFBhcmFtcyxcbiAgICAgICAgICAgIFwicm91Z2huZXNzTWFwXCIsXG4gICAgICAgICAgICBtZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmVcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIG1hdGVyaWFsVHlwZSA9IHRoaXMuX2ludm9rZU9uZShmdW5jdGlvbiAoZXh0KSB7XG4gICAgICAgIHJldHVybiBleHQuZ2V0TWF0ZXJpYWxUeXBlICYmIGV4dC5nZXRNYXRlcmlhbFR5cGUobWF0ZXJpYWxJbmRleCk7XG4gICAgICB9KTtcblxuICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICBQcm9taXNlLmFsbChcbiAgICAgICAgICB0aGlzLl9pbnZva2VBbGwoZnVuY3Rpb24gKGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgZXh0LmV4dGVuZE1hdGVyaWFsUGFyYW1zICYmXG4gICAgICAgICAgICAgIGV4dC5leHRlbmRNYXRlcmlhbFBhcmFtcyhtYXRlcmlhbEluZGV4LCBtYXRlcmlhbFBhcmFtcylcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAobWF0ZXJpYWxEZWYuZG91YmxlU2lkZWQgPT09IHRydWUpIHtcbiAgICAgIG1hdGVyaWFsUGFyYW1zLnNpZGUgPSBEb3VibGVTaWRlO1xuICAgIH1cblxuICAgIHZhciBhbHBoYU1vZGUgPSBtYXRlcmlhbERlZi5hbHBoYU1vZGUgfHwgQUxQSEFfTU9ERVMuT1BBUVVFO1xuXG4gICAgaWYgKGFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuQkxFTkQpIHtcbiAgICAgIG1hdGVyaWFsUGFyYW1zLnRyYW5zcGFyZW50ID0gdHJ1ZTtcblxuICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8xNzcwNlxuICAgICAgbWF0ZXJpYWxQYXJhbXMuZGVwdGhXcml0ZSA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXRlcmlhbFBhcmFtcy50cmFuc3BhcmVudCA9IGZhbHNlO1xuXG4gICAgICBpZiAoYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5NQVNLKSB7XG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLmFscGhhVGVzdCA9XG4gICAgICAgICAgbWF0ZXJpYWxEZWYuYWxwaGFDdXRvZmYgIT09IHVuZGVmaW5lZCA/IG1hdGVyaWFsRGVmLmFscGhhQ3V0b2ZmIDogMC41O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChcbiAgICAgIG1hdGVyaWFsRGVmLm5vcm1hbFRleHR1cmUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgbWF0ZXJpYWxUeXBlICE9PSBNZXNoQmFzaWNNYXRlcmlhbFxuICAgICkge1xuICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShcbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcyxcbiAgICAgICAgICBcIm5vcm1hbE1hcFwiLFxuICAgICAgICAgIG1hdGVyaWFsRGVmLm5vcm1hbFRleHR1cmVcbiAgICAgICAgKVxuICAgICAgKTtcblxuICAgICAgbWF0ZXJpYWxQYXJhbXMubm9ybWFsU2NhbGUgPSBuZXcgVmVjdG9yMigxLCAxKTtcblxuICAgICAgaWYgKG1hdGVyaWFsRGVmLm5vcm1hbFRleHR1cmUuc2NhbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBtYXRlcmlhbFBhcmFtcy5ub3JtYWxTY2FsZS5zZXQoXG4gICAgICAgICAgbWF0ZXJpYWxEZWYubm9ybWFsVGV4dHVyZS5zY2FsZSxcbiAgICAgICAgICBtYXRlcmlhbERlZi5ub3JtYWxUZXh0dXJlLnNjYWxlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgbWF0ZXJpYWxEZWYub2NjbHVzaW9uVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICBtYXRlcmlhbFR5cGUgIT09IE1lc2hCYXNpY01hdGVyaWFsXG4gICAgKSB7XG4gICAgICBwZW5kaW5nLnB1c2goXG4gICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKFxuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLFxuICAgICAgICAgIFwiYW9NYXBcIixcbiAgICAgICAgICBtYXRlcmlhbERlZi5vY2NsdXNpb25UZXh0dXJlXG4gICAgICAgIClcbiAgICAgICk7XG5cbiAgICAgIGlmIChtYXRlcmlhbERlZi5vY2NsdXNpb25UZXh0dXJlLnN0cmVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMuYW9NYXBJbnRlbnNpdHkgPSBtYXRlcmlhbERlZi5vY2NsdXNpb25UZXh0dXJlLnN0cmVuZ3RoO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChcbiAgICAgIG1hdGVyaWFsRGVmLmVtaXNzaXZlRmFjdG9yICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIG1hdGVyaWFsVHlwZSAhPT0gTWVzaEJhc2ljTWF0ZXJpYWxcbiAgICApIHtcbiAgICAgIG1hdGVyaWFsUGFyYW1zLmVtaXNzaXZlID0gbmV3IENvbG9yKCkuZnJvbUFycmF5KFxuICAgICAgICBtYXRlcmlhbERlZi5lbWlzc2l2ZUZhY3RvclxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBtYXRlcmlhbERlZi5lbWlzc2l2ZVRleHR1cmUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgbWF0ZXJpYWxUeXBlICE9PSBNZXNoQmFzaWNNYXRlcmlhbFxuICAgICkge1xuICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShcbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcyxcbiAgICAgICAgICBcImVtaXNzaXZlTWFwXCIsXG4gICAgICAgICAgbWF0ZXJpYWxEZWYuZW1pc3NpdmVUZXh0dXJlXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG1hdGVyaWFsO1xuXG4gICAgICBpZiAobWF0ZXJpYWxUeXBlID09PSBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbCkge1xuICAgICAgICBtYXRlcmlhbCA9IGV4dGVuc2lvbnNbXG4gICAgICAgICAgRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTXG4gICAgICAgIF0uY3JlYXRlTWF0ZXJpYWwobWF0ZXJpYWxQYXJhbXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0ZXJpYWwgPSBuZXcgbWF0ZXJpYWxUeXBlKG1hdGVyaWFsUGFyYW1zKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1hdGVyaWFsRGVmLm5hbWUpIG1hdGVyaWFsLm5hbWUgPSBtYXRlcmlhbERlZi5uYW1lO1xuXG4gICAgICAvLyBiYXNlQ29sb3JUZXh0dXJlLCBlbWlzc2l2ZVRleHR1cmUsIGFuZCBzcGVjdWxhckdsb3NzaW5lc3NUZXh0dXJlIHVzZSBzUkdCIGVuY29kaW5nLlxuICAgICAgaWYgKG1hdGVyaWFsLm1hcCkgbWF0ZXJpYWwubWFwLmVuY29kaW5nID0gc1JHQkVuY29kaW5nO1xuICAgICAgaWYgKG1hdGVyaWFsLmVtaXNzaXZlTWFwKSBtYXRlcmlhbC5lbWlzc2l2ZU1hcC5lbmNvZGluZyA9IHNSR0JFbmNvZGluZztcblxuICAgICAgYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShtYXRlcmlhbCwgbWF0ZXJpYWxEZWYpO1xuXG4gICAgICBwYXJzZXIuYXNzb2NpYXRpb25zLnNldChtYXRlcmlhbCwge1xuICAgICAgICB0eXBlOiBcIm1hdGVyaWFsc1wiLFxuICAgICAgICBpbmRleDogbWF0ZXJpYWxJbmRleCxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAobWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucylcbiAgICAgICAgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKGV4dGVuc2lvbnMsIG1hdGVyaWFsLCBtYXRlcmlhbERlZik7XG5cbiAgICAgIHJldHVybiBtYXRlcmlhbDtcbiAgICB9KTtcbiAgfTtcblxuICAvKiogV2hlbiBPYmplY3QzRCBpbnN0YW5jZXMgYXJlIHRhcmdldGVkIGJ5IGFuaW1hdGlvbiwgdGhleSBuZWVkIHVuaXF1ZSBuYW1lcy4gKi9cbiAgR0xURlBhcnNlci5wcm90b3R5cGUuY3JlYXRlVW5pcXVlTmFtZSA9IGZ1bmN0aW9uIChvcmlnaW5hbE5hbWUpIHtcbiAgICB2YXIgbmFtZSA9IFByb3BlcnR5QmluZGluZy5zYW5pdGl6ZU5vZGVOYW1lKG9yaWdpbmFsTmFtZSB8fCBcIlwiKTtcblxuICAgIGZvciAodmFyIGkgPSAxOyB0aGlzLm5vZGVOYW1lc1VzZWRbbmFtZV07ICsraSkge1xuICAgICAgbmFtZSA9IG9yaWdpbmFsTmFtZSArIFwiX1wiICsgaTtcbiAgICB9XG5cbiAgICB0aGlzLm5vZGVOYW1lc1VzZWRbbmFtZV0gPSB0cnVlO1xuXG4gICAgcmV0dXJuIG5hbWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XG4gICAqIEBwYXJhbSB7R0xURi5QcmltaXRpdmV9IHByaW1pdGl2ZURlZlxuICAgKiBAcGFyYW0ge0dMVEZQYXJzZXJ9IHBhcnNlclxuICAgKi9cbiAgZnVuY3Rpb24gY29tcHV0ZUJvdW5kcyhnZW9tZXRyeSwgcHJpbWl0aXZlRGVmLCBwYXJzZXIpIHtcbiAgICB2YXIgYXR0cmlidXRlcyA9IHByaW1pdGl2ZURlZi5hdHRyaWJ1dGVzO1xuXG4gICAgdmFyIGJveCA9IG5ldyBCb3gzKCk7XG5cbiAgICBpZiAoYXR0cmlidXRlcy5QT1NJVElPTiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgYWNjZXNzb3IgPSBwYXJzZXIuanNvbi5hY2Nlc3NvcnNbYXR0cmlidXRlcy5QT1NJVElPTl07XG5cbiAgICAgIHZhciBtaW4gPSBhY2Nlc3Nvci5taW47XG4gICAgICB2YXIgbWF4ID0gYWNjZXNzb3IubWF4O1xuXG4gICAgICAvLyBnbFRGIHJlcXVpcmVzICdtaW4nIGFuZCAnbWF4JywgYnV0IFZSTSAod2hpY2ggZXh0ZW5kcyBnbFRGKSBjdXJyZW50bHkgaWdub3JlcyB0aGF0IHJlcXVpcmVtZW50LlxuXG4gICAgICBpZiAobWluICE9PSB1bmRlZmluZWQgJiYgbWF4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYm94LnNldChcbiAgICAgICAgICBuZXcgVmVjdG9yMyhtaW5bMF0sIG1pblsxXSwgbWluWzJdKSxcbiAgICAgICAgICBuZXcgVmVjdG9yMyhtYXhbMF0sIG1heFsxXSwgbWF4WzJdKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiVEhSRUUuR0xURkxvYWRlcjogTWlzc2luZyBtaW4vbWF4IHByb3BlcnRpZXMgZm9yIGFjY2Vzc29yIFBPU0lUSU9OLlwiXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRhcmdldHMgPSBwcmltaXRpdmVEZWYudGFyZ2V0cztcblxuICAgIGlmICh0YXJnZXRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBtYXhEaXNwbGFjZW1lbnQgPSBuZXcgVmVjdG9yMygpO1xuICAgICAgdmFyIHZlY3RvciA9IG5ldyBWZWN0b3IzKCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHRhcmdldHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdGFyZ2V0c1tpXTtcblxuICAgICAgICBpZiAodGFyZ2V0LlBPU0lUSU9OICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB2YXIgYWNjZXNzb3IgPSBwYXJzZXIuanNvbi5hY2Nlc3NvcnNbdGFyZ2V0LlBPU0lUSU9OXTtcbiAgICAgICAgICB2YXIgbWluID0gYWNjZXNzb3IubWluO1xuICAgICAgICAgIHZhciBtYXggPSBhY2Nlc3Nvci5tYXg7XG5cbiAgICAgICAgICAvLyBnbFRGIHJlcXVpcmVzICdtaW4nIGFuZCAnbWF4JywgYnV0IFZSTSAod2hpY2ggZXh0ZW5kcyBnbFRGKSBjdXJyZW50bHkgaWdub3JlcyB0aGF0IHJlcXVpcmVtZW50LlxuXG4gICAgICAgICAgaWYgKG1pbiAhPT0gdW5kZWZpbmVkICYmIG1heCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGdldCBtYXggb2YgYWJzb2x1dGUgY29tcG9uZW50cyBiZWNhdXNlIHRhcmdldCB3ZWlnaHQgaXMgWy0xLDFdXG4gICAgICAgICAgICB2ZWN0b3Iuc2V0WChNYXRoLm1heChNYXRoLmFicyhtaW5bMF0pLCBNYXRoLmFicyhtYXhbMF0pKSk7XG4gICAgICAgICAgICB2ZWN0b3Iuc2V0WShNYXRoLm1heChNYXRoLmFicyhtaW5bMV0pLCBNYXRoLmFicyhtYXhbMV0pKSk7XG4gICAgICAgICAgICB2ZWN0b3Iuc2V0WihNYXRoLm1heChNYXRoLmFicyhtaW5bMl0pLCBNYXRoLmFicyhtYXhbMl0pKSk7XG5cbiAgICAgICAgICAgIC8vIE5vdGU6IHRoaXMgYXNzdW1lcyB0aGF0IHRoZSBzdW0gb2YgYWxsIHdlaWdodHMgaXMgYXQgbW9zdCAxLiBUaGlzIGlzbid0IHF1aXRlIGNvcnJlY3QgLSBpdCdzIG1vcmUgY29uc2VydmF0aXZlXG4gICAgICAgICAgICAvLyB0byBhc3N1bWUgdGhhdCBlYWNoIHRhcmdldCBjYW4gaGF2ZSBhIG1heCB3ZWlnaHQgb2YgMS4gSG93ZXZlciwgZm9yIHNvbWUgdXNlIGNhc2VzIC0gbm90YWJseSwgd2hlbiBtb3JwaCB0YXJnZXRzXG4gICAgICAgICAgICAvLyBhcmUgdXNlZCB0byBpbXBsZW1lbnQga2V5LWZyYW1lIGFuaW1hdGlvbnMgYW5kIGFzIHN1Y2ggb25seSB0d28gYXJlIGFjdGl2ZSBhdCBhIHRpbWUgLSB0aGlzIHJlc3VsdHMgaW4gdmVyeSBsYXJnZVxuICAgICAgICAgICAgLy8gYm94ZXMuIFNvIGZvciBub3cgd2UgbWFrZSBhIGJveCB0aGF0J3Mgc29tZXRpbWVzIGEgdG91Y2ggdG9vIHNtYWxsIGJ1dCBpcyBob3BlZnVsbHkgbW9zdGx5IG9mIHJlYXNvbmFibGUgc2l6ZS5cbiAgICAgICAgICAgIG1heERpc3BsYWNlbWVudC5tYXgodmVjdG9yKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICBcIlRIUkVFLkdMVEZMb2FkZXI6IE1pc3NpbmcgbWluL21heCBwcm9wZXJ0aWVzIGZvciBhY2Nlc3NvciBQT1NJVElPTi5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQXMgcGVyIGNvbW1lbnQgYWJvdmUgdGhpcyBib3ggaXNuJ3QgY29uc2VydmF0aXZlLCBidXQgaGFzIGEgcmVhc29uYWJsZSBzaXplIGZvciBhIHZlcnkgbGFyZ2UgbnVtYmVyIG9mIG1vcnBoIHRhcmdldHMuXG4gICAgICBib3guZXhwYW5kQnlWZWN0b3IobWF4RGlzcGxhY2VtZW50KTtcbiAgICB9XG5cbiAgICBnZW9tZXRyeS5ib3VuZGluZ0JveCA9IGJveDtcblxuICAgIHZhciBzcGhlcmUgPSBuZXcgU3BoZXJlKCk7XG5cbiAgICBib3guZ2V0Q2VudGVyKHNwaGVyZS5jZW50ZXIpO1xuICAgIHNwaGVyZS5yYWRpdXMgPSBib3gubWluLmRpc3RhbmNlVG8oYm94Lm1heCkgLyAyO1xuXG4gICAgZ2VvbWV0cnkuYm91bmRpbmdTcGhlcmUgPSBzcGhlcmU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnlcbiAgICogQHBhcmFtIHtHTFRGLlByaW1pdGl2ZX0gcHJpbWl0aXZlRGVmXG4gICAqIEBwYXJhbSB7R0xURlBhcnNlcn0gcGFyc2VyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QnVmZmVyR2VvbWV0cnk+fVxuICAgKi9cbiAgZnVuY3Rpb24gYWRkUHJpbWl0aXZlQXR0cmlidXRlcyhnZW9tZXRyeSwgcHJpbWl0aXZlRGVmLCBwYXJzZXIpIHtcbiAgICB2YXIgYXR0cmlidXRlcyA9IHByaW1pdGl2ZURlZi5hdHRyaWJ1dGVzO1xuXG4gICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGFzc2lnbkF0dHJpYnV0ZUFjY2Vzc29yKGFjY2Vzc29ySW5kZXgsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgIHJldHVybiBwYXJzZXJcbiAgICAgICAgLmdldERlcGVuZGVuY3koXCJhY2Nlc3NvclwiLCBhY2Nlc3NvckluZGV4KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoYWNjZXNzb3IpIHtcbiAgICAgICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgYWNjZXNzb3IpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBnbHRmQXR0cmlidXRlTmFtZSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICB2YXIgdGhyZWVBdHRyaWJ1dGVOYW1lID1cbiAgICAgICAgQVRUUklCVVRFU1tnbHRmQXR0cmlidXRlTmFtZV0gfHwgZ2x0ZkF0dHJpYnV0ZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgICAgLy8gU2tpcCBhdHRyaWJ1dGVzIGFscmVhZHkgcHJvdmlkZWQgYnkgZS5nLiBEcmFjbyBleHRlbnNpb24uXG4gICAgICBpZiAodGhyZWVBdHRyaWJ1dGVOYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIGNvbnRpbnVlO1xuXG4gICAgICBwZW5kaW5nLnB1c2goXG4gICAgICAgIGFzc2lnbkF0dHJpYnV0ZUFjY2Vzc29yKFxuICAgICAgICAgIGF0dHJpYnV0ZXNbZ2x0ZkF0dHJpYnV0ZU5hbWVdLFxuICAgICAgICAgIHRocmVlQXR0cmlidXRlTmFtZVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChwcmltaXRpdmVEZWYuaW5kaWNlcyAhPT0gdW5kZWZpbmVkICYmICFnZW9tZXRyeS5pbmRleCkge1xuICAgICAgdmFyIGFjY2Vzc29yID0gcGFyc2VyXG4gICAgICAgIC5nZXREZXBlbmRlbmN5KFwiYWNjZXNzb3JcIiwgcHJpbWl0aXZlRGVmLmluZGljZXMpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChhY2Nlc3Nvcikge1xuICAgICAgICAgIGdlb21ldHJ5LnNldEluZGV4KGFjY2Vzc29yKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIHBlbmRpbmcucHVzaChhY2Nlc3Nvcik7XG4gICAgfVxuXG4gICAgYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShnZW9tZXRyeSwgcHJpbWl0aXZlRGVmKTtcblxuICAgIGNvbXB1dGVCb3VuZHMoZ2VvbWV0cnksIHByaW1pdGl2ZURlZiwgcGFyc2VyKTtcblxuICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBwcmltaXRpdmVEZWYudGFyZ2V0cyAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gYWRkTW9ycGhUYXJnZXRzKGdlb21ldHJ5LCBwcmltaXRpdmVEZWYudGFyZ2V0cywgcGFyc2VyKVxuICAgICAgICA6IGdlb21ldHJ5O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkcmF3TW9kZVxuICAgKiBAcmV0dXJuIHtCdWZmZXJHZW9tZXRyeX1cbiAgICovXG4gIGZ1bmN0aW9uIHRvVHJpYW5nbGVzRHJhd01vZGUoZ2VvbWV0cnksIGRyYXdNb2RlKSB7XG4gICAgdmFyIGluZGV4ID0gZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcblxuICAgIC8vIGdlbmVyYXRlIGluZGV4IGlmIG5vdCBwcmVzZW50XG5cbiAgICBpZiAoaW5kZXggPT09IG51bGwpIHtcbiAgICAgIHZhciBpbmRpY2VzID0gW107XG5cbiAgICAgIHZhciBwb3NpdGlvbiA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIpO1xuXG4gICAgICBpZiAocG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvc2l0aW9uLmNvdW50OyBpKyspIHtcbiAgICAgICAgICBpbmRpY2VzLnB1c2goaSk7XG4gICAgICAgIH1cblxuICAgICAgICBnZW9tZXRyeS5zZXRJbmRleChpbmRpY2VzKTtcbiAgICAgICAgaW5kZXggPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlRIUkVFLkdMVEZMb2FkZXIudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBVbmRlZmluZWQgcG9zaXRpb24gYXR0cmlidXRlLiBQcm9jZXNzaW5nIG5vdCBwb3NzaWJsZS5cIlxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cblxuICAgIHZhciBudW1iZXJPZlRyaWFuZ2xlcyA9IGluZGV4LmNvdW50IC0gMjtcbiAgICB2YXIgbmV3SW5kaWNlcyA9IFtdO1xuXG4gICAgaWYgKGRyYXdNb2RlID09PSBUcmlhbmdsZUZhbkRyYXdNb2RlKSB7XG4gICAgICAvLyBnbC5UUklBTkdMRV9GQU5cblxuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gbnVtYmVyT2ZUcmlhbmdsZXM7IGkrKykge1xuICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WCgwKSk7XG4gICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcbiAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDEpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZ2wuVFJJQU5HTEVfU1RSSVBcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1iZXJPZlRyaWFuZ2xlczsgaSsrKSB7XG4gICAgICAgIGlmIChpICUgMiA9PT0gMCkge1xuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMSkpO1xuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAyKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDIpKTtcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMSkpO1xuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChuZXdJbmRpY2VzLmxlbmd0aCAvIDMgIT09IG51bWJlck9mVHJpYW5nbGVzKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBcIlRIUkVFLkdMVEZMb2FkZXIudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBVbmFibGUgdG8gZ2VuZXJhdGUgY29ycmVjdCBhbW91bnQgb2YgdHJpYW5nbGVzLlwiXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIGJ1aWxkIGZpbmFsIGdlb21ldHJ5XG5cbiAgICB2YXIgbmV3R2VvbWV0cnkgPSBnZW9tZXRyeS5jbG9uZSgpO1xuICAgIG5ld0dlb21ldHJ5LnNldEluZGV4KG5ld0luZGljZXMpO1xuXG4gICAgcmV0dXJuIG5ld0dlb21ldHJ5O1xuICB9XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjZ2VvbWV0cnlcbiAgICpcbiAgICogQ3JlYXRlcyBCdWZmZXJHZW9tZXRyaWVzIGZyb20gcHJpbWl0aXZlcy5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheTxHTFRGLlByaW1pdGl2ZT59IHByaW1pdGl2ZXNcbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxCdWZmZXJHZW9tZXRyeT4+fVxuICAgKi9cbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZEdlb21ldHJpZXMgPSBmdW5jdGlvbiAocHJpbWl0aXZlcykge1xuICAgIHZhciBwYXJzZXIgPSB0aGlzO1xuICAgIHZhciBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xuICAgIHZhciBjYWNoZSA9IHRoaXMucHJpbWl0aXZlQ2FjaGU7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEcmFjb1ByaW1pdGl2ZShwcmltaXRpdmUpIHtcbiAgICAgIHJldHVybiBleHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT05dXG4gICAgICAgIC5kZWNvZGVQcmltaXRpdmUocHJpbWl0aXZlLCBwYXJzZXIpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgICAgICAgIHJldHVybiBhZGRQcmltaXRpdmVBdHRyaWJ1dGVzKGdlb21ldHJ5LCBwcmltaXRpdmUsIHBhcnNlcik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBwZW5kaW5nID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBwcmltaXRpdmVzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgIHZhciBwcmltaXRpdmUgPSBwcmltaXRpdmVzW2ldO1xuICAgICAgdmFyIGNhY2hlS2V5ID0gY3JlYXRlUHJpbWl0aXZlS2V5KHByaW1pdGl2ZSk7XG5cbiAgICAgIC8vIFNlZSBpZiB3ZSd2ZSBhbHJlYWR5IGNyZWF0ZWQgdGhpcyBnZW9tZXRyeVxuICAgICAgdmFyIGNhY2hlZCA9IGNhY2hlW2NhY2hlS2V5XTtcblxuICAgICAgaWYgKGNhY2hlZCkge1xuICAgICAgICAvLyBVc2UgdGhlIGNhY2hlZCBnZW9tZXRyeSBpZiBpdCBleGlzdHNcbiAgICAgICAgcGVuZGluZy5wdXNoKGNhY2hlZC5wcm9taXNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBnZW9tZXRyeVByb21pc2U7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHByaW1pdGl2ZS5leHRlbnNpb25zICYmXG4gICAgICAgICAgcHJpbWl0aXZlLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTl1cbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gVXNlIERSQUNPIGdlb21ldHJ5IGlmIGF2YWlsYWJsZVxuICAgICAgICAgIGdlb21ldHJ5UHJvbWlzZSA9IGNyZWF0ZURyYWNvUHJpbWl0aXZlKHByaW1pdGl2ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBnZW9tZXRyeVxuICAgICAgICAgIGdlb21ldHJ5UHJvbWlzZSA9IGFkZFByaW1pdGl2ZUF0dHJpYnV0ZXMoXG4gICAgICAgICAgICBuZXcgQnVmZmVyR2VvbWV0cnkoKSxcbiAgICAgICAgICAgIHByaW1pdGl2ZSxcbiAgICAgICAgICAgIHBhcnNlclxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWNoZSB0aGlzIGdlb21ldHJ5XG4gICAgICAgIGNhY2hlW2NhY2hlS2V5XSA9IHsgcHJpbWl0aXZlOiBwcmltaXRpdmUsIHByb21pc2U6IGdlb21ldHJ5UHJvbWlzZSB9O1xuXG4gICAgICAgIHBlbmRpbmcucHVzaChnZW9tZXRyeVByb21pc2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKTtcbiAgfTtcblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNtZXNoZXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1lc2hJbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEdyb3VwfE1lc2h8U2tpbm5lZE1lc2g+fVxuICAgKi9cbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZE1lc2ggPSBmdW5jdGlvbiAobWVzaEluZGV4KSB7XG4gICAgdmFyIHBhcnNlciA9IHRoaXM7XG4gICAgdmFyIGpzb24gPSB0aGlzLmpzb247XG5cbiAgICB2YXIgbWVzaERlZiA9IGpzb24ubWVzaGVzW21lc2hJbmRleF07XG4gICAgdmFyIHByaW1pdGl2ZXMgPSBtZXNoRGVmLnByaW1pdGl2ZXM7XG5cbiAgICB2YXIgcGVuZGluZyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gcHJpbWl0aXZlcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICB2YXIgbWF0ZXJpYWwgPVxuICAgICAgICBwcmltaXRpdmVzW2ldLm1hdGVyaWFsID09PSB1bmRlZmluZWRcbiAgICAgICAgICA/IGNyZWF0ZURlZmF1bHRNYXRlcmlhbCh0aGlzLmNhY2hlKVxuICAgICAgICAgIDogdGhpcy5nZXREZXBlbmRlbmN5KFwibWF0ZXJpYWxcIiwgcHJpbWl0aXZlc1tpXS5tYXRlcmlhbCk7XG5cbiAgICAgIHBlbmRpbmcucHVzaChtYXRlcmlhbCk7XG4gICAgfVxuXG4gICAgcGVuZGluZy5wdXNoKHBhcnNlci5sb2FkR2VvbWV0cmllcyhwcmltaXRpdmVzKSk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZykudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgdmFyIG1hdGVyaWFscyA9IHJlc3VsdHMuc2xpY2UoMCwgcmVzdWx0cy5sZW5ndGggLSAxKTtcbiAgICAgIHZhciBnZW9tZXRyaWVzID0gcmVzdWx0c1tyZXN1bHRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICB2YXIgbWVzaGVzID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGdlb21ldHJpZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2ldO1xuICAgICAgICB2YXIgcHJpbWl0aXZlID0gcHJpbWl0aXZlc1tpXTtcblxuICAgICAgICAvLyAxLiBjcmVhdGUgTWVzaFxuXG4gICAgICAgIHZhciBtZXNoO1xuXG4gICAgICAgIHZhciBtYXRlcmlhbCA9IG1hdGVyaWFsc1tpXTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgcHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5UUklBTkdMRVMgfHxcbiAgICAgICAgICBwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFX1NUUklQIHx8XG4gICAgICAgICAgcHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5UUklBTkdMRV9GQU4gfHxcbiAgICAgICAgICBwcmltaXRpdmUubW9kZSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIC5pc1NraW5uZWRNZXNoIGlzbid0IGluIGdsVEYgc3BlYy4gU2VlIC5fbWFya0RlZnMoKVxuICAgICAgICAgIG1lc2ggPVxuICAgICAgICAgICAgbWVzaERlZi5pc1NraW5uZWRNZXNoID09PSB0cnVlXG4gICAgICAgICAgICAgID8gbmV3IFNraW5uZWRNZXNoKGdlb21ldHJ5LCBtYXRlcmlhbClcbiAgICAgICAgICAgICAgOiBuZXcgTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbWVzaC5pc1NraW5uZWRNZXNoID09PSB0cnVlICYmXG4gICAgICAgICAgICAhbWVzaC5nZW9tZXRyeS5hdHRyaWJ1dGVzLnNraW5XZWlnaHQubm9ybWFsaXplZFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgLy8gd2Ugbm9ybWFsaXplIGZsb2F0aW5nIHBvaW50IHNraW4gd2VpZ2h0IGFycmF5IHRvIGZpeCBtYWxmb3JtZWQgYXNzZXRzIChzZWUgIzE1MzE5KVxuICAgICAgICAgICAgLy8gaXQncyBpbXBvcnRhbnQgdG8gc2tpcCB0aGlzIGZvciBub24tZmxvYXQzMiBkYXRhIHNpbmNlIG5vcm1hbGl6ZVNraW5XZWlnaHRzIGFzc3VtZXMgbm9uLW5vcm1hbGl6ZWQgaW5wdXRzXG4gICAgICAgICAgICBtZXNoLm5vcm1hbGl6ZVNraW5XZWlnaHRzKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVfU1RSSVApIHtcbiAgICAgICAgICAgIG1lc2guZ2VvbWV0cnkgPSB0b1RyaWFuZ2xlc0RyYXdNb2RlKFxuICAgICAgICAgICAgICBtZXNoLmdlb21ldHJ5LFxuICAgICAgICAgICAgICBUcmlhbmdsZVN0cmlwRHJhd01vZGVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIGlmIChwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFX0ZBTikge1xuICAgICAgICAgICAgbWVzaC5nZW9tZXRyeSA9IHRvVHJpYW5nbGVzRHJhd01vZGUoXG4gICAgICAgICAgICAgIG1lc2guZ2VvbWV0cnksXG4gICAgICAgICAgICAgIFRyaWFuZ2xlRmFuRHJhd01vZGVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuTElORVMpIHtcbiAgICAgICAgICBtZXNoID0gbmV3IExpbmVTZWdtZW50cyhnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgICAgICB9IGVsc2UgaWYgKHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuTElORV9TVFJJUCkge1xuICAgICAgICAgIG1lc2ggPSBuZXcgTGluZShnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgICAgICB9IGVsc2UgaWYgKHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuTElORV9MT09QKSB7XG4gICAgICAgICAgbWVzaCA9IG5ldyBMaW5lTG9vcChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgICAgICB9IGVsc2UgaWYgKHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuUE9JTlRTKSB7XG4gICAgICAgICAgbWVzaCA9IG5ldyBQb2ludHMoZ2VvbWV0cnksIG1hdGVyaWFsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBcIlRIUkVFLkdMVEZMb2FkZXI6IFByaW1pdGl2ZSBtb2RlIHVuc3VwcG9ydGVkOiBcIiArIHByaW1pdGl2ZS5tb2RlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhtZXNoLmdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHVwZGF0ZU1vcnBoVGFyZ2V0cyhtZXNoLCBtZXNoRGVmKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1lc2gubmFtZSA9IHBhcnNlci5jcmVhdGVVbmlxdWVOYW1lKFxuICAgICAgICAgIG1lc2hEZWYubmFtZSB8fCBcIm1lc2hfXCIgKyBtZXNoSW5kZXhcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoZ2VvbWV0cmllcy5sZW5ndGggPiAxKSBtZXNoLm5hbWUgKz0gXCJfXCIgKyBpO1xuXG4gICAgICAgIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEobWVzaCwgbWVzaERlZik7XG5cbiAgICAgICAgcGFyc2VyLmFzc2lnbkZpbmFsTWF0ZXJpYWwobWVzaCk7XG5cbiAgICAgICAgbWVzaGVzLnB1c2gobWVzaCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZXNoZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBtZXNoZXNbMF07XG4gICAgICB9XG5cbiAgICAgIHZhciBncm91cCA9IG5ldyBHcm91cCgpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBtZXNoZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICBncm91cC5hZGQobWVzaGVzW2ldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjY2FtZXJhc1xuICAgKiBAcGFyYW0ge251bWJlcn0gY2FtZXJhSW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxUSFJFRS5DYW1lcmE+fVxuICAgKi9cbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZENhbWVyYSA9IGZ1bmN0aW9uIChjYW1lcmFJbmRleCkge1xuICAgIHZhciBjYW1lcmE7XG4gICAgdmFyIGNhbWVyYURlZiA9IHRoaXMuanNvbi5jYW1lcmFzW2NhbWVyYUluZGV4XTtcbiAgICB2YXIgcGFyYW1zID0gY2FtZXJhRGVmW2NhbWVyYURlZi50eXBlXTtcblxuICAgIGlmICghcGFyYW1zKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJUSFJFRS5HTFRGTG9hZGVyOiBNaXNzaW5nIGNhbWVyYSBwYXJhbWV0ZXJzLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY2FtZXJhRGVmLnR5cGUgPT09IFwicGVyc3BlY3RpdmVcIikge1xuICAgICAgY2FtZXJhID0gbmV3IFBlcnNwZWN0aXZlQ2FtZXJhKFxuICAgICAgICBNYXRoVXRpbHMucmFkVG9EZWcocGFyYW1zLnlmb3YpLFxuICAgICAgICBwYXJhbXMuYXNwZWN0UmF0aW8gfHwgMSxcbiAgICAgICAgcGFyYW1zLnpuZWFyIHx8IDEsXG4gICAgICAgIHBhcmFtcy56ZmFyIHx8IDJlNlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGNhbWVyYURlZi50eXBlID09PSBcIm9ydGhvZ3JhcGhpY1wiKSB7XG4gICAgICBjYW1lcmEgPSBuZXcgT3J0aG9ncmFwaGljQ2FtZXJhKFxuICAgICAgICAtcGFyYW1zLnhtYWcsXG4gICAgICAgIHBhcmFtcy54bWFnLFxuICAgICAgICBwYXJhbXMueW1hZyxcbiAgICAgICAgLXBhcmFtcy55bWFnLFxuICAgICAgICBwYXJhbXMuem5lYXIsXG4gICAgICAgIHBhcmFtcy56ZmFyXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChjYW1lcmFEZWYubmFtZSkgY2FtZXJhLm5hbWUgPSB0aGlzLmNyZWF0ZVVuaXF1ZU5hbWUoY2FtZXJhRGVmLm5hbWUpO1xuXG4gICAgYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShjYW1lcmEsIGNhbWVyYURlZik7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNhbWVyYSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNza2luc1xuICAgKiBAcGFyYW0ge251bWJlcn0gc2tpbkluZGV4XG4gICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0Pn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRTa2luID0gZnVuY3Rpb24gKHNraW5JbmRleCkge1xuICAgIHZhciBza2luRGVmID0gdGhpcy5qc29uLnNraW5zW3NraW5JbmRleF07XG5cbiAgICB2YXIgc2tpbkVudHJ5ID0geyBqb2ludHM6IHNraW5EZWYuam9pbnRzIH07XG5cbiAgICBpZiAoc2tpbkRlZi5pbnZlcnNlQmluZE1hdHJpY2VzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc2tpbkVudHJ5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5nZXREZXBlbmRlbmN5KFwiYWNjZXNzb3JcIiwgc2tpbkRlZi5pbnZlcnNlQmluZE1hdHJpY2VzKS50aGVuKFxuICAgICAgZnVuY3Rpb24gKGFjY2Vzc29yKSB7XG4gICAgICAgIHNraW5FbnRyeS5pbnZlcnNlQmluZE1hdHJpY2VzID0gYWNjZXNzb3I7XG5cbiAgICAgICAgcmV0dXJuIHNraW5FbnRyeTtcbiAgICAgIH1cbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjYW5pbWF0aW9uc1xuICAgKiBAcGFyYW0ge251bWJlcn0gYW5pbWF0aW9uSW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxBbmltYXRpb25DbGlwPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRBbmltYXRpb24gPSBmdW5jdGlvbiAoYW5pbWF0aW9uSW5kZXgpIHtcbiAgICB2YXIganNvbiA9IHRoaXMuanNvbjtcblxuICAgIHZhciBhbmltYXRpb25EZWYgPSBqc29uLmFuaW1hdGlvbnNbYW5pbWF0aW9uSW5kZXhdO1xuXG4gICAgdmFyIHBlbmRpbmdOb2RlcyA9IFtdO1xuICAgIHZhciBwZW5kaW5nSW5wdXRBY2Nlc3NvcnMgPSBbXTtcbiAgICB2YXIgcGVuZGluZ091dHB1dEFjY2Vzc29ycyA9IFtdO1xuICAgIHZhciBwZW5kaW5nU2FtcGxlcnMgPSBbXTtcbiAgICB2YXIgcGVuZGluZ1RhcmdldHMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGFuaW1hdGlvbkRlZi5jaGFubmVscy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICB2YXIgY2hhbm5lbCA9IGFuaW1hdGlvbkRlZi5jaGFubmVsc1tpXTtcbiAgICAgIHZhciBzYW1wbGVyID0gYW5pbWF0aW9uRGVmLnNhbXBsZXJzW2NoYW5uZWwuc2FtcGxlcl07XG4gICAgICB2YXIgdGFyZ2V0ID0gY2hhbm5lbC50YXJnZXQ7XG4gICAgICB2YXIgbmFtZSA9IHRhcmdldC5ub2RlICE9PSB1bmRlZmluZWQgPyB0YXJnZXQubm9kZSA6IHRhcmdldC5pZDsgLy8gTk9URTogdGFyZ2V0LmlkIGlzIGRlcHJlY2F0ZWQuXG4gICAgICB2YXIgaW5wdXQgPVxuICAgICAgICBhbmltYXRpb25EZWYucGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyBhbmltYXRpb25EZWYucGFyYW1ldGVyc1tzYW1wbGVyLmlucHV0XVxuICAgICAgICAgIDogc2FtcGxlci5pbnB1dDtcbiAgICAgIHZhciBvdXRwdXQgPVxuICAgICAgICBhbmltYXRpb25EZWYucGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyBhbmltYXRpb25EZWYucGFyYW1ldGVyc1tzYW1wbGVyLm91dHB1dF1cbiAgICAgICAgICA6IHNhbXBsZXIub3V0cHV0O1xuXG4gICAgICBwZW5kaW5nTm9kZXMucHVzaCh0aGlzLmdldERlcGVuZGVuY3koXCJub2RlXCIsIG5hbWUpKTtcbiAgICAgIHBlbmRpbmdJbnB1dEFjY2Vzc29ycy5wdXNoKHRoaXMuZ2V0RGVwZW5kZW5jeShcImFjY2Vzc29yXCIsIGlucHV0KSk7XG4gICAgICBwZW5kaW5nT3V0cHV0QWNjZXNzb3JzLnB1c2godGhpcy5nZXREZXBlbmRlbmN5KFwiYWNjZXNzb3JcIiwgb3V0cHV0KSk7XG4gICAgICBwZW5kaW5nU2FtcGxlcnMucHVzaChzYW1wbGVyKTtcbiAgICAgIHBlbmRpbmdUYXJnZXRzLnB1c2godGFyZ2V0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgUHJvbWlzZS5hbGwocGVuZGluZ05vZGVzKSxcbiAgICAgIFByb21pc2UuYWxsKHBlbmRpbmdJbnB1dEFjY2Vzc29ycyksXG4gICAgICBQcm9taXNlLmFsbChwZW5kaW5nT3V0cHV0QWNjZXNzb3JzKSxcbiAgICAgIFByb21pc2UuYWxsKHBlbmRpbmdTYW1wbGVycyksXG4gICAgICBQcm9taXNlLmFsbChwZW5kaW5nVGFyZ2V0cyksXG4gICAgXSkudGhlbihmdW5jdGlvbiAoZGVwZW5kZW5jaWVzKSB7XG4gICAgICB2YXIgbm9kZXMgPSBkZXBlbmRlbmNpZXNbMF07XG4gICAgICB2YXIgaW5wdXRBY2Nlc3NvcnMgPSBkZXBlbmRlbmNpZXNbMV07XG4gICAgICB2YXIgb3V0cHV0QWNjZXNzb3JzID0gZGVwZW5kZW5jaWVzWzJdO1xuICAgICAgdmFyIHNhbXBsZXJzID0gZGVwZW5kZW5jaWVzWzNdO1xuICAgICAgdmFyIHRhcmdldHMgPSBkZXBlbmRlbmNpZXNbNF07XG5cbiAgICAgIHZhciB0cmFja3MgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gbm9kZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICB2YXIgaW5wdXRBY2Nlc3NvciA9IGlucHV0QWNjZXNzb3JzW2ldO1xuICAgICAgICB2YXIgb3V0cHV0QWNjZXNzb3IgPSBvdXRwdXRBY2Nlc3NvcnNbaV07XG4gICAgICAgIHZhciBzYW1wbGVyID0gc2FtcGxlcnNbaV07XG4gICAgICAgIHZhciB0YXJnZXQgPSB0YXJnZXRzW2ldO1xuXG4gICAgICAgIGlmIChub2RlID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuXG4gICAgICAgIG5vZGUudXBkYXRlTWF0cml4KCk7XG4gICAgICAgIG5vZGUubWF0cml4QXV0b1VwZGF0ZSA9IHRydWU7XG5cbiAgICAgICAgdmFyIFR5cGVkS2V5ZnJhbWVUcmFjaztcblxuICAgICAgICBzd2l0Y2ggKFBBVEhfUFJPUEVSVElFU1t0YXJnZXQucGF0aF0pIHtcbiAgICAgICAgICBjYXNlIFBBVEhfUFJPUEVSVElFUy53ZWlnaHRzOlxuICAgICAgICAgICAgVHlwZWRLZXlmcmFtZVRyYWNrID0gTnVtYmVyS2V5ZnJhbWVUcmFjaztcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBQQVRIX1BST1BFUlRJRVMucm90YXRpb246XG4gICAgICAgICAgICBUeXBlZEtleWZyYW1lVHJhY2sgPSBRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjaztcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBQQVRIX1BST1BFUlRJRVMucG9zaXRpb246XG4gICAgICAgICAgY2FzZSBQQVRIX1BST1BFUlRJRVMuc2NhbGU6XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIFR5cGVkS2V5ZnJhbWVUcmFjayA9IFZlY3RvcktleWZyYW1lVHJhY2s7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0YXJnZXROYW1lID0gbm9kZS5uYW1lID8gbm9kZS5uYW1lIDogbm9kZS51dWlkO1xuXG4gICAgICAgIHZhciBpbnRlcnBvbGF0aW9uID1cbiAgICAgICAgICBzYW1wbGVyLmludGVycG9sYXRpb24gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBJTlRFUlBPTEFUSU9OW3NhbXBsZXIuaW50ZXJwb2xhdGlvbl1cbiAgICAgICAgICAgIDogSW50ZXJwb2xhdGVMaW5lYXI7XG5cbiAgICAgICAgdmFyIHRhcmdldE5hbWVzID0gW107XG5cbiAgICAgICAgaWYgKFBBVEhfUFJPUEVSVElFU1t0YXJnZXQucGF0aF0gPT09IFBBVEhfUFJPUEVSVElFUy53ZWlnaHRzKSB7XG4gICAgICAgICAgLy8gTm9kZSBtYXkgYmUgYSBHcm91cCAoZ2xURiBtZXNoIHdpdGggc2V2ZXJhbCBwcmltaXRpdmVzKSBvciBhIE1lc2guXG4gICAgICAgICAgbm9kZS50cmF2ZXJzZShmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAob2JqZWN0LmlzTWVzaCA9PT0gdHJ1ZSAmJiBvYmplY3QubW9ycGhUYXJnZXRJbmZsdWVuY2VzKSB7XG4gICAgICAgICAgICAgIHRhcmdldE5hbWVzLnB1c2gob2JqZWN0Lm5hbWUgPyBvYmplY3QubmFtZSA6IG9iamVjdC51dWlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YXJnZXROYW1lcy5wdXNoKHRhcmdldE5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG91dHB1dEFycmF5ID0gb3V0cHV0QWNjZXNzb3IuYXJyYXk7XG5cbiAgICAgICAgaWYgKG91dHB1dEFjY2Vzc29yLm5vcm1hbGl6ZWQpIHtcbiAgICAgICAgICB2YXIgc2NhbGU7XG5cbiAgICAgICAgICBpZiAob3V0cHV0QXJyYXkuY29uc3RydWN0b3IgPT09IEludDhBcnJheSkge1xuICAgICAgICAgICAgc2NhbGUgPSAxIC8gMTI3O1xuICAgICAgICAgIH0gZWxzZSBpZiAob3V0cHV0QXJyYXkuY29uc3RydWN0b3IgPT09IFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgIHNjYWxlID0gMSAvIDI1NTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG91dHB1dEFycmF5LmNvbnN0cnVjdG9yID09IEludDE2QXJyYXkpIHtcbiAgICAgICAgICAgIHNjYWxlID0gMSAvIDMyNzY3O1xuICAgICAgICAgIH0gZWxzZSBpZiAob3V0cHV0QXJyYXkuY29uc3RydWN0b3IgPT09IFVpbnQxNkFycmF5KSB7XG4gICAgICAgICAgICBzY2FsZSA9IDEgLyA2NTUzNTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBcIlRIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIG91dHB1dCBhY2Nlc3NvciBjb21wb25lbnQgdHlwZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgc2NhbGVkID0gbmV3IEZsb2F0MzJBcnJheShvdXRwdXRBcnJheS5sZW5ndGgpO1xuXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpsID0gb3V0cHV0QXJyYXkubGVuZ3RoOyBqIDwgamw7IGorKykge1xuICAgICAgICAgICAgc2NhbGVkW2pdID0gb3V0cHV0QXJyYXlbal0gKiBzY2FsZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBvdXRwdXRBcnJheSA9IHNjYWxlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGogPSAwLCBqbCA9IHRhcmdldE5hbWVzLmxlbmd0aDsgaiA8IGpsOyBqKyspIHtcbiAgICAgICAgICB2YXIgdHJhY2sgPSBuZXcgVHlwZWRLZXlmcmFtZVRyYWNrKFxuICAgICAgICAgICAgdGFyZ2V0TmFtZXNbal0gKyBcIi5cIiArIFBBVEhfUFJPUEVSVElFU1t0YXJnZXQucGF0aF0sXG4gICAgICAgICAgICBpbnB1dEFjY2Vzc29yLmFycmF5LFxuICAgICAgICAgICAgb3V0cHV0QXJyYXksXG4gICAgICAgICAgICBpbnRlcnBvbGF0aW9uXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIE92ZXJyaWRlIGludGVycG9sYXRpb24gd2l0aCBjdXN0b20gZmFjdG9yeSBtZXRob2QuXG4gICAgICAgICAgaWYgKHNhbXBsZXIuaW50ZXJwb2xhdGlvbiA9PT0gXCJDVUJJQ1NQTElORVwiKSB7XG4gICAgICAgICAgICB0cmFjay5jcmVhdGVJbnRlcnBvbGFudCA9IGZ1bmN0aW9uIEludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZShcbiAgICAgICAgICAgICAgcmVzdWx0XG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgLy8gQSBDVUJJQ1NQTElORSBrZXlmcmFtZSBpbiBnbFRGIGhhcyB0aHJlZSBvdXRwdXQgdmFsdWVzIGZvciBlYWNoIGlucHV0IHZhbHVlLFxuICAgICAgICAgICAgICAvLyByZXByZXNlbnRpbmcgaW5UYW5nZW50LCBzcGxpbmVWZXJ0ZXgsIGFuZCBvdXRUYW5nZW50LiBBcyBhIHJlc3VsdCwgdHJhY2suZ2V0VmFsdWVTaXplKClcbiAgICAgICAgICAgICAgLy8gbXVzdCBiZSBkaXZpZGVkIGJ5IHRocmVlIHRvIGdldCB0aGUgaW50ZXJwb2xhbnQncyBzYW1wbGVTaXplIGFyZ3VtZW50LlxuXG4gICAgICAgICAgICAgIHJldHVybiBuZXcgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQoXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lcyxcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlcyxcbiAgICAgICAgICAgICAgICB0aGlzLmdldFZhbHVlU2l6ZSgpIC8gMyxcbiAgICAgICAgICAgICAgICByZXN1bHRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIE1hcmsgYXMgQ1VCSUNTUExJTkUuIGB0cmFjay5nZXRJbnRlcnBvbGF0aW9uKClgIGRvZXNuJ3Qgc3VwcG9ydCBjdXN0b20gaW50ZXJwb2xhbnRzLlxuICAgICAgICAgICAgdHJhY2suY3JlYXRlSW50ZXJwb2xhbnQuaXNJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RHTFRGQ3ViaWNTcGxpbmUgPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRyYWNrcy5wdXNoKHRyYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgbmFtZSA9IGFuaW1hdGlvbkRlZi5uYW1lXG4gICAgICAgID8gYW5pbWF0aW9uRGVmLm5hbWVcbiAgICAgICAgOiBcImFuaW1hdGlvbl9cIiArIGFuaW1hdGlvbkluZGV4O1xuXG4gICAgICByZXR1cm4gbmV3IEFuaW1hdGlvbkNsaXAobmFtZSwgdW5kZWZpbmVkLCB0cmFja3MpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjbm9kZXMtYW5kLWhpZXJhcmNoeVxuICAgKiBAcGFyYW0ge251bWJlcn0gbm9kZUluZGV4XG4gICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0M0Q+fVxuICAgKi9cbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZE5vZGUgPSBmdW5jdGlvbiAobm9kZUluZGV4KSB7XG4gICAgdmFyIGpzb24gPSB0aGlzLmpzb247XG4gICAgdmFyIGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XG4gICAgdmFyIHBhcnNlciA9IHRoaXM7XG5cbiAgICB2YXIgbm9kZURlZiA9IGpzb24ubm9kZXNbbm9kZUluZGV4XTtcblxuICAgIC8vIHJlc2VydmUgbm9kZSdzIG5hbWUgYmVmb3JlIGl0cyBkZXBlbmRlbmNpZXMsIHNvIHRoZSByb290IGhhcyB0aGUgaW50ZW5kZWQgbmFtZS5cbiAgICB2YXIgbm9kZU5hbWUgPSBub2RlRGVmLm5hbWUgPyBwYXJzZXIuY3JlYXRlVW5pcXVlTmFtZShub2RlRGVmLm5hbWUpIDogXCJcIjtcblxuICAgIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgICAgaWYgKG5vZGVEZWYubWVzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBlbmRpbmcucHVzaChcbiAgICAgICAgICBwYXJzZXIuZ2V0RGVwZW5kZW5jeShcIm1lc2hcIiwgbm9kZURlZi5tZXNoKS50aGVuKGZ1bmN0aW9uIChtZXNoKSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IHBhcnNlci5fZ2V0Tm9kZVJlZihwYXJzZXIubWVzaENhY2hlLCBub2RlRGVmLm1lc2gsIG1lc2gpO1xuXG4gICAgICAgICAgICAvLyBpZiB3ZWlnaHRzIGFyZSBwcm92aWRlZCBvbiB0aGUgbm9kZSwgb3ZlcnJpZGUgd2VpZ2h0cyBvbiB0aGUgbWVzaC5cbiAgICAgICAgICAgIGlmIChub2RlRGVmLndlaWdodHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBub2RlLnRyYXZlcnNlKGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFvLmlzTWVzaCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gbm9kZURlZi53ZWlnaHRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgIG8ubW9ycGhUYXJnZXRJbmZsdWVuY2VzW2ldID0gbm9kZURlZi53ZWlnaHRzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmIChub2RlRGVmLmNhbWVyYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBlbmRpbmcucHVzaChcbiAgICAgICAgICBwYXJzZXJcbiAgICAgICAgICAgIC5nZXREZXBlbmRlbmN5KFwiY2FtZXJhXCIsIG5vZGVEZWYuY2FtZXJhKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGNhbWVyYSkge1xuICAgICAgICAgICAgICByZXR1cm4gcGFyc2VyLl9nZXROb2RlUmVmKFxuICAgICAgICAgICAgICAgIHBhcnNlci5jYW1lcmFDYWNoZSxcbiAgICAgICAgICAgICAgICBub2RlRGVmLmNhbWVyYSxcbiAgICAgICAgICAgICAgICBjYW1lcmFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHBhcnNlclxuICAgICAgICAuX2ludm9rZUFsbChmdW5jdGlvbiAoZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGV4dC5jcmVhdGVOb2RlQXR0YWNobWVudCAmJiBleHQuY3JlYXRlTm9kZUF0dGFjaG1lbnQobm9kZUluZGV4KVxuICAgICAgICAgICk7XG4gICAgICAgIH0pXG4gICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgcGVuZGluZy5wdXNoKHByb21pc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpO1xuICAgIH0pKCkudGhlbihmdW5jdGlvbiAob2JqZWN0cykge1xuICAgICAgdmFyIG5vZGU7XG5cbiAgICAgIC8vIC5pc0JvbmUgaXNuJ3QgaW4gZ2xURiBzcGVjLiBTZWUgLl9tYXJrRGVmc1xuICAgICAgaWYgKG5vZGVEZWYuaXNCb25lID09PSB0cnVlKSB7XG4gICAgICAgIG5vZGUgPSBuZXcgQm9uZSgpO1xuICAgICAgfSBlbHNlIGlmIChvYmplY3RzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgbm9kZSA9IG5ldyBHcm91cCgpO1xuICAgICAgfSBlbHNlIGlmIChvYmplY3RzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBub2RlID0gb2JqZWN0c1swXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUgPSBuZXcgT2JqZWN0M0QoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5vZGUgIT09IG9iamVjdHNbMF0pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gb2JqZWN0cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgICAgbm9kZS5hZGQob2JqZWN0c1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG5vZGVEZWYubmFtZSkge1xuICAgICAgICBub2RlLnVzZXJEYXRhLm5hbWUgPSBub2RlRGVmLm5hbWU7XG4gICAgICAgIG5vZGUubmFtZSA9IG5vZGVOYW1lO1xuICAgICAgfVxuXG4gICAgICBhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKG5vZGUsIG5vZGVEZWYpO1xuXG4gICAgICBpZiAobm9kZURlZi5leHRlbnNpb25zKVxuICAgICAgICBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoZXh0ZW5zaW9ucywgbm9kZSwgbm9kZURlZik7XG5cbiAgICAgIGlmIChub2RlRGVmLm1hdHJpeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBuZXcgTWF0cml4NCgpO1xuICAgICAgICBtYXRyaXguZnJvbUFycmF5KG5vZGVEZWYubWF0cml4KTtcbiAgICAgICAgbm9kZS5hcHBseU1hdHJpeDQobWF0cml4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChub2RlRGVmLnRyYW5zbGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBub2RlLnBvc2l0aW9uLmZyb21BcnJheShub2RlRGVmLnRyYW5zbGF0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlRGVmLnJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBub2RlLnF1YXRlcm5pb24uZnJvbUFycmF5KG5vZGVEZWYucm90YXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vZGVEZWYuc2NhbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG5vZGUuc2NhbGUuZnJvbUFycmF5KG5vZGVEZWYuc2NhbGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHBhcnNlci5hc3NvY2lhdGlvbnMuc2V0KG5vZGUsIHsgdHlwZTogXCJub2Rlc1wiLCBpbmRleDogbm9kZUluZGV4IH0pO1xuXG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI3NjZW5lc1xuICAgKiBAcGFyYW0ge251bWJlcn0gc2NlbmVJbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEdyb3VwPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRTY2VuZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgLy8gc2NlbmUgbm9kZSBoaWVyYWNoeSBidWlsZGVyXG5cbiAgICBmdW5jdGlvbiBidWlsZE5vZGVIaWVyYWNoeShub2RlSWQsIHBhcmVudE9iamVjdCwganNvbiwgcGFyc2VyKSB7XG4gICAgICB2YXIgbm9kZURlZiA9IGpzb24ubm9kZXNbbm9kZUlkXTtcblxuICAgICAgcmV0dXJuIHBhcnNlclxuICAgICAgICAuZ2V0RGVwZW5kZW5jeShcIm5vZGVcIiwgbm9kZUlkKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIGlmIChub2RlRGVmLnNraW4gPT09IHVuZGVmaW5lZCkgcmV0dXJuIG5vZGU7XG5cbiAgICAgICAgICAvLyBidWlsZCBza2VsZXRvbiBoZXJlIGFzIHdlbGxcblxuICAgICAgICAgIHZhciBza2luRW50cnk7XG5cbiAgICAgICAgICByZXR1cm4gcGFyc2VyXG4gICAgICAgICAgICAuZ2V0RGVwZW5kZW5jeShcInNraW5cIiwgbm9kZURlZi5za2luKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHNraW4pIHtcbiAgICAgICAgICAgICAgc2tpbkVudHJ5ID0gc2tpbjtcblxuICAgICAgICAgICAgICB2YXIgcGVuZGluZ0pvaW50cyA9IFtdO1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHNraW5FbnRyeS5qb2ludHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgICAgICAgIHBlbmRpbmdKb2ludHMucHVzaChcbiAgICAgICAgICAgICAgICAgIHBhcnNlci5nZXREZXBlbmRlbmN5KFwibm9kZVwiLCBza2luRW50cnkuam9pbnRzW2ldKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZ0pvaW50cyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGpvaW50Tm9kZXMpIHtcbiAgICAgICAgICAgICAgbm9kZS50cmF2ZXJzZShmdW5jdGlvbiAobWVzaCkge1xuICAgICAgICAgICAgICAgIGlmICghbWVzaC5pc01lc2gpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIHZhciBib25lcyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBib25lSW52ZXJzZXMgPSBbXTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwLCBqbCA9IGpvaW50Tm9kZXMubGVuZ3RoOyBqIDwgamw7IGorKykge1xuICAgICAgICAgICAgICAgICAgdmFyIGpvaW50Tm9kZSA9IGpvaW50Tm9kZXNbal07XG5cbiAgICAgICAgICAgICAgICAgIGlmIChqb2ludE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9uZXMucHVzaChqb2ludE5vZGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXQgPSBuZXcgTWF0cml4NCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChza2luRW50cnkuaW52ZXJzZUJpbmRNYXRyaWNlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgbWF0LmZyb21BcnJheShcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraW5FbnRyeS5pbnZlcnNlQmluZE1hdHJpY2VzLmFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgaiAqIDE2XG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGJvbmVJbnZlcnNlcy5wdXNoKG1hdCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgICAgICAgJ1RIUkVFLkdMVEZMb2FkZXI6IEpvaW50IFwiJXNcIiBjb3VsZCBub3QgYmUgZm91bmQuJyxcbiAgICAgICAgICAgICAgICAgICAgICBza2luRW50cnkuam9pbnRzW2pdXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbWVzaC5iaW5kKG5ldyBTa2VsZXRvbihib25lcywgYm9uZUludmVyc2VzKSwgbWVzaC5tYXRyaXhXb3JsZCk7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgLy8gYnVpbGQgbm9kZSBoaWVyYWNoeVxuXG4gICAgICAgICAgcGFyZW50T2JqZWN0LmFkZChub2RlKTtcblxuICAgICAgICAgIHZhciBwZW5kaW5nID0gW107XG5cbiAgICAgICAgICBpZiAobm9kZURlZi5jaGlsZHJlbikge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gbm9kZURlZi5jaGlsZHJlbjtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgcGVuZGluZy5wdXNoKGJ1aWxkTm9kZUhpZXJhY2h5KGNoaWxkLCBub2RlLCBqc29uLCBwYXJzZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiBsb2FkU2NlbmUoc2NlbmVJbmRleCkge1xuICAgICAgdmFyIGpzb24gPSB0aGlzLmpzb247XG4gICAgICB2YXIgZXh0ZW5zaW9ucyA9IHRoaXMuZXh0ZW5zaW9ucztcbiAgICAgIHZhciBzY2VuZURlZiA9IHRoaXMuanNvbi5zY2VuZXNbc2NlbmVJbmRleF07XG4gICAgICB2YXIgcGFyc2VyID0gdGhpcztcblxuICAgICAgLy8gTG9hZGVyIHJldHVybnMgR3JvdXAsIG5vdCBTY2VuZS5cbiAgICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9pc3N1ZXMvMTgzNDIjaXNzdWVjb21tZW50LTU3ODk4MTE3MlxuICAgICAgdmFyIHNjZW5lID0gbmV3IEdyb3VwKCk7XG4gICAgICBpZiAoc2NlbmVEZWYubmFtZSkgc2NlbmUubmFtZSA9IHBhcnNlci5jcmVhdGVVbmlxdWVOYW1lKHNjZW5lRGVmLm5hbWUpO1xuXG4gICAgICBhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKHNjZW5lLCBzY2VuZURlZik7XG5cbiAgICAgIGlmIChzY2VuZURlZi5leHRlbnNpb25zKVxuICAgICAgICBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoZXh0ZW5zaW9ucywgc2NlbmUsIHNjZW5lRGVmKTtcblxuICAgICAgdmFyIG5vZGVJZHMgPSBzY2VuZURlZi5ub2RlcyB8fCBbXTtcblxuICAgICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gbm9kZUlkcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgIHBlbmRpbmcucHVzaChidWlsZE5vZGVIaWVyYWNoeShub2RlSWRzW2ldLCBzY2VuZSwganNvbiwgcGFyc2VyKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHNjZW5lO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSkoKTtcblxuICByZXR1cm4gR0xURkxvYWRlcjtcbn0pKCk7XG5cbmV4cG9ydCB7IEdMVEZMb2FkZXIgfTtcbiIsImltcG9ydCB7IEV1bGVyLCBFdmVudERpc3BhdGNoZXIsIFZlY3RvcjMgfSBmcm9tIFwidGhyZWVcIjtcblxudmFyIFBvaW50ZXJMb2NrQ29udHJvbHMgPSBmdW5jdGlvbiAoY2FtZXJhLCBkb21FbGVtZW50KSB7XG4gIGlmIChkb21FbGVtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICAnVEhSRUUuUG9pbnRlckxvY2tDb250cm9sczogVGhlIHNlY29uZCBwYXJhbWV0ZXIgXCJkb21FbGVtZW50XCIgaXMgbm93IG1hbmRhdG9yeS4nXG4gICAgKTtcbiAgICBkb21FbGVtZW50ID0gZG9jdW1lbnQuYm9keTtcbiAgfVxuXG4gIHRoaXMuZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQ7XG4gIHRoaXMuaXNMb2NrZWQgPSBmYWxzZTtcblxuICAvLyBTZXQgdG8gY29uc3RyYWluIHRoZSBwaXRjaCBvZiB0aGUgY2FtZXJhXG4gIC8vIFJhbmdlIGlzIDAgdG8gTWF0aC5QSSByYWRpYW5zXG4gIHRoaXMubWluUG9sYXJBbmdsZSA9IDA7IC8vIHJhZGlhbnNcbiAgdGhpcy5tYXhQb2xhckFuZ2xlID0gTWF0aC5QSTsgLy8gcmFkaWFuc1xuXG4gIC8vXG4gIC8vIGludGVybmFsc1xuICAvL1xuXG4gIHZhciBzY29wZSA9IHRoaXM7XG5cbiAgdmFyIGNoYW5nZUV2ZW50ID0geyB0eXBlOiBcImNoYW5nZVwiIH07XG4gIHZhciBsb2NrRXZlbnQgPSB7IHR5cGU6IFwibG9ja1wiIH07XG4gIHZhciB1bmxvY2tFdmVudCA9IHsgdHlwZTogXCJ1bmxvY2tcIiB9O1xuXG4gIHZhciBldWxlciA9IG5ldyBFdWxlcigwLCAwLCAwLCBcIllYWlwiKTtcblxuICB2YXIgUElfMiA9IE1hdGguUEkgLyAyO1xuXG4gIHZhciB2ZWMgPSBuZXcgVmVjdG9yMygpO1xuXG4gIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGV2ZW50KSB7XG4gICAgaWYgKHNjb3BlLmlzTG9ja2VkID09PSBmYWxzZSkgcmV0dXJuO1xuXG4gICAgdmFyIG1vdmVtZW50WCA9XG4gICAgICBldmVudC5tb3ZlbWVudFggfHwgZXZlbnQubW96TW92ZW1lbnRYIHx8IGV2ZW50LndlYmtpdE1vdmVtZW50WCB8fCAwO1xuICAgIHZhciBtb3ZlbWVudFkgPVxuICAgICAgZXZlbnQubW92ZW1lbnRZIHx8IGV2ZW50Lm1vek1vdmVtZW50WSB8fCBldmVudC53ZWJraXRNb3ZlbWVudFkgfHwgMDtcblxuICAgIGV1bGVyLnNldEZyb21RdWF0ZXJuaW9uKGNhbWVyYS5xdWF0ZXJuaW9uKTtcblxuICAgIGV1bGVyLnkgLT0gbW92ZW1lbnRYICogMC4wMDI7XG4gICAgZXVsZXIueCAtPSBtb3ZlbWVudFkgKiAwLjAwMjtcblxuICAgIGV1bGVyLnggPSBNYXRoLm1heChcbiAgICAgIFBJXzIgLSBzY29wZS5tYXhQb2xhckFuZ2xlLFxuICAgICAgTWF0aC5taW4oUElfMiAtIHNjb3BlLm1pblBvbGFyQW5nbGUsIGV1bGVyLngpXG4gICAgKTtcblxuICAgIGNhbWVyYS5xdWF0ZXJuaW9uLnNldEZyb21FdWxlcihldWxlcik7XG5cbiAgICBzY29wZS5kaXNwYXRjaEV2ZW50KGNoYW5nZUV2ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUG9pbnRlcmxvY2tDaGFuZ2UoKSB7XG4gICAgaWYgKFxuICAgICAgc2NvcGUuZG9tRWxlbWVudC5vd25lckRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCA9PT0gc2NvcGUuZG9tRWxlbWVudFxuICAgICkge1xuICAgICAgc2NvcGUuZGlzcGF0Y2hFdmVudChsb2NrRXZlbnQpO1xuXG4gICAgICBzY29wZS5pc0xvY2tlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQodW5sb2NrRXZlbnQpO1xuXG4gICAgICBzY29wZS5pc0xvY2tlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUG9pbnRlcmxvY2tFcnJvcigpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiVEhSRUUuUG9pbnRlckxvY2tDb250cm9sczogVW5hYmxlIHRvIHVzZSBQb2ludGVyIExvY2sgQVBJXCIpO1xuICB9XG5cbiAgdGhpcy5jb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgIHNjb3BlLmRvbUVsZW1lbnQub3duZXJEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJtb3VzZW1vdmVcIixcbiAgICAgIG9uTW91c2VNb3ZlLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIHNjb3BlLmRvbUVsZW1lbnQub3duZXJEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJwb2ludGVybG9ja2NoYW5nZVwiLFxuICAgICAgb25Qb2ludGVybG9ja0NoYW5nZSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICBzY29wZS5kb21FbGVtZW50Lm93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwicG9pbnRlcmxvY2tlcnJvclwiLFxuICAgICAgb25Qb2ludGVybG9ja0Vycm9yLFxuICAgICAgZmFsc2VcbiAgICApO1xuICB9O1xuXG4gIHRoaXMuZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBzY29wZS5kb21FbGVtZW50Lm93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwibW91c2Vtb3ZlXCIsXG4gICAgICBvbk1vdXNlTW92ZSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICBzY29wZS5kb21FbGVtZW50Lm93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwicG9pbnRlcmxvY2tjaGFuZ2VcIixcbiAgICAgIG9uUG9pbnRlcmxvY2tDaGFuZ2UsXG4gICAgICBmYWxzZVxuICAgICk7XG4gICAgc2NvcGUuZG9tRWxlbWVudC5vd25lckRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICBcInBvaW50ZXJsb2NrZXJyb3JcIixcbiAgICAgIG9uUG9pbnRlcmxvY2tFcnJvcixcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgfTtcblxuICB0aGlzLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5kaXNjb25uZWN0KCk7XG4gIH07XG5cbiAgdGhpcy5nZXRPYmplY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gcmV0YWluaW5nIHRoaXMgbWV0aG9kIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5cbiAgICByZXR1cm4gY2FtZXJhO1xuICB9O1xuXG4gIHRoaXMuZ2V0RGlyZWN0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGlyZWN0aW9uID0gbmV3IFZlY3RvcjMoMCwgMCwgLTEpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gdi5jb3B5KGRpcmVjdGlvbikuYXBwbHlRdWF0ZXJuaW9uKGNhbWVyYS5xdWF0ZXJuaW9uKTtcbiAgICB9O1xuICB9KSgpO1xuXG4gIHRoaXMubW92ZUZvcndhcmQgPSBmdW5jdGlvbiAoZGlzdGFuY2UpIHtcbiAgICAvLyBtb3ZlIGZvcndhcmQgcGFyYWxsZWwgdG8gdGhlIHh6LXBsYW5lXG4gICAgLy8gYXNzdW1lcyBjYW1lcmEudXAgaXMgeS11cFxuXG4gICAgdmVjLnNldEZyb21NYXRyaXhDb2x1bW4oY2FtZXJhLm1hdHJpeCwgMCk7XG5cbiAgICB2ZWMuY3Jvc3NWZWN0b3JzKGNhbWVyYS51cCwgdmVjKTtcblxuICAgIGNhbWVyYS5wb3NpdGlvbi5hZGRTY2FsZWRWZWN0b3IodmVjLCBkaXN0YW5jZSk7XG4gIH07XG5cbiAgdGhpcy5tb3ZlUmlnaHQgPSBmdW5jdGlvbiAoZGlzdGFuY2UpIHtcbiAgICB2ZWMuc2V0RnJvbU1hdHJpeENvbHVtbihjYW1lcmEubWF0cml4LCAwKTtcblxuICAgIGNhbWVyYS5wb3NpdGlvbi5hZGRTY2FsZWRWZWN0b3IodmVjLCBkaXN0YW5jZSk7XG4gIH07XG5cbiAgdGhpcy5sb2NrID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZG9tRWxlbWVudC5yZXF1ZXN0UG9pbnRlckxvY2soKTtcbiAgfTtcblxuICB0aGlzLnVubG9jayA9IGZ1bmN0aW9uICgpIHtcbiAgICBzY29wZS5kb21FbGVtZW50Lm93bmVyRG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrKCk7XG4gIH07XG5cbiAgdGhpcy5jb25uZWN0KCk7XG59O1xuXG5Qb2ludGVyTG9ja0NvbnRyb2xzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZSk7XG5Qb2ludGVyTG9ja0NvbnRyb2xzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBvaW50ZXJMb2NrQ29udHJvbHM7XG5cbmV4cG9ydCB7IFBvaW50ZXJMb2NrQ29udHJvbHMgfTtcbiIsImxldCBDT05TVEFOVFMgPSB7XG4gIFNDUkVFTl9XSURUSDogd2luZG93LmlubmVyV2lkdGgsXG4gIFNDUkVFTl9IRUlHSFQ6IHdpbmRvdy5pbm5lckhlaWdodCxcbiAgQkFDS0dST1VORF9DT0xPUjogMHhkOGYyZmYsXG4gIFNVTlNISU5FX0NPTE9SOiAweGVlZGNhNSxcbiAgV0hJVEU6IDB4ZmZmZmZmLFxuICBTSVpFX0dST1VORDogMzAwMCxcbiAgUkVBUEVBVDogNjQsXG4gIE5fVFJFRTogMzAwLFxuICBOX0NMT1VEUzogMTAwLFxuICBOX0FOSU1BTFM6IDEwLFxuICBJTklUQUxfUE9TSVRJT046IHsgeDogMCwgeTogMTAsIHo6IDAgfSxcbiAgVklTSVRPUjoge1xuICAgIGNvbG9yOiAweGUwYzk5ZCxcbiAgICBtb3ZlbWVudFNwZWVkOiA1LFxuICAgIG1hc3M6IDEwMCxcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENPTlNUQU5UUztcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiO1xuXG5jbGFzcyBHcm91bmQge1xuICBjb25zdHJ1Y3RvcihzaXplLCByZXBlYXQsIGltYWdlUGF0aCkge1xuICAgIHRoaXMuaW1hZ2VQYXRoID0gaW1hZ2VQYXRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gc2l6ZTtcbiAgICB0aGlzLndpZHRoID0gc2l6ZTtcbiAgICB0aGlzLnJlcGVhdCA9IHJlcGVhdDtcbiAgICB0aGlzLl9ncm91bmQgPSBudWxsO1xuICB9XG5cbiAgY3JlYXRlKCkge1xuICAgIGxldCBndCA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCh0aGlzLmltYWdlUGF0aCk7XG4gICAgbGV0IGdnID0gbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkodGhpcy5oZWlnaHQsIHRoaXMud2lkdGgpO1xuICAgIGxldCBnbSA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7IGNvbG9yOiAweGZmZmZmZiwgbWFwOiBndCB9KTtcbiAgICBsZXQgZ3JvdW5kID0gbmV3IFRIUkVFLk1lc2goZ2csIGdtKTtcblxuICAgIGdyb3VuZC5yb3RhdGlvbi54ID0gLU1hdGguUEkgLyAyO1xuICAgIGdyb3VuZC5tYXRlcmlhbC5tYXAucmVwZWF0LnNldCh0aGlzLnJlcGVhdCwgdGhpcy5yZXBlYXQpO1xuICAgIC8vIGdyb3VuZC5tYXRlcmlhbC5tYXAud3JhcFMgPSBUSFJFRS5SZXBlYXRXcmFwcGluZztcbiAgICAvLyBncm91bmQubWF0ZXJpYWwubWFwLndyYXBUID0gVEhSRUUuUmVwZWF0V3JhcHBpbmc7XG4gICAgLy8gZ3JvdW5kLm1hdGVyaWFsLm1hcC5lbmNvZGluZyA9IFRIUkVFLnNSR0JFbmNvZGluZztcbiAgICBncm91bmQucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG5cbiAgICB0aGlzLl9ncm91bmQgPSBncm91bmQ7XG4gICAgcmV0dXJuIGdyb3VuZDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcm91bmQ7XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcbmltcG9ydCBDT05TVEFOVFMgZnJvbSBcIi4uL3V0aWxzL2NvbnRhbnRzXCI7XG5cbmNsYXNzIFRyZWVDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihnZW9tZXRyeSwgY29sb3IsIHBvc2l0aW9uLCBzY2FsZSkge1xuICAgIHRoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIHRoaXMuc2NhbGUgPSBzY2FsZTtcbiAgfVxuXG4gIGNyZWF0ZSgpIHtcbiAgICBsZXQgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7IGNvbG9yOiB0aGlzLmNvbG9yIH0pO1xuICAgIGxldCBjb21wb25lbnQgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCBtYXRlcmlhbCk7XG4gICAgY29tcG9uZW50LnBvc2l0aW9uLnNldChcbiAgICAgIHRoaXMucG9zaXRpb25bMF0sXG4gICAgICB0aGlzLnBvc2l0aW9uWzFdLFxuICAgICAgdGhpcy5wb3NpdGlvblsyXVxuICAgICk7XG4gICAgY29tcG9uZW50LnNjYWxlLnNldCh0aGlzLnNjYWxlWzBdLCB0aGlzLnNjYWxlWzFdLCB0aGlzLnNjYWxlWzJdKTtcbiAgICByZXR1cm4gY29tcG9uZW50O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRyZWUoKSB7XG4gIGxldCBjb2xvcnMgPSB7XG4gICAgZGFya0dyZWVuOiAweDkxZTU2ZSxcbiAgICBsaWdodEdyZWVuOiAweGEyZmY3YSxcbiAgICBicm93bjogMHg3ZDVhNGYsXG4gIH07XG4gIGxldCBnZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxLCAxLCAxKTtcblxuICAvLyBMZWF2ZXNcbiAgbGV0IGRhcmtMZWFmMDEgPSBuZXcgVHJlZUNvbXBvbmVudChcbiAgICBnZW9tZXRyeSxcbiAgICBjb2xvcnMuZGFya0dyZWVuLFxuICAgIFswLjUsIDEuNiwgMC41XSxcbiAgICBbMC44LCAwLjgsIDAuOF1cbiAgKTtcbiAgZGFya0xlYWYwMSA9IGRhcmtMZWFmMDEuY3JlYXRlKCk7XG4gIGxldCBkYXJrTGVhZjAyID0gbmV3IFRyZWVDb21wb25lbnQoXG4gICAgZ2VvbWV0cnksXG4gICAgY29sb3JzLmRhcmtHcmVlbixcbiAgICBbLTAuNCwgMS4zLCAtMC40XSxcbiAgICBbMC43LCAwLjcsIDAuN11cbiAgKTtcbiAgZGFya0xlYWYwMiA9IGRhcmtMZWFmMDIuY3JlYXRlKCk7XG4gIGxldCBkYXJrTGVhZjAzID0gbmV3IFRyZWVDb21wb25lbnQoXG4gICAgZ2VvbWV0cnksXG4gICAgY29sb3JzLmRhcmtHcmVlbixcbiAgICBbMC40LCAxLjMsIC0wLjVdLFxuICAgIFswLjcsIDAuNywgMC43XVxuICApO1xuICBkYXJrTGVhZjAzID0gZGFya0xlYWYwMy5jcmVhdGUoKTtcbiAgbGV0IGRhcmtMZWFmMDQgPSBuZXcgVHJlZUNvbXBvbmVudChcbiAgICBnZW9tZXRyeSxcbiAgICBjb2xvcnMuZGFya0dyZWVuLFxuICAgIFswLCAxLjIsIDBdLFxuICAgIFsxLCAyLCAxXVxuICApO1xuICBkYXJrTGVhZjA0ID0gZGFya0xlYWYwNC5jcmVhdGUoKTtcbiAgbGV0IGxpZ2h0TGVhZiA9IG5ldyBUcmVlQ29tcG9uZW50KFxuICAgIGdlb21ldHJ5LFxuICAgIGNvbG9ycy5saWdodEdyZWVuLFxuICAgIFswLCAxLjIsIDBdLFxuICAgIFsxLjEsIDAuNSwgMS4xXVxuICApO1xuICBsaWdodExlYWYgPSBsaWdodExlYWYuY3JlYXRlKCk7XG5cbiAgLy8gIFN0ZW1cbiAgbGV0IHN0ZW0gPSBuZXcgVHJlZUNvbXBvbmVudChcbiAgICBnZW9tZXRyeSxcbiAgICBjb2xvcnMuYnJvd24sXG4gICAgWzAsIDAsIDBdLFxuICAgIFswLjMsIDEuNSwgMC4zXVxuICApO1xuICBzdGVtID0gc3RlbS5jcmVhdGUoKTtcbiAgc3RlbS5uYW1lID0gXCJzdGVtXCI7XG5cbiAgLy8gVHJlZVxuICBsZXQgdHJlZSA9IG5ldyBUSFJFRS5Hcm91cCgpO1xuICB0cmVlLmFkZChkYXJrTGVhZjAxKTtcbiAgdHJlZS5hZGQoZGFya0xlYWYwMik7XG4gIHRyZWUuYWRkKGRhcmtMZWFmMDMpO1xuICB0cmVlLmFkZChkYXJrTGVhZjA0KTtcbiAgdHJlZS5hZGQobGlnaHRMZWFmKTtcbiAgdHJlZS5hZGQoc3RlbSk7XG4gIHJldHVybiB0cmVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVHJlZXMobikge1xuICBsZXQgdHJlZXMgPSBbXTtcbiAgY29uc3Qgc2NhbGVIZWlnaHQgPSAzNyAvIChDT05TVEFOVFMuU0laRV9HUk9VTkQgLyA1MCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgbGV0IHRyZWUgPSBUcmVlKCk7XG4gICAgbGV0IHNjYWxlID0gNTAgKyBNYXRoLnJhbmRvbSgpICogKDEwMCAtIDUwKTtcbiAgICBsZXQgeCA9XG4gICAgICBNYXRoLnJhbmRvbSgpICogKENPTlNUQU5UUy5TSVpFX0dST1VORCAtIDIwMCkgK1xuICAgICAgKC1DT05TVEFOVFMuU0laRV9HUk9VTkQgLyAyICsgMTAwKTtcbiAgICBsZXQgeSA9IHNjYWxlSGVpZ2h0ICogKENPTlNUQU5UUy5TSVpFX0dST1VORCAvIHNjYWxlKTtcbiAgICBsZXQgeiA9XG4gICAgICBNYXRoLnJhbmRvbSgpICogKC00MDAgLSAoQ09OU1RBTlRTLlNJWkVfR1JPVU5EIC8gMiAtIDEwMCkgLSAwKSAtIC00MDA7XG4gICAgdHJlZS5wb3NpdGlvbi5zZXQoeCwgeSwgeik7XG4gICAgdHJlZS5zY2FsZS5zZXQoXG4gICAgICBDT05TVEFOVFMuU0laRV9HUk9VTkQgLyBzY2FsZSxcbiAgICAgIENPTlNUQU5UUy5TSVpFX0dST1VORCAvIHNjYWxlLFxuICAgICAgQ09OU1RBTlRTLlNJWkVfR1JPVU5EIC8gc2NhbGVcbiAgICApO1xuICAgIHRyZWVzLnB1c2godHJlZSk7XG4gIH1cbiAgcmV0dXJuIHRyZWVzO1xufVxuIiwiaW1wb3J0IHsgVHJlZXMgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50c1wiO1xuaW1wb3J0IENPTlNUQU5UUyBmcm9tIFwiLi4vLi4vdXRpbHMvY29udGFudHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbG9hZFRyZWUoZ2xvYmFsVmFyKSB7XG4gIGxldCB0cmVlcyA9IFRyZWVzKENPTlNUQU5UUy5OX1RSRUUpO1xuICB0cmVlcy5mb3JFYWNoKCh0cmVlKSA9PiB7XG4gICAgdHJlZS5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICBnbG9iYWxWYXIuc2NlbmUuYWRkKHRyZWUpO1xuICAgIGdsb2JhbFZhci5jb2xsaWRhYmxlTWVzaExpc3QucHVzaCh0cmVlKTtcbiAgfSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMmE0MzkwNTYyMjkzYzNjNTAyZjQ5OTljYzg3M2QzZDAucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjg3NWFhMGQ0N2E1MWQ0NGY3OWQ1ZDRlMDQyYzM2NjI4LmdsYlwiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIzMTIxMjExYWEwZWRkMjU4MDAwYjgyNTE0NmUzM2E5MC5nbGJcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYTFhZDk3NzM2M2NjNWEwMzk2YTU5MDY0OTViNDdmNDEuZ2xiXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImI2ODhiNjk0ZTQ5MGQzOThiM2ZlODZlZmUyYzA3ZGM2LmdsYlwiOyIsImltcG9ydCBNb3VudGFpbjEgZnJvbSBcIi4vbW91bnRhaW4xLmdsYlwiO1xuaW1wb3J0IE1vdW50YWluMiBmcm9tIFwiLi9tb3VudGFpbjIuZ2xiXCI7XG5pbXBvcnQgU3VuIGZyb20gXCIuL3N1bi5nbGJcIjtcbmltcG9ydCBDbG91ZCBmcm9tIFwiLi9jbG91ZC5nbGJcIjtcbmltcG9ydCBCZWFyIGZyb20gXCIuL2JlYXIuZ2xiXCI7XG5pbXBvcnQgQ293IGZyb20gXCIuL2Nvdy5nbGJcIjtcbmltcG9ydCBDcm9jb2RpbGUgZnJvbSBcIi4vY3JvY29kaWxlLmdsYlwiO1xuaW1wb3J0IER1Y2sgZnJvbSBcIi4vZHVjay5nbGJcIjtcbmltcG9ydCBFbGVwaGFudCBmcm9tIFwiLi9lbGVwaGFudC5nbGJcIjtcbmltcG9ydCBHaXJhZmZlIGZyb20gXCIuL2dpcmFmZmUuZ2xiXCI7XG5pbXBvcnQgUGlnIGZyb20gXCIuL3BpZy5nbGJcIjtcbmltcG9ydCBSYWJiaXQgZnJvbSBcIi4vcmFiYml0LmdsYlwiO1xuaW1wb3J0IFRpZ2VyIGZyb20gXCIuL3RpZ2VyLmdsYlwiO1xuXG5jb25zdCBBbmltYWxzID0gW1xuICBCZWFyLFxuICBDb3csXG4gIENyb2NvZGlsZSxcbiAgRHVjayxcbiAgRWxlcGhhbnQsXG4gIEdpcmFmZmUsXG4gIFBpZyxcbiAgUmFiYml0LFxuICBUaWdlcixcbl07XG5leHBvcnQgeyBNb3VudGFpbjEsIE1vdW50YWluMiwgU3VuLCBDbG91ZCwgQW5pbWFscyB9O1xuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjdiMTQzYTA0MDNjYzA5YWJjMTY1YmY4NmJkNTZlNGQ2LmdsYlwiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI5N2RjNzcxMzhkYjEwYjE3ODJhYWI3YWQ1NWQ0ZmIxYi5nbGJcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiY2Y4N2Y5NDYxNDg3NmRjMjkwOGZlNTdiMzlkMjEzM2EuZ2xiXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjRlMGM0ZmY4ZTY1MmMxZDhmODgzMmRmNGVlNGE5ODY3LmdsYlwiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIxZTY5OTI2NTYyZTVlMTRmMGRiMzRkMGY1ZmUyZjMyMi5nbGJcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMWEyOGVmYmQ1N2Q5MTc5YjhlZWMzNTRiMDE5M2UyN2IuZ2xiXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjliOTNjNmY0MmQyYTFlNmE4OWQyOWMwZTNhMzQxMzVmLmdsYlwiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhZjM3ZjQxNGQzODU5YWEyM2ZjNWI0NjgzMWYyZGMwMC5nbGJcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYTkwOWY2ZDgwMTgxOWNiNGVkMDNlNzc5ZWE2YTA1OWMuZ2xiXCI7IiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XG5cbmNsYXNzIFZpc2l0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb2xvciwgaGVpZ2h0LCB3aWR0aCwgZGVwdGgpIHtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5kZXB0aCA9IGRlcHRoO1xuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICB0aGlzLl92aXNpdG9yID0gbnVsbDtcbiAgfVxuICBjcmVhdGUoKSB7XG4gICAgdmFyIGdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLmRlcHRoKTtcbiAgICB2YXIgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoeyBjb2xvcjogdGhpcy5jb2xvciB9KTtcbiAgICB2YXIgdmlzaXRvciA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG5cbiAgICB0aGlzLl92aXNpdG9yID0gdmlzaXRvcjtcbiAgICByZXR1cm4gdmlzaXRvcjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWaXNpdG9yO1xuIiwidmFyIFN0YXRzID0gZnVuY3Rpb24gKCkge1xuXG5cdHZhciBtb2RlID0gMDtcblxuXHR2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTtcblx0Y29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO2N1cnNvcjpwb2ludGVyO29wYWNpdHk6MC45O3otaW5kZXg6MTAwMDAnO1xuXHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgZnVuY3Rpb24gKCBldmVudCApIHtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0c2hvd1BhbmVsKCArKyBtb2RlICUgY29udGFpbmVyLmNoaWxkcmVuLmxlbmd0aCApO1xuXG5cdH0sIGZhbHNlICk7XG5cblx0Ly9cblxuXHRmdW5jdGlvbiBhZGRQYW5lbCggcGFuZWwgKSB7XG5cblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoIHBhbmVsLmRvbSApO1xuXHRcdHJldHVybiBwYW5lbDtcblxuXHR9XG5cblx0ZnVuY3Rpb24gc2hvd1BhbmVsKCBpZCApIHtcblxuXHRcdGZvciAoIHZhciBpID0gMDsgaSA8IGNvbnRhaW5lci5jaGlsZHJlbi5sZW5ndGg7IGkgKysgKSB7XG5cblx0XHRcdGNvbnRhaW5lci5jaGlsZHJlblsgaSBdLnN0eWxlLmRpc3BsYXkgPSBpID09PSBpZCA/ICdibG9jaycgOiAnbm9uZSc7XG5cblx0XHR9XG5cblx0XHRtb2RlID0gaWQ7XG5cblx0fVxuXG5cdC8vXG5cblx0dmFyIGJlZ2luVGltZSA9ICggcGVyZm9ybWFuY2UgfHwgRGF0ZSApLm5vdygpLCBwcmV2VGltZSA9IGJlZ2luVGltZSwgZnJhbWVzID0gMDtcblxuXHR2YXIgZnBzUGFuZWwgPSBhZGRQYW5lbCggbmV3IFN0YXRzLlBhbmVsKCAnRlBTJywgJyMwZmYnLCAnIzAwMicgKSApO1xuXHR2YXIgbXNQYW5lbCA9IGFkZFBhbmVsKCBuZXcgU3RhdHMuUGFuZWwoICdNUycsICcjMGYwJywgJyMwMjAnICkgKTtcblxuXHRpZiAoIHNlbGYucGVyZm9ybWFuY2UgJiYgc2VsZi5wZXJmb3JtYW5jZS5tZW1vcnkgKSB7XG5cblx0XHR2YXIgbWVtUGFuZWwgPSBhZGRQYW5lbCggbmV3IFN0YXRzLlBhbmVsKCAnTUInLCAnI2YwOCcsICcjMjAxJyApICk7XG5cblx0fVxuXG5cdHNob3dQYW5lbCggMCApO1xuXG5cdHJldHVybiB7XG5cblx0XHRSRVZJU0lPTjogMTYsXG5cblx0XHRkb206IGNvbnRhaW5lcixcblxuXHRcdGFkZFBhbmVsOiBhZGRQYW5lbCxcblx0XHRzaG93UGFuZWw6IHNob3dQYW5lbCxcblxuXHRcdGJlZ2luOiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdGJlZ2luVGltZSA9ICggcGVyZm9ybWFuY2UgfHwgRGF0ZSApLm5vdygpO1xuXG5cdFx0fSxcblxuXHRcdGVuZDogZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRmcmFtZXMgKys7XG5cblx0XHRcdHZhciB0aW1lID0gKCBwZXJmb3JtYW5jZSB8fCBEYXRlICkubm93KCk7XG5cblx0XHRcdG1zUGFuZWwudXBkYXRlKCB0aW1lIC0gYmVnaW5UaW1lLCAyMDAgKTtcblxuXHRcdFx0aWYgKCB0aW1lID49IHByZXZUaW1lICsgMTAwMCApIHtcblxuXHRcdFx0XHRmcHNQYW5lbC51cGRhdGUoICggZnJhbWVzICogMTAwMCApIC8gKCB0aW1lIC0gcHJldlRpbWUgKSwgMTAwICk7XG5cblx0XHRcdFx0cHJldlRpbWUgPSB0aW1lO1xuXHRcdFx0XHRmcmFtZXMgPSAwO1xuXG5cdFx0XHRcdGlmICggbWVtUGFuZWwgKSB7XG5cblx0XHRcdFx0XHR2YXIgbWVtb3J5ID0gcGVyZm9ybWFuY2UubWVtb3J5O1xuXHRcdFx0XHRcdG1lbVBhbmVsLnVwZGF0ZSggbWVtb3J5LnVzZWRKU0hlYXBTaXplIC8gMTA0ODU3NiwgbWVtb3J5LmpzSGVhcFNpemVMaW1pdCAvIDEwNDg1NzYgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRpbWU7XG5cblx0XHR9LFxuXG5cdFx0dXBkYXRlOiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdGJlZ2luVGltZSA9IHRoaXMuZW5kKCk7XG5cblx0XHR9LFxuXG5cdFx0Ly8gQmFja3dhcmRzIENvbXBhdGliaWxpdHlcblxuXHRcdGRvbUVsZW1lbnQ6IGNvbnRhaW5lcixcblx0XHRzZXRNb2RlOiBzaG93UGFuZWxcblxuXHR9O1xuXG59O1xuXG5TdGF0cy5QYW5lbCA9IGZ1bmN0aW9uICggbmFtZSwgZmcsIGJnICkge1xuXG5cdHZhciBtaW4gPSBJbmZpbml0eSwgbWF4ID0gMCwgcm91bmQgPSBNYXRoLnJvdW5kO1xuXHR2YXIgUFIgPSByb3VuZCggd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSApO1xuXG5cdHZhciBXSURUSCA9IDgwICogUFIsIEhFSUdIVCA9IDQ4ICogUFIsXG5cdFx0VEVYVF9YID0gMyAqIFBSLCBURVhUX1kgPSAyICogUFIsXG5cdFx0R1JBUEhfWCA9IDMgKiBQUiwgR1JBUEhfWSA9IDE1ICogUFIsXG5cdFx0R1JBUEhfV0lEVEggPSA3NCAqIFBSLCBHUkFQSF9IRUlHSFQgPSAzMCAqIFBSO1xuXG5cdHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnY2FudmFzJyApO1xuXHRjYW52YXMud2lkdGggPSBXSURUSDtcblx0Y2FudmFzLmhlaWdodCA9IEhFSUdIVDtcblx0Y2FudmFzLnN0eWxlLmNzc1RleHQgPSAnd2lkdGg6ODBweDtoZWlnaHQ6NDhweCc7XG5cblx0dmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCggJzJkJyApO1xuXHRjb250ZXh0LmZvbnQgPSAnYm9sZCAnICsgKCA5ICogUFIgKSArICdweCBIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZic7XG5cdGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG5cblx0Y29udGV4dC5maWxsU3R5bGUgPSBiZztcblx0Y29udGV4dC5maWxsUmVjdCggMCwgMCwgV0lEVEgsIEhFSUdIVCApO1xuXG5cdGNvbnRleHQuZmlsbFN0eWxlID0gZmc7XG5cdGNvbnRleHQuZmlsbFRleHQoIG5hbWUsIFRFWFRfWCwgVEVYVF9ZICk7XG5cdGNvbnRleHQuZmlsbFJlY3QoIEdSQVBIX1gsIEdSQVBIX1ksIEdSQVBIX1dJRFRILCBHUkFQSF9IRUlHSFQgKTtcblxuXHRjb250ZXh0LmZpbGxTdHlsZSA9IGJnO1xuXHRjb250ZXh0Lmdsb2JhbEFscGhhID0gMC45O1xuXHRjb250ZXh0LmZpbGxSZWN0KCBHUkFQSF9YLCBHUkFQSF9ZLCBHUkFQSF9XSURUSCwgR1JBUEhfSEVJR0hUICk7XG5cblx0cmV0dXJuIHtcblxuXHRcdGRvbTogY2FudmFzLFxuXG5cdFx0dXBkYXRlOiBmdW5jdGlvbiAoIHZhbHVlLCBtYXhWYWx1ZSApIHtcblxuXHRcdFx0bWluID0gTWF0aC5taW4oIG1pbiwgdmFsdWUgKTtcblx0XHRcdG1heCA9IE1hdGgubWF4KCBtYXgsIHZhbHVlICk7XG5cblx0XHRcdGNvbnRleHQuZmlsbFN0eWxlID0gYmc7XG5cdFx0XHRjb250ZXh0Lmdsb2JhbEFscGhhID0gMTtcblx0XHRcdGNvbnRleHQuZmlsbFJlY3QoIDAsIDAsIFdJRFRILCBHUkFQSF9ZICk7XG5cdFx0XHRjb250ZXh0LmZpbGxTdHlsZSA9IGZnO1xuXHRcdFx0Y29udGV4dC5maWxsVGV4dCggcm91bmQoIHZhbHVlICkgKyAnICcgKyBuYW1lICsgJyAoJyArIHJvdW5kKCBtaW4gKSArICctJyArIHJvdW5kKCBtYXggKSArICcpJywgVEVYVF9YLCBURVhUX1kgKTtcblxuXHRcdFx0Y29udGV4dC5kcmF3SW1hZ2UoIGNhbnZhcywgR1JBUEhfWCArIFBSLCBHUkFQSF9ZLCBHUkFQSF9XSURUSCAtIFBSLCBHUkFQSF9IRUlHSFQsIEdSQVBIX1gsIEdSQVBIX1ksIEdSQVBIX1dJRFRIIC0gUFIsIEdSQVBIX0hFSUdIVCApO1xuXG5cdFx0XHRjb250ZXh0LmZpbGxSZWN0KCBHUkFQSF9YICsgR1JBUEhfV0lEVEggLSBQUiwgR1JBUEhfWSwgUFIsIEdSQVBIX0hFSUdIVCApO1xuXG5cdFx0XHRjb250ZXh0LmZpbGxTdHlsZSA9IGJnO1xuXHRcdFx0Y29udGV4dC5nbG9iYWxBbHBoYSA9IDAuOTtcblx0XHRcdGNvbnRleHQuZmlsbFJlY3QoIEdSQVBIX1ggKyBHUkFQSF9XSURUSCAtIFBSLCBHUkFQSF9ZLCBQUiwgcm91bmQoICggMSAtICggdmFsdWUgLyBtYXhWYWx1ZSApICkgKiBHUkFQSF9IRUlHSFQgKSApO1xuXG5cdFx0fVxuXG5cdH07XG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFN0YXRzO1xuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XG5cbmNsYXNzIExpZ2h0IHtcbiAgY29uc3RydWN0b3IoeCwgeSwgeiwgY29sb3IsIGludGVuc2l0eSkge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnogPSB6O1xuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICB0aGlzLmludGVuc2l0eSA9IGludGVuc2l0eTtcbiAgICB0aGlzLl9saWdodCA9IG51bGw7XG4gIH1cblxuICBjcmVhdGUoKSB7XG4gICAgbGV0IGxpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQodGhpcy5jb2xvciwgdGhpcy5pbnRlbnNpdHkpO1xuICAgIGxpZ2h0LnBvc2l0aW9uLnNldCh0aGlzLngsIHRoaXMueSwgdGhpcy56KTtcblxuICAgIGxpZ2h0LmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgIC8vIFNldCB1cCBzaGFkb3cgcHJvcGVydGllcyBmb3IgdGhlIGxpZ2h0XG4gICAgbGlnaHQuc2hhZG93Lm1hcFNpemUud2lkdGggPSAxMDI0O1xuICAgIGxpZ2h0LnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IDUxMjtcblxuICAgIGxpZ2h0LnNoYWRvdy5jYW1lcmEubmVhciA9IDEwMDtcbiAgICBsaWdodC5zaGFkb3cuY2FtZXJhLmZhciA9IDEyMDA7XG5cbiAgICBsaWdodC5zaGFkb3cuY2FtZXJhLmxlZnQgPSAtMTAwMDtcbiAgICBsaWdodC5zaGFkb3cuY2FtZXJhLnJpZ2h0ID0gMTAwMDtcbiAgICBsaWdodC5zaGFkb3cuY2FtZXJhLnRvcCA9IC0zNTA7XG4gICAgbGlnaHQuc2hhZG93LmNhbWVyYS5ib3R0b20gPSAzNTA7XG5cbiAgICB0aGlzLl9saWdodCA9IGxpZ2h0O1xuICAgIHJldHVybiBsaWdodDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMaWdodDtcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiO1xuaW1wb3J0IHsgR0xURkxvYWRlciB9IGZyb20gXCIuL2xpYnMvanNtL2xvYWRlcnMvR0xURkxvYWRlclwiO1xuaW1wb3J0IHsgUG9pbnRlckxvY2tDb250cm9scyB9IGZyb20gXCIuL2xpYnMvanNtL2NvbnRyb2xzL1BvaW50ZXJMb2NrQ29udHJvbHMuanNcIjtcbmltcG9ydCB7XG4gIEdsb2JhbCxcbiAgZGV0ZWN0Q29sbGlzaW9uLFxuICB1cGRhdGVWZWxvY2l0eSxcbiAgdXBkYXRlUG9zaXRpb24sXG4gIGtlZXBPbkdyb3VuZCxcbiAga2VlcEluc2lkZVdvcmxkLFxuICBhY3RpdmF0ZVBvaW50ZXJCbG9jayxcbn0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7IG9uS2V5RG93biwgb25LZXlVcCwgb25XaW5kb3dSZXNpemUgfSBmcm9tIFwiLi91dGlscy9ldmVudHNcIjtcbmltcG9ydCB7IHNldFVwUmVuZGVyZXIgfSBmcm9tIFwiLi9yZW5kZXJlclwiO1xuaW1wb3J0IHtcbiAgbG9hZEdyb3VuZCxcbiAgbG9hZE1vdW50YWlucyxcbiAgbG9hZFRyZWUsXG4gIGxvYWRWaXNpdG9yLFxuICBsb2FkU3VuLFxuICBsb2FkQ2xvdWRzLFxufSBmcm9tIFwiLi9zY2VuZS9vYmplY3RMb2FkZXJcIjtcbmltcG9ydCBTdGF0cyBmcm9tIFwiLi9saWJzL2pzbS9saWJzL3N0YXRzLm1vZHVsZS5qc1wiO1xuaW1wb3J0IHNldFVwQ2FtZXJhIGZyb20gXCIuL3NjZW5lL0NhbWVyYVwiO1xuaW1wb3J0IHNldFVwTGlnaHQgZnJvbSBcIi4vc2NlbmUvbGlnaHRcIjtcbmltcG9ydCBzZXRVcFNjZW5lIGZyb20gXCIuL3NjZW5lL1NjZW5lXCI7XG5pbXBvcnQgbG9hZEFuaW1hbHMgZnJvbSBcIi4vc2NlbmUvb2JqZWN0TG9hZGVyL2xvYWRBbmltYWxzXCI7XG5pbXBvcnQgeyB1cGRhdGVBbmltYWxQb3NpdGlvbiB9IGZyb20gXCIuL3V0aWxzL2FuaW1hbFwiO1xuXG4vLyBSdW5cbmxldCBzdGF0cztcbmxldCBjbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpO1xubGV0IGdsb2JhbFZhciA9IG5ldyBHbG9iYWwoKTtcbi8vIExvYWRlclxubGV0IGxvYWRlciA9IG5ldyBHTFRGTG9hZGVyKCk7XG4vLyBSYXljYXN0ZXIgZm9yIG9uT2JqZWN0XG5nbG9iYWxWYXIub25PYmplY3RSYXkgPSBuZXcgVEhSRUUuUmF5Y2FzdGVyKFxuICBuZXcgVEhSRUUuVmVjdG9yMygpLFxuICBuZXcgVEhSRUUuVmVjdG9yMygwLCAtMSwgMCksXG4gIDAsXG4gIDEwXG4pO1xuXG5pbml0KCk7XG5hbmltYXRlKCk7XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG4gIGdsb2JhbFZhci5jb250YWluZXIgPSBkb2N1bWVudC5ib2R5O1xuICBsZXQgZXNjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlc2NcIik7XG4gIGVzYy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgLy8gUHJpbWFyeSBzZXR1cFxuICBzZXRVcENhbWVyYShnbG9iYWxWYXIpO1xuICBzZXRVcFNjZW5lKGdsb2JhbFZhcik7XG4gIHNldFVwTGlnaHQoZ2xvYmFsVmFyKTtcblxuICAvLyBMb2FkIDNEIG9iamVjdHNcbiAgbG9hZEdyb3VuZChnbG9iYWxWYXIpO1xuICBsb2FkVHJlZShnbG9iYWxWYXIpO1xuICBsb2FkVmlzaXRvcihnbG9iYWxWYXIpO1xuICBsb2FkTW91bnRhaW5zKGdsb2JhbFZhciwgbG9hZGVyKTtcbiAgbG9hZFN1bihnbG9iYWxWYXIsIGxvYWRlcik7XG4gIGxvYWRDbG91ZHMoZ2xvYmFsVmFyLCBsb2FkZXIpO1xuICBsb2FkQW5pbWFscyhnbG9iYWxWYXIsIGxvYWRlcik7XG5cbiAgLy8gUmVuZGVyZXJcbiAgc2V0VXBSZW5kZXJlcihnbG9iYWxWYXIpO1xuXG4gIC8vIEVWRU5UU1xuICBvbldpbmRvd1Jlc2l6ZShnbG9iYWxWYXIpO1xuICBvbktleURvd24oZ2xvYmFsVmFyKTtcbiAgb25LZXlVcChnbG9iYWxWYXIpO1xuXG4gIC8vIGNvbnRyb2xzXG4gIGdsb2JhbFZhci5jb250cm9scyA9IG5ldyBQb2ludGVyTG9ja0NvbnRyb2xzKFxuICAgIGdsb2JhbFZhci5jYW1lcmEsXG4gICAgZ2xvYmFsVmFyLnJlbmRlcmVyLmRvbUVsZW1lbnRcbiAgKTtcbiAgYWN0aXZhdGVQb2ludGVyQmxvY2soZ2xvYmFsVmFyKTtcblxuICAvLyBTdGF0c1xuICBzdGF0cyA9IG5ldyBTdGF0cygpO1xuICBnbG9iYWxWYXIuY29udGFpbmVyLmFwcGVuZENoaWxkKHN0YXRzLmRvbSk7XG5cbiAgLy8gQXhlc1xuICAvLyB2YXIgYXhlc0hlbHBlciA9IG5ldyBUSFJFRS5BeGVzSGVscGVyKDIwMDApO1xuICAvLyBnbG9iYWxWYXIuc2NlbmUuYWRkKGF4ZXNIZWxwZXIpO1xufVxuXG4vLyBBbmltYXRlXG5mdW5jdGlvbiBhbmltYXRlKCkge1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gIHJlbmRlcigpO1xuICBzdGF0cy51cGRhdGUoKTtcbn1cbmZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgaWYgKGdsb2JhbFZhci5jb250cm9scy5pc0xvY2tlZCA9PT0gdHJ1ZSkge1xuICAgIGxldCBkZWx0YSA9IGNsb2NrLmdldERlbHRhKCk7XG5cbiAgICAvLyBBbmltYWxzIFVwZGF0ZVxuICAgIHVwZGF0ZUFuaW1hbFBvc2l0aW9uKGdsb2JhbFZhciwgZGVsdGEpO1xuXG4gICAgLy8gVmlzaXRvciBVcGRhdGVcbiAgICB1cGRhdGVWZWxvY2l0eShnbG9iYWxWYXIsIGRlbHRhKTtcbiAgICBkZXRlY3RDb2xsaXNpb24oZ2xvYmFsVmFyKTtcbiAgICBrZWVwSW5zaWRlV29ybGQoZ2xvYmFsVmFyKTtcbiAgICB1cGRhdGVQb3NpdGlvbihnbG9iYWxWYXIsIGRlbHRhKTtcbiAgICBrZWVwT25Hcm91bmQoZ2xvYmFsVmFyKTtcbiAgfVxuICBnbG9iYWxWYXIucmVuZGVyZXIucmVuZGVyKGdsb2JhbFZhci5zY2VuZSwgZ2xvYmFsVmFyLmNhbWVyYSk7XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR2xvYmFsKCkge1xuICB0aGlzLmNhbWVyYSA9IG51bGw7XG4gIHRoaXMuc2NlbmUgPSBudWxsO1xuICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgdGhpcy5jb250cm9scyA9IG51bGw7XG4gIHRoaXMuY29sbGlkYWJsZU1lc2hMaXN0ID0gW107XG4gIHRoaXMuYW5pbWFscyA9IFtdO1xuICB0aGlzLm9uT2JqZWN0UmF5ID0gZmFsc2U7XG4gIHRoaXMubW92ZSA9IHtcbiAgICBtb3ZlRm9yd2FyZDogZmFsc2UsXG4gICAgbW92ZUJhY2t3YXJkOiBmYWxzZSxcbiAgICBtb3ZlTGVmdDogZmFsc2UsXG4gICAgbW92ZVJpZ2h0OiBmYWxzZSxcbiAgICBjYW5KdW1wOiBmYWxzZSxcbiAgfTtcbiAgdGhpcy52ZWxvY2l0eSA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gIHRoaXMuZGlyZWN0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgdGhpcy52aXNpdG9yID0gbnVsbDtcbiAgdGhpcy5jb250YWluZXIgPSBudWxsO1xuICB0aGlzLnByZXZQb3NpdGlvbiA9IG51bGw7XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcbmltcG9ydCBDT05TVEFOVFMgZnJvbSBcIi4uL3V0aWxzL2NvbnRhbnRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFVwQ2FtZXJhKGdsb2JhbFZhcikge1xuICBnbG9iYWxWYXIuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKFxuICAgIDQ1LFxuICAgIENPTlNUQU5UUy5TQ1JFRU5fV0lEVEggLyBDT05TVEFOVFMuU0NSRUVOX0hFSUdIVCxcbiAgICAxLFxuICAgIENPTlNUQU5UUy5TSVpFX0dST1VORFxuICApO1xuICBnbG9iYWxWYXIuY2FtZXJhLnBvc2l0aW9uLnNldChcbiAgICBDT05TVEFOVFMuSU5JVEFMX1BPU0lUSU9OLngsXG4gICAgQ09OU1RBTlRTLklOSVRBTF9QT1NJVElPTi55LFxuICAgIENPTlNUQU5UUy5JTklUQUxfUE9TSVRJT04uelxuICApO1xufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XG5pbXBvcnQgQ09OU1RBTlRTIGZyb20gXCIuLi91dGlscy9jb250YW50c1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRVcFNjZW5lKGdsb2JhbFZhcikge1xuICBnbG9iYWxWYXIuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgZ2xvYmFsVmFyLnNjZW5lLmJhY2tncm91bmQgPSBuZXcgVEhSRUUuQ29sb3IoQ09OU1RBTlRTLkJBQ0tHUk9VTkRfQ09MT1IpO1xuICBnbG9iYWxWYXIuc2NlbmUuZm9nID0gbmV3IFRIUkVFLkZvZyhDT05TVEFOVFMuU1VOU0hJTkVfQ09MT1IsIDEwMDAsIDQwMDApO1xuICBnbG9iYWxWYXIuc2NlbmUuYWRkKGdsb2JhbFZhci5jYW1lcmEpO1xufVxuIiwiaW1wb3J0IENPTlNUQU5UUyBmcm9tIFwiLi4vLi4vdXRpbHMvY29udGFudHNcIjtcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiO1xuaW1wb3J0IExpZ2h0IGZyb20gXCIuL0xpZ2h0LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFVwTGlnaHQoZ2xvYmFsVmFyKSB7XG4gIGdsb2JhbFZhci5zY2VuZS5hZGQobmV3IFRIUkVFLkFtYmllbnRMaWdodChDT05TVEFOVFMuU1VOU0hJTkVfQ09MT1IpKTtcbiAgbGV0IGxpZ2h0T2JqZWN0ID0gbmV3IExpZ2h0KDEwMDAsIDEwMDAsIDEwMDAsIENPTlNUQU5UUy5TVU5TSElORV9DT0xPUiwgMS41KTtcbiAgbGV0IGxpZ2h0ID0gbGlnaHRPYmplY3QuY3JlYXRlKCk7XG4gIGdsb2JhbFZhci5zY2VuZS5hZGQobGlnaHQpO1xufVxuIiwiaW1wb3J0IHsgR3JvdW5kIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHNcIjtcbmltcG9ydCBDT05TVEFOVFMgZnJvbSBcIi4uLy4uL3V0aWxzL2NvbnRhbnRzXCI7XG5pbXBvcnQgR3Jhc3NJbWFnZSBmcm9tIFwiLi4vLi4vdGV4dHVyZXMvZ3JvdW5kL2dyYXNzbGlnaHQtYmlnLnBuZ1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsb2FkR3JvdW5kKGdsb2JhbFZhcikge1xuICBsZXQgZ3JvdW5kT2JqZWN0ID0gbmV3IEdyb3VuZChcbiAgICBDT05TVEFOVFMuU0laRV9HUk9VTkQsXG4gICAgQ09OU1RBTlRTLlJFQVBFQVQsXG4gICAgR3Jhc3NJbWFnZVxuICApO1xuICBsZXQgZ3JvdW5kID0gZ3JvdW5kT2JqZWN0LmNyZWF0ZSgpO1xuICBnbG9iYWxWYXIuc2NlbmUuYWRkKGdyb3VuZCk7XG59XG4iLCJpbXBvcnQgVmlzaXRvciBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9WaXNpdG9yXCI7XG5pbXBvcnQgQ09OU1RBTlRTIGZyb20gXCIuLi8uLi91dGlscy9jb250YW50c1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsb2FkVmlzaXRvcihnbG9iYWxWYXIpIHtcbiAgbGV0IHZpc2l0b3JPYmogPSBuZXcgVmlzaXRvcihDT05TVEFOVFMuVklTSVRPUi5jb2xvciwgMTAsIDEwLCAxMCk7XG4gIGxldCB2aXNpdG9yID0gdmlzaXRvck9iai5jcmVhdGUoKTtcbiAgdmlzaXRvci5wb3NpdGlvbi5zZXQoMTAsIDUsIDEwKTtcbiAgdmlzaXRvci52aXNpYmxlID0gZmFsc2U7XG4gIGdsb2JhbFZhci52aXNpdG9yID0gdmlzaXRvcjtcbiAgZ2xvYmFsVmFyLnNjZW5lLmFkZCh2aXNpdG9yKTtcbiAgZ2xvYmFsVmFyLmNhbWVyYS5hZGQodmlzaXRvcik7XG59XG4iLCJpbXBvcnQgeyBNb3VudGFpbjEsIE1vdW50YWluMiB9IGZyb20gXCIuLi8uLi9tb2RlbHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbG9hZE1vdW50YWlucyhnbG9iYWxWYXIsIGxvYWRlcikge1xuICBsZXQgbW91bnRhaW4xLCBtb3VudGFpbjI7XG4gIC8vIE1vdW50YWluc1xuICBsb2FkZXIubG9hZChcbiAgICBNb3VudGFpbjEsXG4gICAgKGdsdGYpID0+IHtcbiAgICAgIG1vdW50YWluMSA9IGdsdGYuc2NlbmVzWzBdO1xuICAgICAgbW91bnRhaW4xLnNjYWxlLnNldCg1MDAsIDUwMCwgNTAwKTtcbiAgICAgIG1vdW50YWluMS50cmFuc2xhdGVYKDMwMDApO1xuICAgICAgbW91bnRhaW4xLnRyYW5zbGF0ZVooOTUwKTtcbiAgICAgIGdsb2JhbFZhci5zY2VuZS5hZGQobW91bnRhaW4xKTtcbiAgICAgIGdsb2JhbFZhci5jb2xsaWRhYmxlTWVzaExpc3QucHVzaChtb3VudGFpbjEpO1xuICAgIH0sXG4gICAgdW5kZWZpbmVkLFxuICAgIChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfVxuICApO1xuICBsb2FkZXIubG9hZChcbiAgICBNb3VudGFpbjIsXG4gICAgKGdsdGYpID0+IHtcbiAgICAgIG1vdW50YWluMiA9IGdsdGYuc2NlbmVzWzBdO1xuICAgICAgbW91bnRhaW4yLnNjYWxlLnNldCg1MDAsIDUwMCwgNTAwKTtcbiAgICAgIG1vdW50YWluMi50cmFuc2xhdGVYKDcwMCk7XG4gICAgICBtb3VudGFpbjIudHJhbnNsYXRlWigxMDAwKTtcbiAgICAgIGdsb2JhbFZhci5zY2VuZS5hZGQobW91bnRhaW4yKTtcbiAgICAgIGdsb2JhbFZhci5jb2xsaWRhYmxlTWVzaExpc3QucHVzaChtb3VudGFpbjIpO1xuICAgIH0sXG4gICAgdW5kZWZpbmVkLFxuICAgIChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfVxuICApO1xuICBsb2FkZXIubG9hZChcbiAgICBNb3VudGFpbjIsXG4gICAgKGdsdGYpID0+IHtcbiAgICAgIG1vdW50YWluMiA9IGdsdGYuc2NlbmVzWzBdO1xuICAgICAgZ2xvYmFsVmFyLnNjZW5lLmFkZChtb3VudGFpbjIpO1xuICAgICAgbW91bnRhaW4yLnNjYWxlLnNldCg1MDAsIDUwMCwgNTAwKTtcbiAgICAgIG1vdW50YWluMi50cmFuc2xhdGVYKC0xMDApO1xuICAgICAgbW91bnRhaW4yLnRyYW5zbGF0ZVooMTAwMCk7XG4gICAgICBnbG9iYWxWYXIuY29sbGlkYWJsZU1lc2hMaXN0LnB1c2gobW91bnRhaW4yKTtcbiAgICB9LFxuICAgIHVuZGVmaW5lZCxcbiAgICAoZXJyb3IpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgKTtcbn1cbiIsImltcG9ydCB7IFN1biB9IGZyb20gXCIuLi8uLi9tb2RlbHNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxvYWRTdW4oZ2xvYmFsVmFyLCBsb2FkZXIpIHtcbiAgbGV0IHN1bjtcbiAgbG9hZGVyLmxvYWQoXG4gICAgU3VuLFxuICAgIChnbHRmKSA9PiB7XG4gICAgICBzdW4gPSBnbHRmLnNjZW5lc1swXTtcbiAgICAgIHN1bi5zY2FsZS5zZXQoMTAwLCAxMDAsIDEwMCk7XG4gICAgICBzdW4ucG9zaXRpb24uc2V0KDEwMDAsIDEwMDAsIDEwMDApO1xuICAgICAgZ2xvYmFsVmFyLnNjZW5lLmFkZChzdW4pO1xuICAgIH0sXG4gICAgdW5kZWZpbmVkLFxuICAgIChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfVxuICApO1xufVxuIiwiaW1wb3J0IHsgQ2xvdWQgfSBmcm9tIFwiLi4vLi4vbW9kZWxzXCI7XG5pbXBvcnQgQ09OU1RBTlRTIGZyb20gXCIuLi8uLi91dGlscy9jb250YW50c1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsb2FkQ2xvdWRzKGdsb2JhbFZhciwgbG9hZGVyKSB7XG4gIGxldCBjbG91ZCwgeCwgeSwgejtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBDT05TVEFOVFMuTl9DTE9VRFM7IGkrKykge1xuICAgIGxvYWRlci5sb2FkKFxuICAgICAgQ2xvdWQsXG4gICAgICAoZ2x0ZikgPT4ge1xuICAgICAgICB4ID0gTWF0aC5yYW5kb20oKSAqIENPTlNUQU5UUy5TSVpFX0dST1VORCArIC1DT05TVEFOVFMuU0laRV9HUk9VTkQgLyAyO1xuICAgICAgICB5ID0gTWF0aC5yYW5kb20oKSAqICgxMDAwIC0gNTAwKSArIDUwMDtcbiAgICAgICAgeiA9IE1hdGgucmFuZG9tKCkgKiBDT05TVEFOVFMuU0laRV9HUk9VTkQgKyAtQ09OU1RBTlRTLlNJWkVfR1JPVU5EIC8gMjtcblxuICAgICAgICBjbG91ZCA9IGdsdGYuc2NlbmVzWzBdO1xuICAgICAgICBjbG91ZC5zY2FsZS5zZXQoMTAwLCAxMDAsIDEwMCk7XG4gICAgICAgIGNsb3VkLnBvc2l0aW9uLnNldCh4LCB5LCB6KTtcbiAgICAgICAgZ2xvYmFsVmFyLnNjZW5lLmFkZChjbG91ZCk7XG4gICAgICB9LFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFuaW1hbHMgfSBmcm9tIFwiLi4vLi4vbW9kZWxzXCI7XG5pbXBvcnQgQ09OU1RBTlRTIGZyb20gXCIuLi8uLi91dGlscy9jb250YW50c1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsb2FkQW5pbWFscyhnbG9iYWxWYXIsIGxvYWRlcikge1xuICBsZXQgYW5pbWFsLCB4LCB6O1xuICBsZXQgc2NhbGUgPSAxMyxcbiAgICByYW5kb21BbmltYWw7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgQ09OU1RBTlRTLk5fQU5JTUFMUzsgaSsrKSB7XG4gICAgcmFuZG9tQW5pbWFsID0gcGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIEFuaW1hbHMubGVuZ3RoKTtcbiAgICBsb2FkZXIubG9hZChcbiAgICAgIEFuaW1hbHNbcmFuZG9tQW5pbWFsXSxcbiAgICAgIChnbHRmKSA9PiB7XG4gICAgICAgIHggPVxuICAgICAgICAgIE1hdGgucmFuZG9tKCkgKiAoQ09OU1RBTlRTLlNJWkVfR1JPVU5EIC0gMjAwKSArXG4gICAgICAgICAgKC1DT05TVEFOVFMuU0laRV9HUk9VTkQgLyAyICsgMTAwKTtcbiAgICAgICAgeiA9XG4gICAgICAgICAgTWF0aC5yYW5kb20oKSAqICgtNDAwIC0gKENPTlNUQU5UUy5TSVpFX0dST1VORCAvIDIgLSAxMDApIC0gMCkgLSAtNDAwO1xuXG4gICAgICAgIGFuaW1hbCA9IGdsdGYuc2NlbmVzWzBdO1xuICAgICAgICBhbmltYWwuc2NhbGUuc2V0KHNjYWxlLCBzY2FsZSwgc2NhbGUpO1xuICAgICAgICBhbmltYWwucG9zaXRpb24uc2V0KHgsIDAsIHopO1xuICAgICAgICBhbmltYWwucm90YXRlWShNYXRoLlBJIC8gMik7XG5cbiAgICAgICAgZ2xvYmFsVmFyLnNjZW5lLmFkZChhbmltYWwpO1xuICAgICAgICBnbG9iYWxWYXIuY29sbGlkYWJsZU1lc2hMaXN0LnB1c2goYW5pbWFsKTtcbiAgICAgICAgZ2xvYmFsVmFyLmFuaW1hbHMucHVzaChhbmltYWwpO1xuICAgICAgfSxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcbmltcG9ydCBDT05TVEFOVFMgZnJvbSBcIi4uL3V0aWxzL2NvbnRhbnRzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRVcFJlbmRlcmVyKGdsb2JhbFZhcikge1xuICBnbG9iYWxWYXIucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7IGFudGlhbGlhczogdHJ1ZSB9KTtcbiAgZ2xvYmFsVmFyLnJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICBnbG9iYWxWYXIucmVuZGVyZXIuc2V0U2l6ZShDT05TVEFOVFMuU0NSRUVOX1dJRFRILCBDT05TVEFOVFMuU0NSRUVOX0hFSUdIVCk7XG4gIGdsb2JhbFZhci5jb250YWluZXIuYXBwZW5kQ2hpbGQoZ2xvYmFsVmFyLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuXG4gIGdsb2JhbFZhci5yZW5kZXJlci5vdXRwdXRFbmNvZGluZyA9IFRIUkVFLnNSR0JFbmNvZGluZztcbiAgZ2xvYmFsVmFyLnJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTtcbiAgZ2xvYmFsVmFyLnJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcbn1cbiIsImltcG9ydCBDT05TVEFOVFMgZnJvbSBcIi4vY29udGFudHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIG9uS2V5RG93bihnbG9iYWxWYXIpIHtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBcImtleWRvd25cIixcbiAgICBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xuICAgICAgICBjYXNlIDM4OiAvLyB1cFxuICAgICAgICBjYXNlIDg3OiAvLyB3XG4gICAgICAgICAgZ2xvYmFsVmFyLm1vdmUubW92ZUZvcndhcmQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMzc6IC8vIGxlZnRcbiAgICAgICAgY2FzZSA2NTogLy8gYVxuICAgICAgICAgIGdsb2JhbFZhci5tb3ZlLm1vdmVMZWZ0ID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDQwOiAvLyBkb3duXG4gICAgICAgIGNhc2UgODM6IC8vIHNcbiAgICAgICAgICBnbG9iYWxWYXIubW92ZS5tb3ZlQmFja3dhcmQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMzk6IC8vIHJpZ2h0XG4gICAgICAgIGNhc2UgNjg6IC8vIGRcbiAgICAgICAgICBnbG9iYWxWYXIubW92ZS5tb3ZlUmlnaHQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMzI6IC8vIHNwYWNlXG4gICAgICAgICAgaWYgKGdsb2JhbFZhci5tb3ZlLmNhbkp1bXAgPT09IHRydWUpIGdsb2JhbFZhci52ZWxvY2l0eS55ICs9IDM1MDtcbiAgICAgICAgICBnbG9iYWxWYXIubW92ZS5jYW5KdW1wID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSxcbiAgICBmYWxzZVxuICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9uS2V5VXAoZ2xvYmFsVmFyKSB7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgXCJrZXl1cFwiLFxuICAgIGZ1bmN0aW9uIChlKSB7XG4gICAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcbiAgICAgICAgY2FzZSAzODogLy8gdXBcbiAgICAgICAgY2FzZSA4NzogLy8gd1xuICAgICAgICAgIGdsb2JhbFZhci5tb3ZlLm1vdmVGb3J3YXJkID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAzNzogLy8gbGVmdFxuICAgICAgICBjYXNlIDY1OiAvLyBhXG4gICAgICAgICAgZ2xvYmFsVmFyLm1vdmUubW92ZUxlZnQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDQwOiAvLyBkb3duXG4gICAgICAgIGNhc2UgODM6IC8vIHNcbiAgICAgICAgICBnbG9iYWxWYXIubW92ZS5tb3ZlQmFja3dhcmQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDM5OiAvLyByaWdodFxuICAgICAgICBjYXNlIDY4OiAvLyBkXG4gICAgICAgICAgZ2xvYmFsVmFyLm1vdmUubW92ZVJpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSxcbiAgICBmYWxzZVxuICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9uV2luZG93UmVzaXplKGdsb2JhbFZhcikge1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBcInJlc2l6ZVwiLFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIGdsb2JhbFZhci5yZW5kZXJlci5zZXRTaXplKFxuICAgICAgICBDT05TVEFOVFMuU0NSRUVOX1dJRFRILFxuICAgICAgICBDT05TVEFOVFMuU0NSRUVOX0hFSUdIVFxuICAgICAgKTtcblxuICAgICAgZ2xvYmFsVmFyLmNhbWVyYS5hc3BlY3QgPVxuICAgICAgICBDT05TVEFOVFMuU0NSRUVOX1dJRFRIIC8gQ09OU1RBTlRTLlNDUkVFTl9IRUlHSFQ7XG4gICAgICBnbG9iYWxWYXIuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB9LFxuICAgIGZhbHNlXG4gICk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhY3RpdmF0ZVBvaW50ZXJMb2NrKGdsb2JhbFZhcikge1xuICBsZXQgYmxvY2tlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmxvY2tlclwiKTtcbiAgbGV0IGluc3RydWN0aW9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5zdHJ1Y3Rpb25zXCIpO1xuICBsZXQgZXNjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlc2NcIik7XG5cbiAgaW5zdHJ1Y3Rpb25zLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgXCJjbGlja1wiLFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIGdsb2JhbFZhci5jb250cm9scy5sb2NrKCk7XG4gICAgICBpZiAoZ2xvYmFsVmFyLnByZXZQb3NpdGlvbikge1xuICAgICAgICBnbG9iYWxWYXIuY29udHJvbHNcbiAgICAgICAgICAuZ2V0T2JqZWN0KClcbiAgICAgICAgICAucG9zaXRpb24uc2V0KFxuICAgICAgICAgICAgZ2xvYmFsVmFyLnByZXZQb3NpdGlvbi54LFxuICAgICAgICAgICAgZ2xvYmFsVmFyLnByZXZQb3NpdGlvbi55LFxuICAgICAgICAgICAgZ2xvYmFsVmFyLnByZXZQb3NpdGlvbi56XG4gICAgICAgICAgKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZ2xvYmFsVmFyLmNvbnRyb2xzLmdldE9iamVjdCgpLnBvc2l0aW9uKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGZhbHNlXG4gICk7XG5cbiAgZ2xvYmFsVmFyLmNvbnRyb2xzLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2NrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBpbnN0cnVjdGlvbnMuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGJsb2NrZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGVzYy5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgfSk7XG5cbiAgZ2xvYmFsVmFyLmNvbnRyb2xzLmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmxvY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgIGdsb2JhbFZhci5wcmV2UG9zaXRpb24gPSBnbG9iYWxWYXIuY29udHJvbHMuZ2V0T2JqZWN0KCkucG9zaXRpb247XG4gICAgLy8gY29uc29sZS5sb2coZ2xvYmFsVmFyLnByZXZQb3NpdGlvbik7XG4gICAgYmxvY2tlci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIGluc3RydWN0aW9ucy5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICBlc2Muc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwidGhyZWVcIjtcbmltcG9ydCBDT05TVEFOVFMgZnJvbSBcIi4vY29udGFudHNcIjtcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVBbmltYWxWZWxvY2l0eShnbG9iYWxWYXIsIGRlbHRhKSB7fVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQW5pbWFsUG9zaXRpb24oZ2xvYmFsVmFyLCBkZWx0YSkge1xuICBsZXQgYW5pbWFsLCBkaXJlY3Rpb24sIHJhbmRvbURpcmVjdGlvbjtcbiAgbGV0IG1vdmVTcGVlZCA9IE1hdGgucmFuZG9tKCkgKiA0MDAgKiBkZWx0YTtcbiAgbGV0IHZlYyA9IG5ldyBWZWN0b3IzKDEsIDAsIDApO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZ2xvYmFsVmFyLmFuaW1hbHMubGVuZ3RoOyBpKyspIHtcbiAgICAvLyByYW5kb21EaXJlY3Rpb24gPSBwYXJzZUludChNYXRoLnJhbmRvbSgpICogNCk7XG4gICAgYW5pbWFsID0gZ2xvYmFsVmFyLmFuaW1hbHNbaV07XG4gICAgYW5pbWFsLnBvc2l0aW9uLmFkZFNjYWxlZFZlY3Rvcih2ZWMsIDEpO1xuICAgIGlmIChhbmltYWwucG9zaXRpb24ueCA+IENPTlNUQU5UUy5TSVpFX0dST1VORCAvIDIpIHtcbiAgICAgIGFuaW1hbC5wb3NpdGlvbi54ID0gLUNPTlNUQU5UUy5TSVpFX0dST1VORCAvIDI7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBrZWVwQW5pbWFsSW5zaWRlKGdsb2JhbFZhciwgZGVsdGEpIHt9XG4iLCJpbXBvcnQgQ09OU1RBTlRTIGZyb20gXCIuL2NvbnRhbnRzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVWZWxvY2l0eShnbG9iYWxWYXIsIGRlbHRhKSB7XG4gIGdsb2JhbFZhci52ZWxvY2l0eS54IC09IGdsb2JhbFZhci52ZWxvY2l0eS54ICogMTAuMCAqIGRlbHRhO1xuICBnbG9iYWxWYXIudmVsb2NpdHkueiAtPSBnbG9iYWxWYXIudmVsb2NpdHkueiAqIDEwLjAgKiBkZWx0YTtcbiAgZ2xvYmFsVmFyLnZlbG9jaXR5LnkgLT0gOS44ICogQ09OU1RBTlRTLlZJU0lUT1IubWFzcyAqIGRlbHRhOyAvLyAxMDAuMCA9IG1hc3NcblxuICBnbG9iYWxWYXIuZGlyZWN0aW9uLnogPVxuICAgIE51bWJlcihnbG9iYWxWYXIubW92ZS5tb3ZlRm9yd2FyZCkgLSBOdW1iZXIoZ2xvYmFsVmFyLm1vdmUubW92ZUJhY2t3YXJkKTtcbiAgZ2xvYmFsVmFyLmRpcmVjdGlvbi54ID1cbiAgICBOdW1iZXIoZ2xvYmFsVmFyLm1vdmUubW92ZVJpZ2h0KSAtIE51bWJlcihnbG9iYWxWYXIubW92ZS5tb3ZlTGVmdCk7XG4gIGdsb2JhbFZhci5kaXJlY3Rpb24ubm9ybWFsaXplKCk7IC8vIHRoaXMgZW5zdXJlcyBjb25zaXN0ZW50IG1vdmVtZW50cyBpbiBhbGwgZ2xvYmFsVmFyLmRpcmVjdGlvbnNcblxuICBpZiAoZ2xvYmFsVmFyLm1vdmUubW92ZUZvcndhcmQgfHwgZ2xvYmFsVmFyLm1vdmUubW92ZUJhY2t3YXJkKVxuICAgIGdsb2JhbFZhci52ZWxvY2l0eS56IC09IGdsb2JhbFZhci5kaXJlY3Rpb24ueiAqIDQwMC4wICogZGVsdGE7XG4gIGlmIChnbG9iYWxWYXIubW92ZS5tb3ZlTGVmdCB8fCBnbG9iYWxWYXIubW92ZS5tb3ZlUmlnaHQpXG4gICAgZ2xvYmFsVmFyLnZlbG9jaXR5LnggLT0gZ2xvYmFsVmFyLmRpcmVjdGlvbi54ICogNDAwLjAgKiBkZWx0YTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQb3NpdGlvbihnbG9iYWxWYXIsIGRlbHRhKSB7XG4gIGdsb2JhbFZhci5jb250cm9scy5tb3ZlUmlnaHQoXG4gICAgLWdsb2JhbFZhci52ZWxvY2l0eS54ICogZGVsdGEgKiBDT05TVEFOVFMuVklTSVRPUi5tb3ZlbWVudFNwZWVkXG4gICk7XG4gIGdsb2JhbFZhci5jb250cm9scy5tb3ZlRm9yd2FyZChcbiAgICAtZ2xvYmFsVmFyLnZlbG9jaXR5LnogKiBkZWx0YSAqIENPTlNUQU5UUy5WSVNJVE9SLm1vdmVtZW50U3BlZWRcbiAgKTtcbiAgZ2xvYmFsVmFyLmNvbnRyb2xzLmdldE9iamVjdCgpLnBvc2l0aW9uLnkgKz0gZ2xvYmFsVmFyLnZlbG9jaXR5LnkgKiBkZWx0YTsgLy8gbmV3IGJlaGF2aW9yXG59XG5leHBvcnQgZnVuY3Rpb24ga2VlcE9uR3JvdW5kKGdsb2JhbFZhcikge1xuICBpZiAoZ2xvYmFsVmFyLmNvbnRyb2xzLmdldE9iamVjdCgpLnBvc2l0aW9uLnkgPCBDT05TVEFOVFMuSU5JVEFMX1BPU0lUSU9OLnkpIHtcbiAgICBnbG9iYWxWYXIudmVsb2NpdHkueSA9IDA7XG4gICAgZ2xvYmFsVmFyLmNvbnRyb2xzLmdldE9iamVjdCgpLnBvc2l0aW9uLnkgPSBDT05TVEFOVFMuSU5JVEFMX1BPU0lUSU9OLnk7XG5cbiAgICBnbG9iYWxWYXIubW92ZS5jYW5KdW1wID0gdHJ1ZTtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGtlZXBJbnNpZGVXb3JsZChnbG9iYWxWYXIpIHtcbiAgbGV0IHZpc2l0b3JQb3NpdGlvbiA9IGdsb2JhbFZhci5jb250cm9scy5nZXRPYmplY3QoKS5wb3NpdGlvbjtcbiAgaWYgKFxuICAgIHZpc2l0b3JQb3NpdGlvbi54ICsgMTAwID4gQ09OU1RBTlRTLlNJWkVfR1JPVU5EIC8gMiB8fFxuICAgIHZpc2l0b3JQb3NpdGlvbi54IC0gMTAwIDwgLUNPTlNUQU5UUy5TSVpFX0dST1VORCAvIDIgfHxcbiAgICB2aXNpdG9yUG9zaXRpb24ueiArIDEwMCA+IENPTlNUQU5UUy5TSVpFX0dST1VORCAvIDIgfHxcbiAgICB2aXNpdG9yUG9zaXRpb24ueiAtIDEwMCA8IC1DT05TVEFOVFMuU0laRV9HUk9VTkQgLyAyXG4gICkge1xuICAgIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGNvbGxpc2lvblJlc3VsdHMpO1xuICAgICAgZ2xvYmFsVmFyLnZlbG9jaXR5LnggPSBNYXRoLm1heCgwLCBnbG9iYWxWYXIudmVsb2NpdHkueCk7XG4gICAgICBnbG9iYWxWYXIudmVsb2NpdHkueiA9IE1hdGgubWF4KDAsIGdsb2JhbFZhci52ZWxvY2l0eS56KTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZXRlY3RDb2xsaXNpb24oZ2xvYmFsVmFyKSB7XG4gIC8vIFJheWNhc3RlciBmb3IganVtcGluZ1xuICBnbG9iYWxWYXIub25PYmplY3RSYXkucmF5Lm9yaWdpbi5jb3B5KFxuICAgIGdsb2JhbFZhci5jb250cm9scy5nZXRPYmplY3QoKS5wb3NpdGlvblxuICApO1xuICBnbG9iYWxWYXIub25PYmplY3RSYXkucmF5Lm9yaWdpbi55IC09IDEwO1xuICBsZXQgaW50ZXJzZWN0aW9ucyA9IGdsb2JhbFZhci5vbk9iamVjdFJheS5pbnRlcnNlY3RPYmplY3RzKFxuICAgIGdsb2JhbFZhci5jb2xsaWRhYmxlTWVzaExpc3RcbiAgKTtcbiAgbGV0IG9uT2JqZWN0ID0gaW50ZXJzZWN0aW9ucy5sZW5ndGggPiAwO1xuXG4gIC8vIEp1bXBpbmdcbiAgaWYgKG9uT2JqZWN0ID09PSB0cnVlKSB7XG4gICAgZ2xvYmFsVmFyLnZlbG9jaXR5LnkgPSBNYXRoLm1heCgwLCBnbG9iYWxWYXIudmVsb2NpdHkueSk7XG4gICAgZ2xvYmFsVmFyLm1vdmUuY2FuSnVtcCA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ29sbGlzaW9uIHdpdGggb3RoZXIgb2JqZWN0c1xuICAgIGdsb2JhbFZhci52aXNpdG9yLnBvc2l0aW9uLmNvcHkoZ2xvYmFsVmFyLmNvbnRyb2xzLmdldE9iamVjdCgpLnBvc2l0aW9uKTtcbiAgICBsZXQgb3JpZ2luUG9pbnQgPSBnbG9iYWxWYXIudmlzaXRvci5wb3NpdGlvbi5jbG9uZSgpO1xuICAgIC8vIGNvbnNvbGUubG9nKG9yaWdpblBvaW50KTtcbiAgICBmb3IgKFxuICAgICAgbGV0IHZlcnRleEluZGV4ID0gMDtcbiAgICAgIHZlcnRleEluZGV4IDwgZ2xvYmFsVmFyLnZpc2l0b3IuZ2VvbWV0cnkudmVydGljZXMubGVuZ3RoO1xuICAgICAgdmVydGV4SW5kZXgrK1xuICAgICkge1xuICAgICAgbGV0IGxvY2FsVmVydGV4ID0gZ2xvYmFsVmFyLnZpc2l0b3IuZ2VvbWV0cnkudmVydGljZXNbXG4gICAgICAgIHZlcnRleEluZGV4XG4gICAgICBdLmNsb25lKCk7XG4gICAgICBsZXQgZ2xvYmFsVmVydGV4ID0gbG9jYWxWZXJ0ZXguYXBwbHlNYXRyaXg0KGdsb2JhbFZhci52aXNpdG9yLm1hdHJpeCk7XG4gICAgICBsZXQgZGlyZWN0aW9uVmVjdG9yID0gZ2xvYmFsVmVydGV4LnN1YihnbG9iYWxWYXIudmlzaXRvci5wb3NpdGlvbik7XG5cbiAgICAgIGxldCByYXkgPSBuZXcgVEhSRUUuUmF5Y2FzdGVyKFxuICAgICAgICBvcmlnaW5Qb2ludCxcbiAgICAgICAgZGlyZWN0aW9uVmVjdG9yLmNsb25lKCkubm9ybWFsaXplKClcbiAgICAgICk7XG4gICAgICBsZXQgY29sbGlzaW9uUmVzdWx0cyA9IHJheS5pbnRlcnNlY3RPYmplY3RzKFxuICAgICAgICBnbG9iYWxWYXIuY29sbGlkYWJsZU1lc2hMaXN0LFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICBjb2xsaXNpb25SZXN1bHRzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgY29sbGlzaW9uUmVzdWx0c1swXS5kaXN0YW5jZSA8IGRpcmVjdGlvblZlY3Rvci5sZW5ndGgoKVxuICAgICAgKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGNvbGxpc2lvblJlc3VsdHMpO1xuICAgICAgICBnbG9iYWxWYXIudmVsb2NpdHkueCA9IE1hdGgubWF4KDAsIGdsb2JhbFZhci52ZWxvY2l0eS54KTtcbiAgICAgICAgZ2xvYmFsVmFyLnZlbG9jaXR5LnogPSBNYXRoLm1heCgwLCBnbG9iYWxWYXIudmVsb2NpdHkueik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9